!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var o=t();for(var n in o)("object"==typeof exports?exports:e)[n]=o[n]}}(this,function(){return webpackJsonp([36,28,56],{100:function(e,t,o){"use strict";var n=!1,i=function(e){return void 0!==e&&(n=e),n};t.a=i},102:function(e,t){!function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/auth.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null,r=n.makeMacro([],["next"],function(i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("next",i.hasOwnProperty("next")?i.next:"");var s="";return s+='\n\n    <div class="form-field form-buttons">\n\n        <a href="',s+=n.suppressValue(e.getFilter("query_string").call(t,"/social/login/facebook/",{next:n.contextOrFrameLookup(t,o,"next")}),e.opts.autoescape),s+='" class="form-button btn-large btn-facebook" data-action="signup-facebook"><i class="fa fa-facebook"></i> Facebook</a>\n\n        <a href="',s+=n.suppressValue(e.getFilter("query_string").call(t,"/social/login/google-plus/",{next:n.contextOrFrameLookup(t,o,"next")}),e.opts.autoescape),s+='" class="form-button btn-large btn-googleplus" data-action="signup-google"><i class="fa fa-google"></i> Google</a>\n\n        <a href="',s+=n.suppressValue(e.getFilter("query_string").call(t,"/social/login/twitter/",{next:n.contextOrFrameLookup(t,o,"next")}),e.opts.autoescape),s+='" class="form-button btn-large btn-twitter" data-action="signup-twitter"><i class="fa fa-twitter"></i> Twitter</a>\n    </div>\n\n',o=a,new n.SafeString(s)});t.addExport("social_auth"),t.setVariable("social_auth",r),a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{root:e}}()}()},105:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(3),i=o.n(n),a=o(5),s=o.n(a),r=o(219),l=o.n(r),p=o(4),u=o(18),c=o(1),d=o(2),m=o(12),h=o(75),f=o(24),v=o(127),b=o(14),g=o(176);o.n(g);t.default=f.a.extend({displayName:"SignupPopupView",optionTypes:{next:c.b.string,usageType:c.b.string},defaultOptions:{next:"/signup/onboarding"},events:{'click [data-action="open-login"]':"openLogin","click .social .form-button":"blankOnFrame","submit form":"processSignup","blur #email":"checkEmail",'click [data-action="insert-suggestion"]':"insertSuggestedEmail"},initialize:function(){f.a.prototype.initialize.apply(this,arguments),void 0!==this.options.email&&this.$('[name="email"]').val(this.options.email);var e=this.$('[name="username"]');e.attr("pattern",e.attr("pattern").replace("{"+e[0].minLength+","+e[0].maxLength+"}","+"))},open:function(){return v.a.isMaintenance()?void v.a.showPopup():(m.a.pageView("/signup"),h.a.trackSignupForm(),f.a.prototype.open.apply(this,arguments))},blankOnFrame:function(e){m.a.saveCurrentReferrer(),i()(e.currentTarget).toggleAttr("target","_blank",window.top!==window)},checkEmail:function(){var e=this;l.a.run({email:this.$('[name="email"]').val(),suggested:function(t){e.$("#correction-suggestion a").html(t.address+"@<strong>"+t.domain+"</strong>"),e.$("#correction-suggestion").show()},empty:function(){e.$("#correction-suggestion").hide()}})},insertSuggestedEmail:function(){this.$('[name="email"]').val(this.$("#correction-suggestion a").text()),this.$("#correction-suggestion").hide()},openLogin:function(e){var t=this;if(e.preventDefault(),"/login"===window.location.pathname)return void this.close();var n=o(68).default;this.replaceWith(new n({email:this.$('[name="email"]').val()})).then(function(e){return t.getPromise().resolve(e)})},processSignup:function(){var e=this,t=this.$('[name="username"]').val(),o=this.$('[name="email"]').val(),n=this.$('[name="password"]').val(),i=!this.invalidEmail||this.invalidEmail!==o,a=!this.invalidUsername||this.invalidUsername!==t;(i||a)&&(i&&(this.invalidEmail=o),a&&(this.invalidUsername=t),this.$(".form-global-error").hide(),this.onProcessSignupProcessing(),new p.a({username:t,email:o,password:n}).save().then(function(){p.a.login(o,n).then(function(t){new s.a(function(o){e.options.usageType?u.a.updateUserUsageType(t.uid,e.options.usageType).then(function(e){h.a.setUsageType(e.usageType)}).then(o):o()}).then(function(){return e.getPromise().resolve(e.options.next)})},function(){e.automagicErrors("Your registration succeed but we haven't been able to log you in automatically. Please try manually.")})},function(t){e.onProcessSignupError(),e.automagicErrors(t.responseJSON&&t.responseJSON.detail||"Registration unexpectedly failed. Please try again later.")}))},onProcessSignupProcessing:function(){this.$container.addClass("processing");var e=this.$(".signup-field .form-button");e.attr("disabled",!0),setTimeout(function(){e.removeAttr("disabled")},3e4)},onProcessSignupError:function(){this.$container.removeClass("processing"),this.$(".signup-field .form-button").removeAttr("disabled")},template:function(){return d.default.get("skfb_front/popups/signup",{error:this.options.error,next:this.options.next,popupClosable:!0,usernameMaxLength:b.a.usernameMaxLength,usernameValidatorRegex:b.a.usernameValidatorRegex,usernameValidatorTitle:b.a.usernameValidatorTitle})}})},116:function(e,t,o){"use strict";var n=o(7),i=o(4);t.a=n.a.extend({isReady:!1,initialize:function(){if(n.a.prototype.initialize.apply(this,arguments),this.$el.addClass("btn-loading btn-disabled"),this.$el.find(".button").addClass("btn-disabled"),!i.a.me().isAuthenticated())return void this.setIsReady()},setIsReady:function(){this.isReady=!0,this.isLoading=!1,this.$el.removeClass("btn-loading btn-disabled"),this.$el.find(".button").removeClass("btn-disabled")},setIsLoading:function(){this.isReady=!1,this.isLoading=!0}})},117:function(e,t,o){"use strict";function n(e,t,o){return function(){var n=this,i=arguments,a=f(this,o),s=Object(u.isFunction)(a.drag)?a.drag:this[a.drag],r=Object(u.isFunction)(a.dragstart)?a.dragstart:this[a.dragstart],l=Object(u.isFunction)(a.dragend)?a.dragend:this[a.dragend],c=!1,h=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];c=!0,s.apply(n,t)},v=Object(u.throttle)(Object(m.f)(d.a,void 0,h),16),b=Object(u.debounce)(function(){c&&l.apply(n,i),p()(window).off(e,v),p()(window).off(t,b)},16);p()(window).on(e,v),p()(window).on(t,b),r.apply(this,arguments)}}function i(e){var t;return t={},r()(t,"mousedown "+e,n("mousemove","mouseup",e)),r()(t,"touchstart "+e,n("touchmove","touchend",e)),t}function a(e,t){return Object(c.c)(t,function(t,o){var n=Object(d.c)(o);return"drag"===n.eventName?(h(e,n.selector,{drag:t}),i(n.selector,t)):"dragstart"===n.eventName?(h(e,n.selector,{dragstart:t}),i(n.selector,t)):"dragend"===n.eventName?(h(e,n.selector,{dragend:t}),i(n.selector,t)):r()({},o,t)})}var s=o(40),r=o.n(s),l=o(3),p=o.n(l),u=o(0),c=(o.n(u),o(26)),d=o(35),m=o(29),h=function(e,t,o){e.__withDragEvents[t]=Object(u.extend)({drag:m.d,dragstart:m.d,dragend:m.d},e.__withDragEvents[t],o)},f=function(e,t){return e.__withDragEvents[t]};t.a={name:"WithDragEvent",constructor:function(){this.__withDragEvents={},this.events=a(this,this.events)}}},119:function(e,t,o){"use strict";o.d(t,"c",function(){return P}),o.d(t,"a",function(){return j}),o.d(t,"d",function(){return T}),o.d(t,"b",function(){return R}),o.d(t,"e",function(){return M});var n=o(83),i=o.n(n),a=o(109),s=o.n(a),r=o(84),l=o.n(r),p=o(54),u=o.n(p),c=o(9),d=o.n(c),m=o(14),h=o(5),f=o.n(h),v=o(25),b=o.n(v),g=o(4),k=o(241),_=o(18),w=o(34),L=o(23),y=this,x=d()({},b.a.Events),O=[],F=function(e){return O=e,x.trigger("change",e),e},C={get:function(){return k.a("skfb-cart").then(function(e){return e||[]}).catch(function(){return[]})},add:function(e){return C.get().then(function(t){return[].concat(u()(t),u()(e))}).then(function(e){return k.b("skfb-cart",e),e})},remove:function(e){return C.get().then(function(t){return t.filter(function(t){return e.every(function(e){return t.uid!==e.uid})})}).then(function(e){return k.b("skfb-cart",e),e})}},S={get:Object(w.c)(function(){return _.a.getCart().then(function(e){return e.results})}),add:function(e){return _.a.addModelsToCart(e.map(function(e){return e.uid})).then(function(e){return e.results})},remove:function(e){return _.a.removeModelsFromCart(e.map(function(e){return e.uid})).then(function(e){return e.results})}},V=function(){var e=l()(i.a.mark(function e(t){var o,n,a=s()(t,2),r=a[0],l=a[1];return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.length){e.next=11;break}if(!r.length){e.next=10;break}return e.next=4,S.remove(l);case 4:return e.next=6,S.add(r);case 6:return o=e.sent,e.next=9,C.remove(r);case 9:return e.abrupt("return",o);case 10:return e.abrupt("return",l);case 11:if(!r.length){e.next=18;break}return e.next=14,S.add(r);case 14:return n=e.sent,e.next=17,C.remove(r);case 17:return e.abrupt("return",n);case 18:return e.abrupt("return",[]);case 19:case"end":return e.stop()}},e,y)}));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=l()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!O.length){e.next=2;break}return e.abrupt("return",O);case 2:if(!g.a.me().isAuthenticated()){e.next=8;break}return e.next=5,f.a.all([C.get(),S.get()]).then(V);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,C.get();case 10:e.t0=e.sent;case 11:return t=e.t0,F(t),e.abrupt("return",t);case 14:case"end":return e.stop()}},e,y)}));return function(){return e.apply(this,arguments)}}(),E=function(){var e=l()(i.a.mark(function e(t){var o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:return o=e.sent,e.abrupt("return",o.some(function(e){return e.uid===t}));case 4:case"end":return e.stop()}},e,y)}));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=l()(i.a.mark(function e(t){var o,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t.uid);case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",P());case 4:return e.next=6,P();case 6:if(o=e.sent,!(o.length+1>m.a.storeCartMaxSize)){e.next=9;break}throw new L.b;case 9:if(!g.a.me().isAuthenticated()){e.next=15;break}return e.next=12,S.add([t]);case 12:e.t0=e.sent,e.next=18;break;case 15:return e.next=17,C.add([t]);case 17:e.t0=e.sent;case 18:return n=e.t0,F(n),e.abrupt("return",n);case 21:case"end":return e.stop()}},e,y)}));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=l()(i.a.mark(function e(t){var o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t.uid);case 2:if(e.sent){e.next=4;break}return e.abrupt("return",P());case 4:if(!g.a.me().isAuthenticated()){e.next=10;break}return e.next=7,S.remove([t]);case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,C.remove([t]);case 12:e.t0=e.sent;case 13:return o=e.t0,F(o),e.abrupt("return",o);case 16:case"end":return e.stop()}},e,y)}));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=l()(i.a.mark(function e(){var t,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:if(t=e.sent,!g.a.me().isAuthenticated()){e.next=9;break}return e.next=6,S.remove(t);case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,C.remove(t);case 11:e.t0=e.sent;case 12:return o=e.t0,F(o),e.abrupt("return",o);case 15:case"end":return e.stop()}},e,y)}));return function(){return e.apply(this,arguments)}}(),M=function(e){return x.on("change",e),O.length&&e(O),function(){return x.off("change",e)}}},121:function(e,t,o){"use strict";var n=o(65),i=o(7),a=o(35),s=o(1),r=o(53),l=o(56),p=o(43),u=o(229);t.a=i.a.extend({displayName:"HeaderNotification",mixins:[Object(r.a)(".js-scrollable"),p.a],optionTypes:{hasPopin:s.b.bool.isRequired},defaultOptions:{hasPopin:!0},children:{popin:{selector:'[data-action="display-notifications"]',viewClass:u.a,shouldCreateChild:function(){return this.options.hasPopin},options:function(){return{isOpen:this.state.isOpen}}}},events:{click:"toggle","click window":"onWindowClick",'click [data-action="stop-propagation"]':a.e},initialize:function(){i.a.prototype.initialize.apply(this,arguments),this.state={isOpen:!1,unseenNotifCount:0},this.close=this.close.bind(this),this.unseenModel=n.a.getSingleton(),this.unseenModel.on("change:activitiesCount",this.updateUnseenNotifCount,this)},viewWillUnmount:function(){this.unseenModel.off("change:activitiesCount",this.updateUnseenNotifCount,this)},updateUnseenNotifCount:function(){this.setState({unseenNotifCount:this.unseenModel.get("activitiesCount")})},onWindowClick:function(e){Object(l.d)(this.el,e.target)||this.close()},close:function(){this.setState({isOpen:!1})},toggle:function(e){if(this.options.hasPopin){e.preventDefault();var t=!this.state.isOpen;this.setState({isOpen:t,unseenNotifCount:0})}},render:function(){this.$('[data-action="unseen-count"]').html(this.state.unseenNotifCount).toggleClass("--hidden",0===this.state.unseenNotifCount),this.renderChildren()}})},122:function(e,t,o){"use strict";var n=o(6),i=o(4),a=o(43),s=o(53),r=o(2),l=o(56),p=o(35),u=o(180),c=o(1),d=o(119),m=o(37),h=o(212),f=o(213),v=o(214),b=o(181);o.n(b);t.a=n.a.extend({displayName:"CartPopin",mixins:[a.a,Object(s.a)(".js-prevent-page-scroll")],optionTypes:{hasPopin:c.b.bool},defaultOptions:{hasPopin:!0},state:{isOpen:!1,cartModels:[]},events:{click:function(e){this.options.hasPopin&&(e.preventDefault(),this.setState({isOpen:!this.state.isOpen}))},"resize window":"resizePopin","click window":function(e){Object(l.d)(this.el,e.target)||this.setState({isOpen:!1,popinMaxHeight:this.getPopinMaxHeight()})},'click [data-action="stop-propagation"]':p.e},initialize:function(){n.a.prototype.initialize.apply(this,arguments)},viewDidMount:function(){var e=this;this.unsubscribeFromCart=d.e(function(t){return e.setState({cartModels:t})}),d.c(),this.resizePopin()},viewWillUnmount:function(){this.unsubscribeFromCart()},getPopinMaxHeight:function(){return window.innerHeight-100+"px"},resizePopin:function(){this.setState({popinMaxHeight:this.getPopinMaxHeight()})},onRemoveModel:function(e){var t=this,o=this.state.cartModels;this.setState({cartModels:o.filter(function(t){return t.uid!==e.uid})}),d.d(e).catch(function(e){console.error(e),t.setState({cartModels:o})})},template:function(){var e=this;return r.default.getFromMacro("skfb_front/macros/components/organisms/cart/cart-popin","cart_popin",[{popinMaxHeight:this.state.popinMaxHeight,count:this.state.cartModels.length,isOpen:this.state.isOpen,totalPrice:Object(u.b)(this.state.cartModels),authUser:i.a.me().toJSON(),components:this.createChildrenComponents({cartHeader:{viewClass:h.a,options:{count:this.state.cartModels.length}},list:this.state.cartModels.length?this.state.cartModels.map(function(t){return{viewClass:f.a,options:{key:t.uid,model:t,onRemove:function(){return e.onRemoveModel(t)}}}}):{viewClass:v.a},checkoutButton:{viewClass:m.a,options:{text:"go to checkout",type:"store",size:"large"}}})}])}})},123:function(e,t,o){"use strict";var n=o(64),i=o(59),a=o(57),s=o(136),r=o(2),l=o(12),p=o(24),u=o(352),c=o(332),d=o(23),m=o(262);o.n(m);t.a=p.a.extend({template:function(){return r.default.get("skfb_front/popups/share",{model:this.model.toJSON(),mailto:this.getMailto(),sharingMode:this.sharingMode})},events:{'click [data-action="share-on-google-plus"]':"shareOnGooglePlus",'click [data-action="share-on-facebook"]':"shareOnFacebook",'click [data-action="share-on-linkedin"]':"shareOnLinkedin",'click [data-action="share-on-pinterest"]':"shareOnPinterest",'click [data-action="share-on-reddit"]':"shareOnReddit",'click [data-action="share-on-tumblr"]':"shareOnTumblr",'click [data-action="share-on-twitter"]':"shareOnTwitter",'click [data-action="open-embed-popup"]':"openEmbedPopup"},initialize:function(){this.sharingMode=0,this.model instanceof i.a?this.sharingMode=1:this.model instanceof n.a&&(this.sharingMode=2),p.a.prototype.initialize.apply(this,arguments),this.model.on("change:sharing",this.setShortUrl,this),u.a.getSDK(),this.model.sharing().then(function(){this.setIsReady()}.bind(this))},setIsReady:function(){this.setIsLoading(!1),this.$el.find(".directlink").select()},setShortUrl:function(){this.$el.find(".directlink").val(this.model.get("sharing").shortUrl)},getMailto:function(){return c.a.getMailTo({modelName:this.model.get("name"),userName:this.model.get("user").displayName,isCollectionMode:2===this.sharingMode,url:this.model.get(2===this.sharingMode?"collectionUrl":"viewerUrl")})},shareOnFacebook:function(){l.a.shareButtonClicked("sharePopup","facebookShareButtonClicked",this.model.get("uid")),s.default.prototype.shareOnFacebook.apply(this,arguments)},shareOnTwitter:function(){l.a.shareButtonClicked("sharePopup","twitterShareButtonClicked",this.model.get("uid")),s.default.prototype.shareOnTwitter.apply(this,arguments)},shareOnGooglePlus:function(){l.a.shareButtonClicked("sharePopup","googlePlusShareButtonClicked",this.model.get("uid")),s.default.prototype.shareOnGooglePlus.apply(this,arguments)},shareOnPinterest:function(){l.a.shareButtonClicked("sharePopup","pinterestShareButtonClicked",this.model.get("uid")),s.default.prototype.shareOnPinterest.apply(this,arguments)},shareOnReddit:function(){l.a.shareButtonClicked("sharePopup","redditShareButtonClicked",this.model.get("uid")),s.default.prototype.shareOnReddit.apply(this,arguments)},shareOnTumblr:function(){l.a.shareButtonClicked("sharePopup","tumblrShareButtonClicked",this.model.get("uid")),s.default.prototype.shareOnTumblr.apply(this,arguments)},shareOnLinkedin:function(){l.a.shareButtonClicked("sharePopup","linkedinShareButtonClicked",this.model.get("uid")),s.default.prototype.shareOnLinkedin.apply(this,arguments)},openEmbedPopup:function(e){var t=this;switch(e.preventDefault(),e.stopPropagation(),l.a.shareButtonClicked("sharePopup","embedButtonClicked",this.model.get("uid")),this.sharingMode){case 1:Object(a.d)().then(function(e){return new e({model:t.model}).open()}).catch(Object(d.g)(d.e));break;case 2:Object(a.a)().then(function(e){return new e({model:t.model}).open()}).catch(Object(d.g)(d.e))}}})},124:function(e,t){!function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/notification.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null;a+="\n\n";var r=n.makeMacro(["type","content"],["options"],function(i,a,s){var r=o;o=new n.Frame,s=s||{},s.hasOwnProperty("caller")&&o.set("caller",s.caller),o.set("type",i),o.set("content",a),o.set("options",s.hasOwnProperty("options")?s.options:{});var l="";l+="\n\n    ";var p;return p=e.getFilter("merge").call(t,{safecontent:!1},n.contextOrFrameLookup(t,o,"options")),o.set("options",p,!0),o.topLevel&&t.setVariable("options",p),o.topLevel&&t.addExport("options",p),l+='\n\n    <div class="flashmessage notification ',l+=n.suppressValue(i,e.opts.autoescape),l+='">\n        <div class="inner">\n            <button class="flashmessage-close" data-action="close" title="Close"></button>\n            <div class="message">\n                ',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"safecontent")?(l+="\n                    ",l+=n.suppressValue(e.getFilter("safe").call(t,a),e.opts.autoescape),l+="\n                "):(l+="\n                    ",l+=n.suppressValue(a,e.opts.autoescape),l+="\n                "),l+="\n            </div>\n        </div>\n    </div>\n\n",o=r,new n.SafeString(l)});t.addExport("flashmessage"),t.setVariable("flashmessage",r),a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{root:e}}()}()},125:function(e,t,o){"use strict";var n=o(4),i=o(12),a=o(116),s=o(1);t.a=a.a.extend({displayName:"FollowButton",optionTypes:{size:s.b.oneOf(["small","medium","large","huge"]).isRequired,afterFollowAction:s.b.func.isRequired,userUid:s.b.string,trackerEvent:s.b.string},defaultOptions:{userUid:null,trackerEvent:null,size:"medium",afterFollowAction:function(){}},events:{click:"followAction"},initialize:function(){a.a.prototype.initialize.apply(this,arguments),this.options.userUid=this.$el.attr("data-user");var e=n.a.me();if(!e.isAuthenticated()||e.uid!==this.options.userUid){e.on("change:followings",this.render,this);void 0!==e.get("followings")[this.options.userUid]&&this.render(),this.populate()}},setElement:function(){return a.a.prototype.setElement.apply(this,arguments),this.setOptions({userUid:this.$el.attr("data-user")}),this.$el.find(".button").addClass("btn-"+this.options.size),this},populate:function(){var e=this;n.a.me().getDoesFollow(this.options.userUid).then(function(){return e.render()})},followAction:function(e){e.stopPropagation(),this.isReady&&!this.isLoading&&(this.setIsLoading(),n.a.authenticate(function(e){var t=e.doesFollow(this.options.userUid),o=t?"unfollow":"follow";return this.toggle(!t,!0),null!==this.options.trackerEvent&&i.a[this.options.trackerEvent](this.options.userUid,"follow"===o),e[o](this.options.userUid).then(function(){this.options.afterFollowAction(o),this.setIsReady()}.bind(this))}.bind(this)).catch(function(){this.setIsReady()}.bind(this)))},toggle:function(e,t){var o=this.$el;o.toggleClass("toggled",e),void 0!==t&&t&&o.addClass("just-clicked").mouseleave(function(){o.removeClass("just-clicked")})},render:function(){this.toggle(n.a.me().doesFollow(this.options.userUid)),this.isLoading||this.setIsReady()}})},126:function(e,t,o){"use strict";var n=o(9),i=o.n(n),a=o(5),s=o.n(a),r=o(13),l=o(4),p=o(64),u=o(42),c=o(18);t.a=u.a.extend({model:p.a,endpoint:"/collections",defaultOptions:function(){return{filters:new r.a}},getThumbnails:function(){var e=this,t=this.models.filter(function(e){return!e.get("thumbnails")}).map(function(e){return e.get("uid")});return t.length?c.a.getCollectionsThumbnails(t).then(function(t){e.each(function(e){var o=e.get("uid"),n=t[o];n&&e.set("thumbnails",n)})}).catch(function(e){console.info("Error loading collection thumbnails : ",e)}):s.a.resolve()},queryParams:function(){var e={date:this.options.filters.get("date")},t=this.options.filters.get("subscribedBy")?{subscribed_by:l.a.me().get("uid")}:{user:this.options.filters.get("user"),private:this.options.filters.get("private")||null,restricted:this.options.filters.get("restricted"),sort_by:this.options.filters.get("sortBy")};return i()({},u.a.prototype.queryParams.call(this),e,t)}})},135:function(e,t){!function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/popovers.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null,r=n.makeMacro([],["options"],function(i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var s="";return s+='\n\n    <div class="popover share-popover hidden',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"class")&&(s+=" ",s+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"class"),e.opts.autoescape)),s+='">\n        <p>Thanks! Also share?</p>\n\n        <a data-action="share-on-facebook" class="share-popover-icon icons-facebook"></a>\n        <a data-action="share-on-twitter" class="share-popover-icon icons-twitter"></a>\n        <a data-action="share-on-google-plus" class="share-popover-icon icons-google"></a>\n        <a data-action="share-on-pinterest" class="share-popover-icon icons-pinterest"></a>\n    </div>\n\n',o=a,new n.SafeString(s)});t.addExport("share_popover"),t.setVariable("share_popover",r),a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{root:e}}()}()},137:function(e,t,o){"use strict";var n=o(4),i=o(24),a=o(2),s=o(93),r=o(221);o.n(r);t.a=i.a.extend({defaultOptions:{cleanOnClose:!1},events:{'click [data-action="cancel"]':"close",'click [data-action="validate"]':"sendConfirmationMail"},reasons:{publish:"Before publishing your 3D model, you must confirm your e-mail address",upgrade:"Before upgrading, you must confirm your e-mail address",collections:"You must confirm you e-mail address to be able to create collections",invite:"You must confirm you e-mail address to be able to invite friends"},initialize:function(){i.a.prototype.initialize.apply(this,arguments),this.$container.addClass("popup-email-verification")},template:function(){return a.default.get("skfb_front/popups/email-confirmation",{reason:this.reasons[this.options.reason],email:n.a.me().get("email")})},sendConfirmationMail:function(){var e=n.a.me();e.sendConfirmationMail({after:this.options.noAfter?null:window.location.href}).then(function(){new s.a({content:"A confirmation email has been sent to "+e.get("email"),class:"success",delay:5e3})}).catch(function(){new s.a({content:'The confirmation email could not be sent.<br/>Please <a href="https://help.sketchfab.com/hc/en-us/requests/new?type=accounts_general&utm_source=website&utm_campaign=email-confirmation-error" target="_blank">contact us</a> if the problem persists.',class:"error",delay:5e3})}),this.close()}})},138:function(e,t,o){"use strict";var n=o(9),i=o.n(n),a=o(83),s=o.n(a),r=o(84),l=o.n(r),p=o(27),u=o.n(p),c=o(14),d=o(3),m=o.n(d),h=o(0),f=(o.n(h),o(5)),v=o.n(f),b=o(13),g=o(7),k=o(320),_=o(43),w=o(66),L=o(104),y=o(56),x=o(63),O=o(79),F=o(1),C=o(302),S=function(e){var t=["page","type","features"];return u()(e).some(function(e){return-1===t.indexOf(e)})};t.a=g.a.extend({displayName:"Grid",mixins:[_.a],optionTypes:{collectionClass:F.b.func.isRequired,itemViewClass:F.b.func.isRequired,filtersClass:F.b.func,filters:F.b.model,itemOptions:F.b.object,emptyStateComponent:F.b.component,pageSize:F.b.oneOfType([F.b.number,F.b.func]),loadMoreThresholdRow:F.b.number,afterCollectionAdd:F.b.func,getItemApparitionDelay:F.b.func,itemClassName:F.b.string,infinite:F.b.bool,showFilteredState:F.b.bool,isNextButtonHidden:F.b.bool,isPreviewButtonHidden:F.b.bool,isServerSideRendered:F.b.bool,externalPopulate:F.b.bool,loadMoreOnScroll:F.b.bool,withAnimation:F.b.bool,shouldDisplayEmptyState:F.b.oneOfType([F.b.func,F.b.bool])},defaultOptions:{filtersClass:b.a,itemClassName:"item",itemOptions:{},pageSize:c.a.apiPageSize,loadMoreThresholdRow:1,isNextButtonHidden:!1,isPreviousButtonHidden:!1,infinite:!0,showFilteredState:!0,withAnimation:!0,loadMoreOnScroll:!1,isServerSideRendered:!1,externalPopulate:!1,afterCollectionAdd:function(){},getItemApparitionDelay:function(){return 800*Math.random()},shouldDisplayEmptyState:!0,emptyStateComponent:{viewClass:C.a,options:{}}},events:{'click [data-action="load-previous"]':function(){this.loadPreviousPage()},'click [data-action="load-next"]':function(){this.resetAutoLoadedPageCount(),this.loadNextPage()},"resize window":"onResize"},children:{gridItems:{selector:".items",viewClass:k.a,options:function(){return{collection:this.collection,withAnimation:this.options.withAnimation&&!this.options.loadMoreOnScroll,getItemApparitionDelay:this.options.getItemApparitionDelay,itemClassName:this.options.itemClassName,itemViewClass:this.options.itemViewClass,itemOptions:Object(h.extend)({},this.options.itemOptions,{grid:this}),onShowItem:function(){function e(e){return t.apply(this,arguments)}var t=l()(s.a.mark(function e(t){var o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=parseInt(t[0].style.animationDelay),e.next=3,v.a.delay(o);case 3:t.removeClass("--initial-animation");case 4:case"end":return e.stop()}},e,this)}));return e}()}}},emptyState:{selector:".empty-state-wrapper",viewClass:C.a,options:{}}},constructor:function(){this.onScroll=Object(h.throttle)(this.onScroll.bind(this),250),this.onResize=Object(h.throttle)(this.onResize.bind(this),250),g.a.prototype.constructor.apply(this,arguments)},initialize:function(){g.a.prototype.initialize.apply(this,arguments),this._invalidationPromise=v.a.resolve(),this._loadMoreThreshold=2e3,this.autoLoadedPageCount=0,this.views={},this.state={isLoadingPrevious:!1,isLoadingNext:!this.options.isServerSideRendered,isInvalidated:!1},this.initializeDataStructures(),this.initializeChildren(),this.collection.on("afterAdd",this.afterCollectionAdd,this),this.collection.on("afterAdd",this.render,this),this.filters.on("change",this._onFiltersChange,this),this.options.loadMoreOnScroll&&m()(document).on("mousewheel.delegateEvents"+this.cid,"*",this.onScroll),this.options.isServerSideRendered?this._getInlineData():this.options.externalPopulate||this.loadFirstPage(),this.isMounted=!0},viewDidUpdate:function(e){Object(h.isEqual)(e.itemOptions,this.options.itemOptions)||this.renderChild("gridItems")},viewWillUnmount:function(){this.collection.off("afterAdd",this.afterCollectionAdd,this),this.collection.off("afterAdd",this.render,this),this.filters.off("change",this._onFiltersChange,this),this.options.loadMoreOnScroll&&m()(document).off("mousewheel.delegateEvents"+this.cid,"*",this.onScroll)},refreshLoadMoreThreshold:function(){if(this.$el.length){var e=this.$el.offset().top,t=this.$el.height(),o=this.$(".items > ."+this.options.itemClassName).last().outerHeight(!0),n=e+t-window.innerHeight;this._loadMoreThreshold=n-this.options.loadMoreThresholdRow*o}},shouldLoadNextPage:function(e){var t=m()(window).scrollTop(),o=e.originalEvent.deltaY>0;return t>this._loadMoreThreshold&&o&&this.options.infinite&&this.collection.hasNextPage()&&!this._isPrefetched&&this.autoLoadedPageCount<5},resetAutoLoadedPageCount:function(){this.autoLoadedPageCount=0},onScroll:function(e){this.shouldLoadNextPage(e)&&(this.autoLoadedPageCount++,this._isPrefetched=!0,this.loadNextPage().then(function(){return v.a.delay(300)}).then(function(){this._isPrefetched=!1}.bind(this)))},onResize:function(){this.refreshLoadMoreThreshold()},initializeDataStructures:function(){if(this.filters=this.options.filters||new this.options.filtersClass(null),this.options.collection)this.collection=this.options.collection,this.collection.options.filters||(this.collection.filters=this.collection.options.filters=this.filters);else{var e=this.options.paginationType||this._getInlinePagination(),t="offset"===e?{firstPage:this.options.isServerSideRendered?this._getInlineFirstPage():this.options.firstPage,minOffset:this.options.minOffset}:{cursor:this.options.cursor||this._getInlineCursors()};this.collection=new this.options.collectionClass(null,i()({},t,{paginationType:e,backend:this.options.backend,filters:this.filters,pageSize:this.options.pageSize}))}if(this.options.isServerSideRendered){var o=this.$el.attr("data-prefetch-query"),n=w.a.get(o);this.collection.pagination.setInitialQuery(o,n)}},_onFiltersChange:function(){S(this.filters.changedAttributes())&&(this.filters.set("page",0,{silent:!0}),this.filters.set("cursor","",{silent:!0}),this.loadFirstPage())},_getInlineData:function(){var e=this.$el.attr("data-prefetch-query"),t=w.a.get(e).results;this.collection.set(t,{silent:!0}),this.children.gridItems.attachViews(),this.collection.trigger("afterAdd",this.collection.models)},_getInlinePagination:function(){return this.options.isServerSideRendered?parseInt(this.$el.attr("data-is-offset-pagination"))?"offset":"cursor":void 0},_getInlineCursors:function(){var e=this.$el.attr("data-cursor-previous"),t=this.$el.attr("data-cursor-next");return{previous:e?O.b(e,"cursor=","&"):null,next:t?O.b(t,"cursor=","&"):null}},_getInlineFirstPage:function(){return parseInt(this.$el.attr("data-first-page"),10)},afterCollectionAdd:function(e){this.options.afterCollectionAdd.call(this,e)},loadPreviousPage:function(){return this.setState({isLoadingPrevious:!0}),this.collection.loadPreviousPage().then(function(){this.setState({isLoadingPrevious:!1})}.bind(this))},loadNextPage:function(){return this.setState({isLoadingNext:!0}),this.collection.loadNextPage().then(function(){this.setState({isLoadingNext:!1})}.bind(this))},loadFirstPage:function(e){return this.resetAutoLoadedPageCount(),this.invalidateItems(),this.collection.loadFirstPage(e).then(this.revalidateItems.bind(this)).catch(function(e){throw this.revalidateItems.call(this),e}.bind(this))},loadLatestItems:function(){return this.invalidateItems(),this.collection.loadLatestItems().then(this.revalidateItems.bind(this)).catch(function(e){throw this.revalidateItems.call(this),e}.bind(this))},findFirstVisibleElementUid:function(){var e=[].slice.call(this.$(".items-container > .items > ."+this.options.itemClassName+"[data-uid]")),t=Object(x.d)(e,y.a);return t?t.getAttribute("data-uid"):""},invalidateItems:function(){this._invalidationPromise=v.a.delay(300),this.setState({isLoadingNext:!0,isInvalidated:!0})},revalidateItems:function(){this._invalidationPromise.then(function(){this.setState({isLoadingNext:!1,isInvalidated:!1})}.bind(this))},renderEmptyState:function(e){var t=this.$el.find(".empty-state-wrapper");if(!this.options.shouldDisplayEmptyState)return t.hide();t.toggle(e),this.updateChildConfig("emptyState",i()({},this.options.emptyStateComponent,{selector:".empty-state-wrapper",shouldCreateChild:function(){return this.options.shouldDisplayEmptyState}})),e?this.renderChild("emptyState"):this.removeChild("emptyState");var o=Object(L.a)(document.location.search),n=this.options.filtersClass.prototype.defaults,a=!(!this.options.showFilteredState||!n)&&u()(o).some(function(e){return e in n});this.trigger("emptyState",!a&&e)},render:function(){var e=this.state.isLoadingNext||this.state.isLoadingPrevious,t=this.collection.isEmpty();window.requestAnimationFrame(function(){this.$el.toggleClass("infinite-grid",!!this.options.infinite),this.$el.toggleClass("no-more-after",t&&!e||this.options.isNextButtonHidden||!this.collection.hasNextPage()),this.$el.toggleClass("no-more-before",t&&!e||this.options.isPreviousButtonHidden||!this.collection.hasPreviousPage()),this.$el.toggleClass("empty",t&&!e),this.$el.toggleClass("loading",t&&e),this.$el.toggleClass("loading-previous",t&&this.state.isLoadingPrevious),this.$el.toggleClass("loading-next",t&&this.state.isLoadingNext),this.$el.toggleClass("invalidated",this.state.isInvalidated),e||this.$el.removeClass("external-populate"),this.$(".load-previous").toggleClass("loading",!t&&this.state.isLoadingPrevious),this.$(".load-next").toggleClass("loading",!t&&this.state.isLoadingNext),this.renderEmptyState(t&&!e),this.refreshLoadMoreThreshold()}.bind(this))}})},1383:function(e,t,o){"use strict";var n=o(13);t.a=n.a.extend({endpoint:function(){return"/messages"+(this.isNew()?"":"/"+this.get("uid"))}})},1391:function(e,t,o){"use strict";var n=o(3),i=o.n(n),a=o(0),s=(o.n(a),o(6)),r=o(4),l=o(1755),p=o(2),u=o(1),c=o(29),d=o(1392),m=(o.n(d),function(e){var t=e.indexOf("(")>0?e.indexOf("(")-1:e.length;return"@"+e.substring(1,t)+" "}),h=function(e){var t=p.default.getFromString("{{ content | striptags }}");return e.map(function(e){var o=e[0],n=e[1];return"@"+t({content:o})+(n?" ("+t({content:n})+")":"")})};t.a=s.a.extend({displayName:"CommentEditor",optionTypes:{value:u.b.string.isRequired,onChange:u.b.func.isRequired,placeholder:u.b.string,getContextualUsers:u.b.func,autofocus:u.b.bool,grey:u.b.bool,isTouched:u.b.bool,error:u.b.string,onFocus:u.b.func,onBlur:u.b.func,onSubmit:u.b.func,shouldFocus:u.b.bool},defaultOptions:{placeholder:"Leave a comment",autofocus:!1,grey:!1,onBlur:c.d,onFocus:c.d,onSubmit:c.d,getContextualUsers:function(){return[]}},events:{'focus [data-ref="editor"]':"onFocus",'blur [data-ref="editor"]':"onBlur",'input [data-ref="editor"]':"onChange",'change [data-ref="editor"]':"onChange",'keydown [data-ref="editor"]':"onKeyDown"},viewDidMount:function(){var e=this;this.searchUsers=new l.a,o.e(10).then(o.bind(null,581)).then(function(){e.isUserLimited()||e.refs.$editor.textcomplete([{match:/\B@([\w-._]{1,})$/,search:e.searchAutocompletion.bind(e),replace:m,index:1}],{debounce:150})})},viewDidUpdate:function(e){this.options.shouldFocus&&this.options.shouldFocus!==e.shouldFocus&&this.refs.editor.focus()},isUserLimited:function(){return r.a.me().get("isLimited")},onChange:function(e){this.options.onChange(e.target.value)},onFocus:function(e){var t=i()(window).height(),o=this.$el.offset().top+250-i()(window).scrollTop(),n=this.$el.offset().top+250-t;o>t&&i()("html,body").animate({scrollTop:n},200),this.options.onFocus(e)},onBlur:function(e){this.options.onBlur(e)},onKeyDown:function(e){13===e.originalEvent.which&&e.originalEvent.metaKey&&this.options.onSubmit()},searchAutocompletion:function(e,t){this.searchUsers.set([]),this.searchUsers.options.filters.set("username",e),this.searchUsers.fetch().then(function(){var o=this.options.getContextualUsers().filter(function(t){return 0===t.username.indexOf(e)}).map(function(e){return[e.username,e.displayName]}),n=this.searchUsers.models.map(function(e){return[e.get("username"),e.get("displayName")]});t(h(Object(a.union)(o,n)))}.bind(this))},template:function(){return p.default.getFromMacro("skfb_front/macros/components/atoms/comment-editor","comment_editor",[{isUserLimited:this.isUserLimited(),value:this.options.value,placeholder:this.options.placeholder,autofocus:this.options.autofocus,grey:this.options.grey,isTouched:this.options.isTouched,error:this.options.error}])}})},1392:function(e,t){!function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/atoms/comment-editor.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null,r=n.makeMacro([],["options"],function(i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var s="";return s+='\n    <div class="c-comment-editor  ',s+=n.suppressValue(e.getFilter("class_names").call(t,{"--grey":n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"grey")}),e.opts.autoescape),s+='">\n        ',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"isUserLimited")?s+='\n            <div class="c-comment-editor__editor disabled">\n                You must confirm your e-mail address to be able to comment. <a href="/settings/email">Go to e-mail settings</a>\n            </div>\n        ':(s+='\n            <textarea\n                data-ref="editor"\n                class="c-comment-editor__editor ',s+=n.suppressValue(e.getFilter("class_names").call(t,{"--error":n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"isTouched")&&n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"error")}),e.opts.autoescape),s+='"\n                placeholder="',s+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"placeholder"),e.opts.autoescape),s+='"\n                required\n                ',s+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"autofocus")?"autofocus":"",e.opts.autoescape),s+=">",s+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"value"),e.opts.autoescape),s+="</textarea>\n            ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"isTouched")&&n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"error")&&(s+='\n                <p class="form-error c-comment-editor__error">\n                    ',s+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"error"),e.opts.autoescape),s+="\n                </p>\n            "),s+="\n        "),s+="\n    </div>\n",o=a,new n.SafeString(s)});t.addExport("comment_editor"),t.setVariable("comment_editor",r),a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{root:e}}()}()},1393:function(e,t){!function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/organisms/review-edit-form.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null,r=n.makeMacro([],["options"],function(i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var s="";return s+='\n    <form class="c-review-edit-form" data-ref="form">\n        <div class="c-review-edit-form__container">\n            <h1 class="c-review-edit-form__title">\n                Rate the model\n            </h1>\n\n            <div class="c-review-edit-form__grid">\n                <p>Info and preview accuracy</p>\n                <div class="c-review-edit-form__rating">\n                    ',s+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"previewFidelityRating")),e.opts.autoescape),s+='\n                    <span\n                        class="value ',s+=n.suppressValue(e.getFilter("class_names").call(t,{"--invalid":n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"fields"),"previewFidelity"),"error")&&n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"fields"),"previewFidelity"),"isTouched")}),e.opts.autoescape),s+='">\n                        ',s+=n.suppressValue(n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"fields"),"previewFidelity"),"error")&&n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"fields"),"previewFidelity"),"isTouched")?n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"fields"),"previewFidelity"),"error"):e.getFilter("format_rating").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"ratings"),"previewFidelity")),e.opts.autoescape),s+='\n                    </span>\n                </div>\n\n                <p>Ease of use</p>\n                <div class="c-review-edit-form__rating">\n                    ',s+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"easeOfUseRating")),e.opts.autoescape),s+='\n                    <span\n                        class="value ',s+=n.suppressValue(e.getFilter("class_names").call(t,{"--invalid":n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"fields"),"easeOfUse"),"error")&&n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"fields"),"easeOfUse"),"isTouched")}),e.opts.autoescape),s+='">\n                        ',s+=n.suppressValue(n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"fields"),"easeOfUse"),"error")&&n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"fields"),"easeOfUse"),"isTouched")?n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"fields"),"easeOfUse"),"error"):e.getFilter("format_rating").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"ratings"),"easeOfUse")),e.opts.autoescape),s+='\n                    </span>\n                </div>\n\n                <p>Value for money</p>\n                <div class="c-review-edit-form__rating">\n                    ',s+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"valueForMoneyRating")),e.opts.autoescape),s+='\n                    <span\n                        class="value ',s+=n.suppressValue(e.getFilter("class_names").call(t,{"--invalid":n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"fields"),"valueForMoney"),"error")&&n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"fields"),"valueForMoney"),"isTouched")}),e.opts.autoescape),s+='">\n                        ',s+=n.suppressValue(n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"fields"),"valueForMoney"),"error")&&n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"fields"),"valueForMoney"),"isTouched")?n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"fields"),"valueForMoney"),"error"):e.getFilter("format_rating").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"ratings"),"valueForMoney")),e.opts.autoescape),s+='\n                    </span>\n                </div>\n            </div>\n        </div>\n\n\n        <div class="c-review-edit-form__container">\n            <h1 class="c-review-edit-form__title">\n                What did you use the model for?\n            </h1>\n\n            ',s+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"usageSelect")),e.opts.autoescape),s+='\n        </div>\n\n        <div class="c-review-edit-form__container">\n            <h1 class="c-review-edit-form__title">\n                Your review\n            </h1>\n\n            <div class="c-review-edit-form__horizontal">\n                <p>\n                    Others will see your review. Be respectful.\n                    <a target="_blank" href="',s+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"SKFB_FAQ_HOST"),e.opts.autoescape),s+='/articles/115005522026-Store-Review-Guidelines" class="skfb-link">Read review guidelines</a>\n                </p>\n                <span class="c-review-edit-form__chars-count ',s+=n.suppressValue(e.getFilter("class_names").call(t,{"--invalid":n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"fields"),"body"),"error")&&n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"fields"),"body"),"isTouched")}),e.opts.autoescape),s+='">\n                    ',s+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"charsCount"),e.opts.autoescape),s+=" characters (",s+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"minCharsCount"),e.opts.autoescape),s+=" required)\n                </span>\n            </div>\n\n            ",s+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"commentEditor"),"c-review-edit-form__editor"),e.opts.autoescape),s+="\n\n            ",s+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"publishButton")),e.opts.autoescape),s+="\n        </div>\n    </form>\n",o=a,new n.SafeString(s)});t.addExport("review_edit_form"),t.setVariable("review_edit_form",r),a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{root:e}}()}()},1394:function(e,t,o){o(15),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/molecules/model-information.jinja"]=function(){function e(e,t,o,n,i){var a=null,s=null,r="";try{var l=null;e.getTemplate("skfb_front/macros/model.jinja",!1,"skfb_front/macros/components/molecules/model-information.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("model_license"))return void i(new Error("cannot import 'model_license'"));var c=u.model_license;t.setVariable("model_license",c),r+="\n\n";var d=n.makeMacro(["extension"],[],function(t,i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("extension",t);var s="";return s+='\n    <p class="format">\n        <span class="format__name">\n            .',s+=n.suppressValue(t,e.opts.autoescape),s+="\n        </span>\n    </p>\n",o=a,new n.SafeString(s)});t.addExport("display_format"),t.setVariable("display_format",d),r+="\n\n";var m=n.makeMacro(["count","name"],[],function(i,a,s){var r=o;o=new n.Frame,s=s||{},s.hasOwnProperty("caller")&&o.set("caller",s.caller),o.set("count",i),o.set("name",a);var l="";return i&&(l+='<div class="help">\n            ',l+=n.suppressValue(a,e.opts.autoescape),l+=n.suppressValue(e.getFilter("pluralize").call(t,i),e.opts.autoescape),l+=" ",l+=n.suppressValue(e.getFilter("humanize_number").call(t,i),e.opts.autoescape),l+="\n        </div>"),o=r,new n.SafeString(l)});t.addExport("display_geometry"),t.setVariable("display_geometry",m),r+="\n\n";var h=n.makeMacro(["bool"],[],function(e,t){var i=o;o=new n.Frame,t=t||{},t.hasOwnProperty("caller")&&o.set("caller",t.caller),o.set("bool",e);var a="";return a+="\n        ",a+=e?'\n            <i class="fa fa-check --green"></i>\n        ':'\n            <i class="fa fa-times --red"></i>\n        ',a+="\n",o=i,new n.SafeString(a)});t.addExport("display_bool"),t.setVariable("display_bool",h),r+="\n\n";var f=n.makeMacro([],["options"],function(i){var r=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var l="";l+='\n    <div class="c-model-information">\n        ';var p;p=n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"license")&&n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"price"),o.set("isPaid",p,!0),o.topLevel&&t.setVariable("isPaid",p),o.topLevel&&t.addExport("isPaid",p),l+="\n        ";var u;if(u=n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"license")&&!n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"price"),o.set("isFree",u,!0),o.topLevel&&t.setVariable("isFree",u),o.topLevel&&t.addExport("isFree",u),l+='\n\n        <div class="c-model-information__col --single">\n            ',(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"isDownloadable")||n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"inStore"))&&n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"inspectButton")&&(l+="\n                ",l+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"inspectButton")),e.opts.autoescape),l+="\n            "),l+="\n\n            ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"shouldDisplayReviews")&&(l+='\n                <div class="c-model-information__row">\n                    <div class="c-model-information__label">Reviews</div>\n                    <div class="c-model-information__value --inline" data-action="scrollToReviews">\n                        ',l+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"modelRating")),e.opts.autoescape),l+=' <span class="skfb-link">',l+=n.suppressValue(e.getFilter("default").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"reviewCount"),0),e.opts.autoescape),l+=" review",l+=n.suppressValue(e.getFilter("pluralize").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"reviewCount")),e.opts.autoescape),l+="</span>\n                    </div>\n                </div>\n            "),l+="\n\n            ",n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"license")&&(l+='\n                <div class="c-model-information__row">\n                    <div class="c-model-information__label">License</div>\n                    <div class="c-model-information__value">\n                        ',l+=n.suppressValue((a=51,s=38,n.callWrap(n.contextOrFrameLookup(t,o,"model_license"),"model_license",t,[n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"license")])),e.opts.autoescape),l+="\n                    </div>\n                </div>\n            "),l+="\n\n            ",n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"extraArchive")&&e.getFilter("length").call(t,n.memberLookup(n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"extraArchive"),"metadata"),"summary"))&&n.contextOrFrameLookup(t,o,"isPaid")){l+='\n                <div class="c-model-information__row">\n                    <div class="c-model-information__label">Included formats</div>\n                    <div class="c-model-information__value">\n                        ',o=o.push();var c=n.memberLookup(n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"extraArchive"),"metadata"),"summary");if(c)for(var d=c.length,m=0;m<c.length;m++){var h=c[m];o.set("format",h),o.set("loop.index",m+1),o.set("loop.index0",m),o.set("loop.revindex",d-m),o.set("loop.revindex0",d-m-1),o.set("loop.first",0===m),o.set("loop.last",m===d-1),o.set("loop.length",d),l+="\n                            ",l+=n.suppressValue((a=64,s=43,n.callWrap(n.contextOrFrameLookup(t,o,"display_format"),"display_format",t,[h])),e.opts.autoescape),l+="\n                        "}o=o.pop(),l+="\n                    </div>\n                </div>\n            "}return l+='\n\n            <div class="c-model-information__row">\n                <div class="c-model-information__label">Source format</div>\n                <div class="c-model-information__value">\n                    <p class="format">\n                        <span class="format__name">\n                            ',n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"ext")?(l+="\n                                .",l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"ext"),e.opts.autoescape),l+="\n                            "):l+="\n                                Unknown format\n                            ",l+="\n                        </span>\n                    </p>\n                </div>\n            </div>\n\n            ",n.contextOrFrameLookup(t,o,"isPaid")&&n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"extraArchive")&&(l+='\n                <div class="c-model-information__row">\n                    <div class="c-model-information__label">Additional file</div>\n                    <div class="c-model-information__value">\n                        <p>',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"extraArchive"),"filename"),e.opts.autoescape),l+='</p>\n                        <a data-action="showExtraFile" class="c-model-information__link skfb-link">\n                            See what is included\n                        </a>\n                    </div>\n                </div>\n            '),l+="\n\n            ",(n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"metadata"),"quad")||n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"metadata"),"triangle")||n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"metadata"),"polygon")||n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"metadata"),"line")||n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"metadata"),"point")||n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"metadata"),"totalTriangle"))&&(l+='\n                <div class="c-model-information__row">\n                    <div class="c-model-information__label">Geometry</div>\n                    <div class="c-model-information__value">\n                        ',l+=n.suppressValue((a=107,s=42,n.callWrap(n.contextOrFrameLookup(t,o,"display_geometry"),"display_geometry",t,[n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"metadata"),"quad"),"Quad"])),e.opts.autoescape),l+="\n                        ",l+=n.suppressValue((a=108,s=42,n.callWrap(n.contextOrFrameLookup(t,o,"display_geometry"),"display_geometry",t,[n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"metadata"),"triangle"),"Triangle"])),e.opts.autoescape),l+="\n                        ",l+=n.suppressValue((a=109,s=42,n.callWrap(n.contextOrFrameLookup(t,o,"display_geometry"),"display_geometry",t,[n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"metadata"),"polygon"),"Polygon"])),e.opts.autoescape),l+="\n                        ",l+=n.suppressValue((a=110,s=42,n.callWrap(n.contextOrFrameLookup(t,o,"display_geometry"),"display_geometry",t,[n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"metadata"),"line"),"Line"])),e.opts.autoescape),l+="\n                        ",l+=n.suppressValue((a=111,s=42,n.callWrap(n.contextOrFrameLookup(t,o,"display_geometry"),"display_geometry",t,[n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"metadata"),"point"),"Point"])),e.opts.autoescape),l+="\n                        ",n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"metadata"),"totalTriangle")!=n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"metadata"),"triangle")&&(l+="\n                            ",l+=n.suppressValue((a=113,s=46,n.callWrap(n.contextOrFrameLookup(t,o,"display_geometry"),"display_geometry",t,[n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"metadata"),"totalTriangle"),"converted to Triangle"])),e.opts.autoescape),l+="\n                        "),l+="\n                    </div>\n                </div>\n            "),l+='\n\n            <div class="c-model-information__row">\n                <div class="c-model-information__label">Vertices</div>\n                <div class="c-model-information__value">\n                    ',l+=n.suppressValue(e.getFilter("humanize_number").call(t,e.getFilter("default").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"vertexCount"),0)),e.opts.autoescape),l+='\n                </div>\n            </div>\n        </div>\n\n        <div class="c-model-information__col">\n            ',n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"files"),"length")&&(l+='\n                <div class="c-model-information__row">\n                    <div class="c-model-information__label">Size</div>\n                    <div class="c-model-information__value">\n                        ',l+=n.suppressValue(e.getFilter("humanize_file_size").call(t,n.memberLookup(n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"files"),0),"modelSize")),e.opts.autoescape),l+="\n                    </div>\n                </div>\n            "),l+='\n        </div>\n\n        <div class="c-model-information__col">\n            ',n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"metadata"),"hasNormal")!=n.contextOrFrameLookup(t,o,"null")&&(l+='\n                <div class="c-model-information__row">\n                    <div class="c-model-information__label">Normals</div>\n                    <div class="c-model-information__value">\n                        ',l+=n.suppressValue((a=143,s=37,n.callWrap(n.contextOrFrameLookup(t,o,"display_bool"),"display_bool",t,[n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"metadata"),"hasNormal")])),e.opts.autoescape),l+="\n                    </div>\n                </div>\n            "),l+="\n\n\n            ",l+="\n\n            ",n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"metadata"),"hasVertexColor")!=n.contextOrFrameLookup(t,o,"null")&&(l+='\n                <div class="c-model-information__row">\n                    <div class="c-model-information__label">Vertex color</div>\n                    <div class="c-model-information__value">\n                        ',l+=n.suppressValue((a=165,s=37,n.callWrap(n.contextOrFrameLookup(t,o,"display_bool"),"display_bool",t,[n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"metadata"),"hasVertexColor")])),e.opts.autoescape),l+="\n                    </div>\n                </div>\n            "),l+="\n\n            ",n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"metadata"),"pbrType")!=n.contextOrFrameLookup(t,o,"null")&&(l+='\n                <div class="c-model-information__row">\n                    <div class="c-model-information__label">PBR</div>\n                    <div class="c-model-information__value --capitalize">\n                        ',n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"metadata"),"pbrType")!=n.contextOrFrameLookup(t,o,"null")?(l+="\n                            ",l+=n.suppressValue(n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"metadata"),"pbrType"),e.opts.autoescape),l+="\n                        "):l+="\n                            No\n                        ",l+="\n                    </div>\n                </div>\n            "),l+="\n\n            ",n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"metadata"),"isRigged")!=n.contextOrFrameLookup(t,o,"null")&&(l+='\n                <div class="c-model-information__row">\n                    <div class="c-model-information__label">Rigged</div>\n                    <div class="c-model-information__value">\n                        ',l+=n.suppressValue((a=187,s=37,n.callWrap(n.contextOrFrameLookup(t,o,"display_bool"),"display_bool",t,[n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"metadata"),"isRigged")])),e.opts.autoescape),l+="\n                    </div>\n                </div>\n            "),l+="\n\n            ",n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"metadata"),"uvMapped")&&(l+='\n                <div class="c-model-information__row">\n                    <div class="c-model-information__label">UV Mapped</div>\n                    <div class="c-model-information__value">\n                      ',l+=n.suppressValue((a=196,s=35,n.callWrap(n.contextOrFrameLookup(t,o,"display_bool"),"display_bool",t,[n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"metadata"),"uvMapped")])),e.opts.autoescape),l+="\n                    </div>\n                </div>\n            "),l+="\n\n            ",l+="\n\n            ",n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"metadata"),"textureCount")&&(l+='\n                <div class="c-model-information__row">\n                    <div class="c-model-information__label">Textures</div>\n                    <div class="c-model-information__value">\n                        ',l+=n.suppressValue(e.getFilter("humanize_number").call(t,e.getFilter("default").call(t,n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"metadata"),"textureCount"),0)),e.opts.autoescape),l+="\n                    </div>\n                </div>\n            "),l+="\n\n            ",n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"metadata"),"materialCount")&&(l+='\n                <div class="c-model-information__row">\n                    <div class="c-model-information__label">Materials</div>\n                    <div class="c-model-information__value">\n                        ',l+=n.suppressValue(e.getFilter("humanize_number").call(t,e.getFilter("default").call(t,n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"metadata"),"materialCount"),0)),e.opts.autoescape),l+="\n                    </div>\n                </div>\n            "),l+="\n\n            ",n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"metadata"),"morph")&&(l+='\n                <div class="c-model-information__row">\n                    <div class="c-model-information__label">Morphs</div>\n                    <div class="c-model-information__value">\n                        ',l+=n.suppressValue(e.getFilter("humanize_number").call(t,e.getFilter("default").call(t,n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"metadata"),"morph"),0)),e.opts.autoescape),l+="\n                    </div>\n                </div>\n            "),l+="\n\n            ",n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"animationCount")&&(l+='\n                <div class="c-model-information__row">\n                    <div class="c-model-information__label">Animations</div>\n                    <div class="c-model-information__value">\n                        ',l+=n.suppressValue(e.getFilter("humanize_number").call(t,e.getFilter("default").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"animationCount"),0)),e.opts.autoescape),l+="\n                    </div>\n                </div>\n            "),l+="\n        </div>\n    </div>\n",o=r,new n.SafeString(l)});t.addExport("model_information"),t.setVariable("model_information",f),r+="\n",l?l.rootRenderFunc(e,t,o,n,i):i(null,r)})})}catch(e){i(n.handleError(e,a,s))}}return{root:e}}()}()},1395:function(e,t,o){o(16),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/molecules/inline-likes.jinja"]=function(){function e(e,t,o,n,i){var a=null,s=null,r="";try{var l=null;e.getTemplate("skfb_front/macros/user.jinja",!1,"skfb_front/macros/components/molecules/inline-likes.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("user_name_list"))return void i(new Error("cannot import 'user_name_list'"));var c=u.user_name_list;if(t.setVariable("user_name_list",c),!u.hasOwnProperty("user_inline_avatars"))return void i(new Error("cannot import 'user_inline_avatars'"));var d=u.user_inline_avatars;t.setVariable("user_inline_avatars",d);var m=n.makeMacro([],["options"],function(i){var r=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var l="";return l+='\n    <div class="c-inline-likes">',l+=n.suppressValue((a=4,s=28,n.callWrap(n.contextOrFrameLookup(t,o,"user_inline_avatars"),"user_inline_avatars",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"likes")])),e.opts.autoescape),l+="<div>",l+=n.suppressValue((a=7,s=30,n.callWrap(n.contextOrFrameLookup(t,o,"user_name_list"),"user_name_list",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"currentUser"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"likes"),{totalCount:n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"totalLikeCount"),otherAction:"on-total-click"}])),e.opts.autoescape),l+="<span> liked this model</span>\n        </div>\n    </div>\n",o=r,new n.SafeString(l)});t.addExport("inline_likes"),t.setVariable("inline_likes",m),r+="\n",l?l.rootRenderFunc(e,t,o,n,i):i(null,r)})})}catch(e){i(n.handleError(e,a,s))}}return{root:e}}()}()},1396:function(e,t){!function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/molecules/tabs.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null,r=n.makeMacro([],["options"],function(i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var s="";s+='\n    <section class="c-tabs ',s+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"className"),e.opts.autoescape),s+='">\n        <header class="c-tabs__header">\n            ',o=o.push();var r=n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"tabs");if(r)for(var l=r.length,p=0;p<r.length;p++){var u=r[p];o.set("tab",u),o.set("loop.index",p+1),o.set("loop.index0",p),o.set("loop.revindex",l-p),o.set("loop.revindex0",l-p-1),o.set("loop.first",0===p),o.set("loop.last",p===l-1),o.set("loop.length",l),s+='\n                <div\n                    class="',s+=n.suppressValue(e.getFilter("class_names").call(t,{"c-tabs__tab":!0,"--active":n.memberLookup(u,"isActive")}),e.opts.autoescape),s+='"\n                    data-action="open-tab"\n                    data-tab-index="',s+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"loop"),"index")-1,e.opts.autoescape),s+='">\n                    ',s+=n.suppressValue(n.memberLookup(u,"title"),e.opts.autoescape),s+="\n                </div>\n            "}return o=o.pop(),s+='\n        </header>\n        <main class="c-tabs__main">\n            ',s+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"tabs"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"selectedTabIndex")),"component")),e.opts.autoescape),s+="\n        </main>\n    </section>\n",o=a,new n.SafeString(s)});t.addExport("tabs"),t.setVariable("tabs",r),a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{root:e}}()}()},1397:function(e,t){!function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/molecules/comment-form.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null,r=n.makeMacro([],["options"],function(i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var s="";return s+='\n    <div class="c-comment-form">\n        ',n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),"isAnonymous")?s+='\n            <div class="new --message">\n                <div class="c-comment-form__editor-container">\n                    <div class="c-comment-form__title">\n                        You must log in to comment.\n                    </div>\n                    <div class="inner">\n                        <button class="button btn-medium btn-primary" data-action="open-login">Log in to comment</button>\n                    </div>\n                </div>\n            </div>\n        ':(s+="\n            ",n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),"isLimited")?s+='\n                <div class="new --message">\n                    <div class="c-comment-form__editor-container">\n                        <div class="c-comment-form__title">\n                            You must confirm your e-mail address to be able to comment.\n                        </div>\n                        <div class="inner">\n                            <a href="/settings/email" class="button btn-medium btn-primary">Go to email settings</a>\n                        </div>\n                    </div>\n                </div>\n            ':(s+='\n                <form data-ref="form" class="new" data-action="send-comment">\n                    <div class="c-comment-form__editor-container">\n                        <div class="c-comment-form__avatar avatar">\n                            ',s+=n.suppressValue(e.getFilter("image_container").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),"avatars"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"avatarSize"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"avatarSize")),e.opts.autoescape),s+='\n                        </div>\n                        <div class="c-comment-form__inner">\n                            ',s+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"commentEditor")),e.opts.autoescape),s+="\n    \n                            ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"hasValue")&&(s+='\n                                <button\n                                    type="submit"\n                                    class="c-comment-form__submit-button button btn-medium btn-primary"\n                                    title="Shortcut: CTRL + Enter">\n                                    Post comment\n                                </button>\n                            '),s+="\n                        </div>\n                    </div>\n                </form>\n            "),s+="\n        "),s+="\n    </div>\n",o=a,new n.SafeString(s)});t.addExport("comment_form"),t.setVariable("comment_form",r),a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{root:e}}()}()},1398:function(e,t,o){o(17),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/popups/share-preview.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null;e.getTemplate("skfb_front/layouts/popup.jinja",!0,"skfb_front/popups/share-preview.jinja",!1,function(r,l){if(r)return void i(r);s=l;for(var p in s.blocks)t.addBlock(p,s.blocks[p]);a+="\n\n";var u;u="Share Preview",o.set("popupTitle",u,!0),o.topLevel&&t.setVariable("popupTitle",u),o.topLevel&&t.addExport("popupTitle",u),a+="\n";var c;c="popup-share-preview",o.set("popupClass",c,!0),o.topLevel&&t.setVariable("popupClass",c),o.topLevel&&t.addExport("popupClass",c),a+="\n";var d;d=!0,o.set("popupClosable",d,!0),o.topLevel&&t.setVariable("popupClosable",d),o.topLevel&&t.addExport("popupClosable",d),a+="\n\n",(s?function(e,t,o,n,i){i("")}:t.getBlock("popup_content"))(e,t,o,n,function(r,l){if(r)return void i(r);a+=l,a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)})})}catch(e){i(n.handleError(e,null,null))}}function t(e,t,o,n,i){var a="";try{var o=o.push(!0);a+='\n\n    <div class="form-column-layout">\n\n        <div class="link-share">\n            <div class="form-field">\n                <label class="form-label" for="directlink">\n                    Share this secret preview link:\n                    <output class="copy-result"></output>\n                </label>\n                <div class="popup-share-preview-link">\n                    <input class="form-input directlink" value="',a+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"model"),"viewerUrl")+"?share="+n.contextOrFrameLookup(t,o,"share"),e.opts.autoescape),a+='" readonly />\n                    <button class="button btn-primary" data-clipboard-target=".popup-share-preview .directlink">copy</button>\n                </div>\n            </div>\n        </div>\n\n    </div>\n\n',i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{b_popup_content:t,root:e}}()}()},1399:function(e,t){!function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/molecules/publish-button.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null,r=n.makeMacro([],["options"],function(i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var s="";s+="\n    ";var r;return r=e.getFilter("merge").call(t,{components:{},model:{}},n.contextOrFrameLookup(t,o,"options")),o.set("options",r,!0),o.topLevel&&t.setVariable("options",r),o.topLevel&&t.addExport("options",r),s+='\n    <span class="help ',s+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"className"),e.opts.autoescape),s+='">\n        ',s+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"button")),e.opts.autoescape),s+='\n\n        <div class="tooltip tooltip-down">\n            ',n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"isProtected")?s+="\n                Only people with password and link will have access. No notifications will be sent.\n            ":n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"isPrivate")?s+="\n                Only people with link will have access. No notifications will be sent.\n            ":s+="\n                Everyone will have access. Followers will be notified.\n            ",s+="\n        </div>\n    </span>\n",o=a,new n.SafeString(s)});t.addExport("publish_button"),t.setVariable("publish_button",r),a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{root:e}}()}()},1400:function(e,t,o){o(17),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/popups/licenses.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null;e.getTemplate("skfb_front/layouts/popup.jinja",!0,"skfb_front/popups/licenses.jinja",!1,function(r,l){if(r)return void i(r);s=l;for(var p in s.blocks)t.addBlock(p,s.blocks[p]);a+="\n\n";var u;u="Creative Commons license",o.set("popupTitle",u,!0),o.topLevel&&t.setVariable("popupTitle",u),o.topLevel&&t.addExport("popupTitle",u),a+="\n";var c;c="popup-licenses",o.set("popupClass",c,!0),o.topLevel&&t.setVariable("popupClass",c),o.topLevel&&t.addExport("popupClass",c),a+="\n\n",(s?function(e,t,o,n,i){i("")}:t.getBlock("popup_content"))(e,t,o,n,function(r,l){if(r)return void i(r);a+=l,a+="\n\n",(s?function(e,t,o,n,i){i("")}:t.getBlock("popup_footer"))(e,t,o,n,function(r,l){if(r)return void i(r);a+=l,a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)})})})}catch(e){i(n.handleError(e,null,null))}}function t(e,t,o,n,i){var a="";try{var o=o.push(!0);a+='\n<div>\n    <input type="hidden" name="license" id="license" value="cc">\n\n    <div class="license-infos">\n\n        \x3c!-- <div class="license-info license-info-rightsreserved" data-license="">\n            <p>\n                All rights reserved. Others must ask for your permission to\n                use your model.\n            </p>\n        </div> --\x3e\n\n        <div class="license-info license-info-cc" data-license="cc">\n            \x3c!-- <p>\n                Creative Commons is best for sharing freely your model while\n                keeping control on what others can and can\'t do.\n            </p> --\x3e\n            <p>\n                Select what others can and can\'t do:\n            </p>\n\n            <div class="license-info-cc-options">\n                <div class="option license-info-cc-options-attribution">\n                    <div class="title">\n                        <div class="form-checkbox-wrapper">\n                            <input id="attribution" disabled value="1000" class="form-checkbox" type="checkbox" name="attribution" checked="checked">\n                            <label class="form-checkbox-actor" for="attribution"></label>\n                        </div>\n                        <h2><label for="attribution">Attribution</label></h2>\n                    </div>\n                    <p class="description">\n                        Others can distribute, remix, tweak, and build upon your\n                        work as long as they credit you for the original creation.\n                    </p>\n                </div>\n                <div class="option license-info-cc-options-attribution">\n                    <div class="title">\n                        <div class="form-checkbox-wrapper">\n                            <input id="noncommercial" value="100" class="form-checkbox" type="checkbox" name="noncommercial">\n                            <label class="form-checkbox-actor" for="noncommercial"></label>\n                        </div>\n                        <h2><label for="noncommercial">Non Commercial</label></h2>\n                    </div>\n                    <p class="description">\n                        Others can not use your work commercially.\n                    </p>\n                </div>\n                <div class="option license-info-cc-options-attribution">\n                    <div class="title">\n                        <div class="form-checkbox-wrapper">\n                            <input id="noderivs" value="10" class="form-checkbox" type="checkbox" name="noderivs">\n                            <label class="form-checkbox-actor" for="noderivs"></label>\n                        </div>\n                        <h2><label for="noderivs">No derivatives</label></h2>\n                    </div>\n                    <p class="description">\n                        Others can redistribute as long as it is passed along\n                        unchanged and in whole.\n                    </p>\n                </div>\n                <div class="option license-info-cc-options-attribution">\n                    <div class="title">\n                        <div class="form-checkbox-wrapper">\n                            <input id="sharealike" value="1" class="form-checkbox" type="checkbox" name="sharealike">\n                            <label class="form-checkbox-actor" for="sharealike"></label>\n                        </div>\n                        <h2><label for="sharealike">Share alike</label></h2>\n                    </div>\n                    <p class="description">\n                        Others can remix, tweak, and build upon your work as\n                        long as they license their new creations under\n                        the identical terms.\n                    </p>\n                </div>\n            </div>\n        </div>\n\n        <div class="license-info license-info-publicdomain" data-license="public-domain">\n            <p>\n                No Copyright. Others can copy, modify, distribute and perform the work, even for\n                commercial purposes, all without asking permission.\n                <a href="https://creativecommons.org/publicdomain/zero/1.0/" target="_blank" rel="noopener noreferrer nofollow">More info</a>\n            </p>\n        </div>\n\n    </div>\n</div>\n',i(null,a)}catch(e){i(n.handleError(e,null,null))}}function o(e,t,o,n,i){var a="";try{var o=o.push(!0);a+='\n\n    <div class="actions">\n        <button class="button btn-medium btn-tertiary" type="reset">Cancel</button>\n        <button class="button btn-medium btn-primary" type="submit">Select</button>\n    </div>\n\n',i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{b_popup_content:t,b_popup_footer:o,root:e}}()}()},1401:function(e,t,o){e.exports=o.p+"upload-size-forbidden-7a8dc950f826ca0c638940762bffa75c.svg"},141:function(e,t,o){"use strict";var n=o(9),i=o.n(n),a=o(6),s=o(2),r=o(1),l=o(63),p=o(29),u=o(35),c=o(117),d=o(148),m=o(202),h=(o.n(m),a.a.extend({displayName:"Star",optionTypes:{color:r.b.string,backgroundColor:r.b.string,size:r.b.number,percentage:r.b.number,onClick:r.b.func},defaultOptions:{color:"",backgroundColor:"",size:30,percentage:1,onClick:p.d},events:{click:function(e){this.options.onClick(e)}},template:function(){return s.default.getFromMacro("skfb_front/macros/components/atoms/star-rating","star",[i()({},this.options,{cid:this.cid})])}}));t.a=a.a.extend({displayName:"StarRating",mixins:[d.a,c.a],optionTypes:{value:r.b.numberBetween(0,5).isRequired,size:r.b.oneOf(["small","medium","large"]),color:r.b.string,onChange:r.b.func},defaultOptions:{size:"medium",onChange:p.d},events:{dragstart:"getPercentX |> onDrag",drag:"getPercentX |> onDrag"},getPercentX:function(e){return(Object(u.b)(e).x-this.refs.$container.offset().left)/this.refs.$container.width()},onDrag:function(e){var t=Object(l.b)(0,5,Math.ceil(5*e));t!==this.options.value&&this.options.onChange(t)},getStarSize:function(){switch(this.options.size){case"small":return 10;case"medium":return 16;case"large":return 20}},template:function(){return s.default.getFromMacro("skfb_front/macros/components/atoms/star-rating","star_rating",[{hasClickEvent:this.options.onChange!==p.d,components:this.createChildrenComponents({stars:[1,2,3,4,5].map(function(e,t){return{viewClass:h,options:{key:t,size:this.getStarSize(),percentage:Object(l.b)(0,1,(this.options.value||0)-t),color:this.options.color,onClick:function(){this.options.onChange(e)}.bind(this)}}}.bind(this))})}])}})},144:function(e,t){!function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/molecules/empty-states/default-empty-state.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null,r=n.makeMacro([],["options"],function(i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var s="";return s+='\n    <div class="no-result">',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"message")?s+=n.suppressValue(e.getFilter("safe").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"message")),e.opts.autoescape):s+="No results",s+="</div>\n",o=a,new n.SafeString(s)});t.addExport("default_empty_state"),t.setVariable("default_empty_state",r),a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{root:e}}()}()},145:function(e,t,o){"use strict";var n=o(6),i=o(2),a=o(29),s=o(91),r=o(1),l=o(92),p=n.a.extend({displayName:"MessagePopupContent",template:function(){var e=this.options,t=e.buttons,o=void 0===t?[]:t,n=e.children,a=void 0===n?[]:n;return i.default.getFromString('\n                <div class="c-message-popup">\n                    <div class="c-message-popup__content">\n                        {{ options.html | safe }}\n                        {% if options.text %}\n                            <p class="c-message-popup__text">{{ options.text }}</p>\n                        {% endif %}\n                        {{ components.children | component }}\n                    </div>\n                    {% if components.buttons.length %}\n                        <div class="c-message-popup__buttons">\n                            {{ components.buttons | component }}\n                        </div>\n                    {% endif %}\n                </div>\n                ',{options:this.options,components:this.createChildrenComponents({buttons:o,children:a})})}});t.a=Object(s.a)(n.a.extend({displayName:"MessagePopup",optionTypes:{title:r.b.string.isRequired,popup:r.b.object.isRequired,text:r.b.string,html:r.b.string,children:r.b.component,width:r.b.number,renderButtons:r.b.func},defaultOptions:{title:"",text:"",html:"",width:450,shouldRejectOnCancel:!0,renderButtons:a.d},template:function(){return i.default.getFromString("{{ components.popup | component }}",{components:this.createChildrenComponents({popup:{viewClass:l.a,options:{title:this.options.title,width:this.options.width,child:{viewClass:p,options:{html:this.options.html,text:this.options.text,children:this.options.children,buttons:this.options.renderButtons(this.options.popup)}}}}})})}}))},1455:function(e,t,o){"use strict";var n=o(3),i=o.n(n),a=o(0),s=(o.n(a),o(49)),r=o(7),l=o(33),p=o(18);t.a=r.a.extend({events:{"submit form":"tryPassword"},initialize:function(){r.a.prototype.initialize.apply(this,arguments),void 0===s.a.get("sb_csrftoken")&&p.a.getCsrf().catch(function(){new l.default({title:"Warning",text:["The model can not be displayed on this site ","because your browser is blocking cookies.<br />","To view this model, allow cookies or ",'<a href="'+window.location+'" target="_blank">view it on sketchfab.com</a>.'].join(" "),safe:!0,buttons:{ok:!0}}).open().then(function(){window.open(window.location,"_blank")})}),this.deferred=i.a.Deferred(),this.promise=this.deferred.promise()},tryPassword:Object(a.throttle)(function(){!this.throttled&&this.$('[name="password"]').val()&&(this.$el.find(".form-error").fadeOut(),i.a.post(window.location.href,{password:this.$('[name="password"]').val()}).then(function(e){this.deferred.resolve(e.result.redirectTo)}.bind(this),function(e){if(401===e.status)this.$(".form-error").fadeIn(),this.$('[name="password"]').val("");else if(429===e.status){var t=i()(".button.submit");t.addClass("btn-disabled"),this.throttled=!0,setTimeout(function(){t.removeClass("btn-disabled"),this.throttled=!1}.bind(this),3e4),new l.default({title:"Too many wrong password attempts",text:"You have entered too many wrong passwords. Please wait a minute before trying again.",popupClosable:!0}).open()}else new l.default({title:"Unexpected error",text:'Please try again later or <a href="https://help.sketchfab.com/hc/en-us/requests/new?type=accounts_general&utm_source=website&utm_campaign=email-confirmation-error" target="_blank">contact us</a> if the error persists',safe:!0,popupClosable:!0}).open()}.bind(this)))},1e3),then:function(){return this.promise.then.apply(this.promise,arguments)}})},1456:function(e,t,o){"use strict";var n=o(38),i=o(2),a=o(1),s=o(37),r=o(1761),l=o(141),p=o(1394);o.n(p);t.a=n.a.extend({displayName:"ModelInformation",optionTypes:{model:a.b.shape({isDownloadable:a.b.bool,downloadCount:a.b.number,ext:a.b.string,archiveSize:a.b.number,status:a.b.shape({processing:a.b.string.isRequired}),faceCount:a.b.number,vertexCount:a.b.number,license:a.b.object,extraArchive:a.b.shape({metadata:a.b.shape({"3d":a.b.arrayOf(a.b.object.isRequired),summary:a.b.arrayOf(a.b.string.isRequired)}).isRequired,filename:a.b.string.isRequired})}).isRequired,authUser:a.b.shape({features:a.b.arrayOf(a.b.string.isRequired).isRequired}).isRequired,onInspect:a.b.func,onReviewsClick:a.b.func},events:{'click [data-action="showExtraFile"]':function(){new r.a({extraArchive:this.options.model.extraArchive}).open()},'click [data-action="scrollToReviews"]':function(){this.options.onReviewsClick&&this.options.onReviewsClick()}},template:function(){var e={};return this.options.onInspect&&(e.inspectButton={viewClass:s.a,options:{text:"inspect the model",subtext:"materials and more",size:"large",onClick:this.options.onInspect,iconClassName:"custom-icons icon-inspector",iconAttrs:{style:{transform:"scale(4)",marginTop:"5px"}},style:{width:"100%",fontWeight:"700"}}}),this.options.model.inStore&&this.options.onReviewsClick&&this.options.model.averageRating&&(e.modelRating={viewClass:l.a,options:{size:"medium",value:this.options.model.averageRating}}),i.default.getFromMacro("skfb_front/macros/components/molecules/model-information","model_information",[{model:this.options.model,authUser:this.options.authUser,components:this.createChildrenComponents(e),shouldDisplayReviews:!!this.options.onReviewsClick}])}})},148:function(e,t,o){"use strict";var n=o(0),i=(o.n(n),o(29));t.a={name:"WithEventCompose",constructor:function(){var e=this;this.events=Object(n.mapValues)(this.events,function(t){return"string"!=typeof t?t:t.split("|>").map(n.trim).reduce(function(t,o){if(!e[o])throw new Error("WithEventCompose error: method '"+o+"' do not exist on view '"+e.displayName+"'.");return Object(i.b)(e[o].bind(e),t)},i.c)})}}},149:function(e,t,o){"use strict";var n=o(0),i=(o.n(n),o(4)),a=o(12),s=o(335),r=o(116),l=o(2),p=o(1);t.a=r.a.extend({displayName:"LikeButton",optionTypes:{popoverElement:p.b.object,trackerEvent:p.b.string},defaultOptions:{trackerEvent:null,popoverElement:null},events:{click:"likeModelAction"},children:{sharePopover:{selector:".popover",viewClass:s.a,shouldCreateChild:function(){return!!this.options.popoverElement},options:function(){return{popoverElement:this.options.popoverElement,model:this.model}}}},constructor:function(){this.likeModelAction=Object(n.throttle)(this.likeModelAction,1e3),r.a.apply(this,arguments)},initialize:function(){r.a.prototype.initialize.apply(this,arguments),this.initializeChildren(),i.a.me().on("change:likes",this.render,this),this.model.on("change:likeCount",this.updateLikeCount,this),this.options.popoverElement&&this.model.on("change:sharing",this.setShortUrl,this),this.populate()},viewWillUnmount:function(){i.a.me().off("change:likes",this.render,this),this.model.off("change:likeCount",this.updateLikeCount,this),this.options.popoverElement&&this.model.off("change:sharing",this.setShortUrl,this)},setElement:function(){return r.a.prototype.setElement.apply(this,arguments),this.hasChild("sharePopover")&&this.children.sharePopover.setOptions({popoverElement:this.options.popoverElement}),this},populate:function(){var e=this.model.get("uid");i.a.me().getDoesLike(e).then(this.render.bind(this))},likeModelAction:function(){if(this.isReady&&!this.isLoading){this.setIsLoading();var e=this.model.get("uid"),t=i.a.me().doesLike(e),o=!t,n=t?"unlike":"like";this.toggle(o),this.model.toggleLike().then(function(){null!==this.options.trackerEvent&&a.a[this.options.trackerEvent](e,"like"===n),"like"===n&&this.options.popoverElement&&(this.options.popoverElement.removeClass("hidden"),this.options.popoverElement.parent().addClass("active-popover")),this.options.popoverElement&&void 0===this.model.get("sharing")&&this.model.sharing()}.bind(this)).catch(this.toggle.bind(this,t)).then(this.setIsReady.bind(this))}},setShortUrl:function(){this.$el.find(".directlink").val(this.model.get("sharing").shortUrl)},toggle:function(e){this.$el.toggleClass("liked",e)},updateLikeCount:function(){var e=this.model.get("likeCount");this.$(".count").text(l.default.getFromString("{{ count | humanize_number }}",{count:e})),this.$(".label").text(1===e?"Like":"Likes")},render:function(){this.toggle(i.a.me().doesLike(this.model.get("uid"))),this.isLoading||this.setIsReady(),this.renderChildren()}})},1496:function(e,t,o){var n,i,a;!function(s,r){i=[e,o(1498),o(1500),o(1501)],n=r,void 0!==(a="function"==typeof n?n.apply(t,i):n)&&(e.exports=a)}(0,function(e,t,o,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var o="data-clipboard-"+e;if(t.hasAttribute(o))return t.getAttribute(o)}var p=i(t),u=i(o),c=i(n),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),h=function(e){function t(e,o){a(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.resolveOptions(o),n.listenClick(e),n}return r(t,e),m(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===d(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,c.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new p.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return l("action",e)}},{key:"defaultTarget",value:function(e){var t=l("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return l("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,o=!!document.queryCommandSupported;return t.forEach(function(e){o=o&&!!document.queryCommandSupported(e)}),o}}]),t}(u.default);e.exports=h})},1498:function(e,t,o){var n,i,a;!function(s,r){i=[e,o(1499)],n=r,void 0!==(a="function"==typeof n?n.apply(t,i):n)&&(e.exports=a)}(0,function(e,t){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(e){return e&&e.__esModule?e:{default:e}}(t),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=function(){function e(t){o(this,e),this.resolveOptions(t),this.initSelection()}return a(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var o=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=o+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,n.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,n.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":i(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=s})},1499:function(e,t){function o(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var o=e.hasAttribute("readonly");o||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),o||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),i=document.createRange();i.selectNodeContents(e),n.removeAllRanges(),n.addRange(i),t=n.toString()}return t}e.exports=o},15:function(e,t,o){o(32),o(52),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/model.jinja"]=function(){function e(e,t,o,n,i){var a=null,s=null,r="";try{var l=null;e.getTemplate("skfb_front/macros/buttons.jinja",!1,"skfb_front/macros/model.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("star_like_button"))return void i(new Error("cannot import 'star_like_button'"));var c=u.star_like_button;t.setVariable("star_like_button",c),r+="\n",e.getTemplate("skfb_front/macros/utils.jinja",!1,"skfb_front/macros/model.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("humanize_count"))return void i(new Error("cannot import 'humanize_count'"));var c=u.humanize_count;t.setVariable("humanize_count",c),r+="\n\n";var d=n.makeMacro(["model"],["options"],function(i,a){var s=o;o=new n.Frame,a=a||{},a.hasOwnProperty("caller")&&o.set("caller",a.caller),o.set("model",i),o.set("options",a.hasOwnProperty("options")?a.options:{});var r="";r+="\n    ";var l;l=e.getFilter("merge").call(t,{withStaffpickFlag:!0,withStaffpickLink:!1,withRestrictedFlag:!0,displayRecentlyStaffpicked:!1},n.contextOrFrameLookup(t,o,"options")),o.set("options",l,!0),o.topLevel&&t.setVariable("options",l),o.topLevel&&t.addExport("options",l),r+="\n    ";var p;return p=n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"displayRecentlyStaffpicked")&&n.memberLookup(i,"recentlyStaffpicked"),o.set("recentlyStaffpicked",p,!0),o.topLevel&&t.setVariable("recentlyStaffpicked",p),o.topLevel&&t.addExport("recentlyStaffpicked",p),r+="\n\n    ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"withStaffpickLink")&&n.memberLookup(i,"staffpickedAt")?r+='\n        <meta itemprop="award" content="Staff Pick" />\n        <a href="/models/staffpicks" class="flag --staffpicked" title="See all staff picks"></a>\n    ':n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"withStaffpickFlag")&&n.memberLookup(i,"staffpickedAt")&&(r+='\n        <meta itemprop="award" content="Staff Pick" />\n        <span class="flag --staffpicked ',n.contextOrFrameLookup(t,o,"recentlyStaffpicked")&&(r+="--with-text"),r+='" title="Staff Picks"></span>\n    '),r+="\n\n    ",(n.memberLookup(i,"isRestricted")||n.memberLookup(i,"isAdult"))&&(r+="\n        ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"withRestrictedFlag")&&(r+='\n            <a\n                href="https://help.sketchfab.com/hc/en-us/articles/214867883-Age-Restricted-Content"\n                target="_blank"\n                class="flag --restricted"\n                title="Age-restricted content"></a>\n        '),r+="\n    "),r+="\n",o=s,new n.SafeString(r)});t.addExport("model_labels"),t.setVariable("model_labels",d),r+="\n\n";var m=n.makeMacro(["authUser","model"],["options"],function(i,r,l){var p=o;o=new n.Frame,l=l||{},l.hasOwnProperty("caller")&&o.set("caller",l.caller),o.set("authUser",i),o.set("model",r),o.set("options",l.hasOwnProperty("options")?l.options:{});var u,c="";return u=e.getFilter("merge").call(t,{clickable:!0},n.contextOrFrameLookup(t,o,"options")),o.set("options",u,!0),o.topLevel&&t.setVariable("options",u),o.topLevel&&t.addExport("options",u),c+='<span class="model-name">\n\n        ',n.memberLookup(r,"isProtected")?c+='\n            <i class="model-name__icon fa fa-lock --protected"></i>\n        ':n.memberLookup(r,"isPrivate")&&(c+='\n            <i class="model-name__icon custom-icons icon-private --private"></i>\n        '),c+="\n\n        ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"clickable")?(c+='\n            <a class="model-name__label" href="',c+=n.suppressValue(n.memberLookup(r,"viewerUrl"),e.opts.autoescape),c+='"',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"target")&&(c+=' target="',c+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"target"),e.opts.autoescape),c+='"'),c+=' title="',c+=n.suppressValue(n.memberLookup(r,"name"),e.opts.autoescape),c+='">',c+=n.suppressValue(n.memberLookup(r,"name"),e.opts.autoescape),c+="</a>\n        "):(c+='\n            <span class="model-name__label">',c+=n.suppressValue(n.memberLookup(r,"name"),e.opts.autoescape),c+="</span>\n        "),c+="\n\n        ",c+=n.suppressValue((a=49,s=21,n.callWrap(n.contextOrFrameLookup(t,o,"model_labels"),"model_labels",t,[r,n.contextOrFrameLookup(t,o,"options")])),e.opts.autoescape),c+="\n\n    </span>",o=p,new n.SafeString(c)});t.addExport("model_name"),t.setVariable("model_name",m),r+="\n\n";var h=n.makeMacro(["authUser","list"],["options"],function(i,r,l){var p=o;o=new n.Frame,l=l||{},l.hasOwnProperty("caller")&&o.set("caller",l.caller),o.set("authUser",i),o.set("list",r),o.set("options",l.hasOwnProperty("options")?l.options:{});var u,c="";u=e.getFilter("merge").call(t,{maxDisplayed:3,othersHref:""},n.contextOrFrameLookup(t,o,"options")),o.set("options",u,!0),o.topLevel&&t.setVariable("options",u),o.topLevel&&t.addExport("options",u);var d;d=e.getFilter("first_n").call(t,r,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"maxDisplayed")),o.set("shortList",d,!0),o.topLevel&&t.setVariable("shortList",d),o.topLevel&&t.addExport("shortList",d);var m;m=e.getFilter("length").call(t,r)-e.getFilter("length").call(t,n.contextOrFrameLookup(t,o,"shortList")),o.set("otherCount",m,!0),o.topLevel&&t.setVariable("otherCount",m),o.topLevel&&t.addExport("otherCount",m),o=o.push();var h=n.contextOrFrameLookup(t,o,"shortList");if(h)for(var f=h.length,v=0;v<h.length;v++){var b=h[v];o.set("model",b),o.set("loop.index",v+1),o.set("loop.index0",v),o.set("loop.revindex",f-v),o.set("loop.revindex0",f-v-1),o.set("loop.first",0===v),o.set("loop.last",v===f-1),o.set("loop.length",f),n.memberLookup(n.contextOrFrameLookup(t,o,"loop"),"first")||(n.memberLookup(n.contextOrFrameLookup(t,o,"loop"),"last")&&n.contextOrFrameLookup(t,o,"otherCount")<1?c+="<span> and </span>":c+="<span>, </span>"),c+=n.suppressValue((a=71,s=19,n.callWrap(n.contextOrFrameLookup(t,o,"model_name"),"model_name",t,[i,b,{withStaffpickFlag:!1,withStaffpickLink:!1,withRestrictedFlag:!1}])),e.opts.autoescape)}return o=o.pop(),n.contextOrFrameLookup(t,o,"otherCount")>0&&(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"othersHref")?(c+='<a href="',c+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"othersHref"),e.opts.autoescape),c+='" class="others"> and ',c+=n.suppressValue(n.contextOrFrameLookup(t,o,"otherCount"),e.opts.autoescape),c+=" other",c+=n.suppressValue(e.getFilter("pluralize").call(t,n.contextOrFrameLookup(t,o,"otherCount")),e.opts.autoescape),c+="</a>"):(c+='<span class="others"> and ',c+=n.suppressValue(n.contextOrFrameLookup(t,o,"otherCount"),e.opts.autoescape),c+=" other",c+=n.suppressValue(e.getFilter("pluralize").call(t,n.contextOrFrameLookup(t,o,"otherCount")),e.opts.autoescape),c+="</span>")),o=p,new n.SafeString(c)});t.addExport("model_name_list"),t.setVariable("model_name_list",h),r+="\n\n";var f=n.makeMacro(["authUser","model"],["options"],function(i,a,s){var r=o;o=new n.Frame,s=s||{},s.hasOwnProperty("caller")&&o.set("caller",s.caller),o.set("authUser",i),o.set("model",a),o.set("options",s.hasOwnProperty("options")?s.options:{});var l="";l+="\n\n    ";var p;return p=e.getFilter("merge").call(t,{withProperties:!0,withPublish:!0,with3DSettings:!0},n.contextOrFrameLookup(t,o,"options")),o.set("options",p,!0),o.topLevel&&t.setVariable("options",p),o.topLevel&&t.addExport("options",p),l+='\n\n    <ul class="hover-menu quicksettings corner ',l+=n.suppressValue(e.getFilter("class_names").call(t,{"--up":"up"==n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"direction"),"--left":"left"==n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"direction")}),e.opts.autoescape),l+='">\n\n        ',2==n.memberLookup(a,"processingStatus")&&(l+="\n            ",!n.memberLookup(a,"publishedAt")&&n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"withPublish")&&(l+='\n                <li><a data-action="publish">Publish</a></li>\n                <li class="separator"></li>\n            '),l+="\n\n            ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"withProperties")&&(l+='\n                <li><a data-action="open-settings-popup">Properties</a></li>\n            '),l+="\n\n            ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"with3DSettings")&&(l+='\n                <li><a href="',l+=n.suppressValue(n.memberLookup(a,"editorUrl"),e.opts.autoescape),l+='" data-action="settings3d-button">3D settings</a></li>\n            '),l+="\n\n            ",n.memberLookup(a,"publishedAt")&&(l+='\n                <li><a data-action="open-collection-popup">Add to collection</a></li>\n            '),l+='\n\n            <li class="separator"></li>\n\n        '),l+="\n\n        ",n.memberLookup(a,"processingStatus")>1&&(l+='\n            <li><a data-action="open-reupload-popup">Re-upload</a></li>\n            <li class="js-duplicate"></li>\n            <li class="separator"></li>\n            <li><a class="--red" data-action="delete-model">Delete</a></li>\n        '),l+='\n        <li><a data-action="report-issue">Report an issue</a></li>\n\n    </ul>\n\n',o=r,new n.SafeString(l)});t.addExport("model_quicksettings"),t.setVariable("model_quicksettings",f),r+="\n\n";var v=n.makeMacro([],[],function(e){var t=o;o=new n.Frame,e=e||{},e.hasOwnProperty("caller")&&o.set("caller",e.caller);var i="";return i+='\n\n    <div class="card-preview" data-action="open-preview">\n        <i class="card-preview__icon fa fa-search" title="see preview"></i>\n    </div>\n\n',o=t,new n.SafeString(i)});t.addExport("preview_link"),t.setVariable("preview_link",v),r+="\n\n";var b=n.makeMacro(["authUser","model"],["options"],function(e,i,a){var s=o;o=new n.Frame,a=a||{},a.hasOwnProperty("caller")&&o.set("caller",a.caller),o.set("authUser",e),o.set("model",i),o.set("options",a.hasOwnProperty("options")?a.options:{});var r="";return r+='\n\n    <ul class="hover-menu quicksettings corner',"up"==n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"direction")&&(r+=" hover-menu-up"),"left"==n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"direction")&&(r+=" hover-menu-left"),r+='">\n        <li><a data-action="remove-model">Remove</a></li>\n    </ul>\n\n',o=s,new n.SafeString(r)});t.addExport("collection_item_quicksettings"),t.setVariable("collection_item_quicksettings",b),r+="\n\n";var g=n.makeMacro(["authUser","model"],["options"],function(i,r,l){var p=o;o=new n.Frame,l=l||{},l.hasOwnProperty("caller")&&o.set("caller",l.caller),o.set("authUser",i),o.set("model",r),o.set("options",l.hasOwnProperty("options")?l.options:{});var u="";return u+='\n\n    <div class="model-uploadcard">\n\n        <h3 class="filename">\n            <a href="',u+=n.suppressValue(n.memberLookup(r,"viewerUrl"),e.opts.autoescape),u+='">',n.memberLookup(r,"name")?u+=n.suppressValue((a=158,s=31,n.callWrap(n.contextOrFrameLookup(t,o,"model_name"),"model_name",t,[i,r,{withStaffpickFlag:!1}])),e.opts.autoescape):u+=n.suppressValue(e.getFilter("default").call(t,n.memberLookup(r,"originalFileName"),"No file name"),e.opts.autoescape),u+='</a>\n        </h3>\n        <div class="meta">',n.memberLookup(r,"name")&&(u+='<span class="original-filename">\n                    ',u+=n.suppressValue(e.getFilter("default").call(t,n.memberLookup(r,"originalFileName"),"No file name"),e.opts.autoescape),u+="\n                </span>"),n.memberLookup(r,"processedAt")?(u+='\n                <span class="date" title="',u+=n.suppressValue(n.memberLookup(r,"processedAt"),e.opts.autoescape),u+='">',u+=n.suppressValue(e.getFilter("time_ago").call(t,n.memberLookup(r,"processedAt")),e.opts.autoescape),u+="</span>\n            "):(u+='\n                <span class="date" title="',u+=n.suppressValue(n.memberLookup(r,"createdAt"),e.opts.autoescape),u+='">',u+=n.suppressValue(e.getFilter("time_ago").call(t,n.memberLookup(r,"createdAt")),e.opts.autoescape),u+="</span>\n            "),u+='\n        </div>\n\n        <div class="status">',0==n.memberLookup(r,"processingStatus")?u+='<div class="help">\n                    <i class="icon spinner-small-slow"></i>\n                    <div class="tooltip tooltip-down">Pending</div>\n                </div>':1==n.memberLookup(r,"processingStatus")?u+='<div class="help">\n                    <i class="icon spinner-small"></i>\n                    <div class="tooltip tooltip-down">Processing</div>\n                </div>':2==n.memberLookup(r,"processingStatus")?n.memberLookup(r,"isPublished")?u+='<div class="help">\n                        <i class="icon fa fa-check"></i>\n                        <div class="tooltip tooltip-down">Published</div>\n                    </div>':(u+='<button type="button" class="button btn-important btn-medium" data-action="publish">\n                        Publish\n                    </button>\n\n                    <a href="/models/',u+=n.suppressValue(n.memberLookup(r,"uid"),e.opts.autoescape),u+='/edit" class="button btn-tertiary btn-medium btn-edit" data-action="edit">\n                        3D Settings\n                    </a>'):3==n.memberLookup(r,"processingStatus")&&(u+='<div class="help">\n                    <i class="icon fa fa-times"></i>\n                    <div class="tooltip tooltip-down">Error</div>\n                </div>'),u+='</div>\n\n        <div class="model-uploadcard-settings">\n            <div class="button btn-medium btn-tertiary"',n.memberLookup(r,"processingStatus")<2&&(u+=" disabled"),u+='>\n                <i class="fa fa-cog"></i>\n                ',u+=n.suppressValue((a=226,s=36,n.callWrap(n.contextOrFrameLookup(t,o,"model_quicksettings"),"model_quicksettings",t,[i,r,{direction:"left",withPublish:!1}])),e.opts.autoescape),u+="\n            </div>\n        </div>\n\n    </div>\n\n",o=p,new n.SafeString(u)});t.addExport("model_uploadcard"),t.setVariable("model_uploadcard",g),r+="\n\n\n";var k=n.makeMacro(["authUser"],["options"],function(i,a){var s=o;o=new n.Frame,a=a||{},a.hasOwnProperty("caller")&&o.set("caller",a.caller),o.set("authUser",i),o.set("options",a.hasOwnProperty("options")?a.options:{});var r="";return r+='\n\n    <div class="annotation" data-hotspot="',r+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"hotspotIndex"),e.opts.autoescape),r+='">\n\n        <div class="tooltip">\n\n            ',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"editMode")?r+='\n                <form class="tooltip-content">\n                    <div class="edition">\n                        <input class="title" placeholder="Title *" maxlength="64" required>\n                        <textarea class="description" placeholder="Description (add links, images and other formatting with Markdown)" maxlength="1024" rows="2"></textarea>\n                    </div>\n                    <div class="render">\n                        <div class="title"></div>\n                        <div class="markdown-editor">\n                            <div class="description markdown-rendered-content inversed"></div>\n                        </div>\n                    </div>\n                    <div class="meta">\n                        <button type="submit" class="submit button btn-primary btn-small">OK</button>\n                        <div class="meta__mode">\n                            <i class="fa fa-pencil activate-edition selected" title="Edit"></i>\n                            <i class="fa fa-eye activate-render" title="Preview"></i>\n                        </div>\n                    </div>\n                </form>\n            ':r+='\n\n                <div class="tooltip-content">\n                    <div class="tooltip-content-minimal">\n                        <div class="title"></div>\n                        <a href="#" class="more">+ more info</a>\n                    </div>\n                    <div class="title"></div>\n                    <div class="description markdown-rendered-content inversed"></div>\n                </div>\n\n            ',r+="\n\n        </div>\n\n    </div>\n\n",o=s,new n.SafeString(r)});t.addExport("model_hotspot"),t.setVariable("model_hotspot",k),r+="\n\n\n";var _=n.makeMacro([],["options"],function(i){var r=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var l="";l+="\n\n";var p;p=30,o.set("width_before",p,!0),o.topLevel&&t.setVariable("width_before",p),o.topLevel&&t.addExport("width_before",p),l+="\n";var u;u=960,o.set("width_next",u,!0),o.topLevel&&t.setVariable("width_next",u),o.topLevel&&t.addExport("width_next",u),l+='\n\n<div class="annotation vr visible" data-hotspot="',l+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"hotspotIndex"),e.opts.autoescape),l+='" style="width:',l+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"widthContent"),e.opts.autoescape),l+='px;height:576px;position:absolute;top:30px;left:30px;">\n\n    <div class="tooltip visible" style="width:',l+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"widthContent"),e.opts.autoescape),l+='px;border-radius:30px;left:0;">\n        <div class="tooltip-content" style="width:',l+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"widthContent"),e.opts.autoescape),l+='px;height:576px;border-radius:30px;display:flex;flex-direction:column;">\n\n            <div class="title" style="font-size:48px;line-height:1.5;padding:10px 80px 0 80px;">',l+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"title"),e.opts.autoescape),l+="</div>",o=o.push();var c=(a=293,s=32,n.callWrap(n.contextOrFrameLookup(t,o,"range"),"range",t,[0,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"column")]));if(c)for(var d=c.length,m=0;m<c.length;m++){var h=c[m];o.set("column",h),o.set("loop.index",m+1),o.set("loop.index0",m),o.set("loop.revindex",d-m),o.set("loop.revindex0",d-m-1),o.set("loop.first",0===m),o.set("loop.last",m===d-1),o.set("loop.length",d),n.contextOrFrameLookup(t,o,"width_before")>30&&(l+='<div class="fa fa-arrow-left" style="font-size:40px;position:absolute;top:250px;left:',l+=n.suppressValue(n.contextOrFrameLookup(t,o,"width_before"),e.opts.autoescape),l+='px"></div>');var f;f=n.contextOrFrameLookup(t,o,"width_before")+1024,o.set("width_before",f,!0),o.topLevel&&t.setVariable("width_before",f),o.topLevel&&t.addExport("width_before",f)}o=o.pop(),l+='<div class="description" style="column-gap:180px;column-count:',l+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"column"),e.opts.autoescape),l+=';font-size:36px;width:100%;line-height:1.5;padding:10px 80px 0 80px;">',l+=n.suppressValue(e.getFilter("safe").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"description")),e.opts.autoescape),l+="</div>",o=o.push();var v=(a=302,s=32,n.callWrap(n.contextOrFrameLookup(t,o,"range"),"range",t,[1,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"column")]));if(v)for(var b=v.length,g=0;g<v.length;g++){var k=v[g];o.set("column",k),o.set("loop.index",g+1),o.set("loop.index0",g),o.set("loop.revindex",b-g),o.set("loop.revindex0",b-g-1),o.set("loop.first",0===g),o.set("loop.last",g===b-1),o.set("loop.length",b),l+='<div class="fa fa-arrow-right" style="font-size:40px;position:absolute;top:250px;left:',l+=n.suppressValue(n.contextOrFrameLookup(t,o,"width_next"),e.opts.autoescape),l+='px"></div>\n                ';var _;_=n.contextOrFrameLookup(t,o,"width_next")+1024,o.set("width_next",_,!0),o.topLevel&&t.setVariable("width_next",_),o.topLevel&&t.addExport("width_next",_)}o=o.pop(),l+='<div class="footer" style="text-align:left;font-size:36px;justify-content:space-around;bottom:15px;left:0;position:absolute;margin:20px 0 20px 0;">',o=o.push();var w=(a=308,s=40,n.callWrap(n.contextOrFrameLookup(t,o,"range"),"range",t,[0,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"column")]));if(w)for(var L=w.length,y=0;y<w.length;y++){var x=w[y];o.set("column",x),o.set("loop.index",y+1),o.set("loop.index0",y),o.set("loop.revindex",L-y),o.set("loop.revindex0",L-y-1),o.set("loop.first",0===y),o.set("loop.last",y===L-1),o.set("loop.length",L),l+='<div class="containter-button" style="width:1024px;display:inline-block;text-align:center;">',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"displayNavigation")?l+='<button id="prevButton" class="button" style="background:#444444;">Prev</button>\n                                <button id="closeButton" class="button" style="background:#444444;">Close annotation</button>\n                                <button id="nextButton" class="button" style="background:#444444;">Next</button>':l+='<button id="closeButton" class="button" style="background:#444444;">Close annotation</button>',l+="</div>"}return o=o.pop(),l+="</div>\n\n        </div>\n    </div>\n</div>\n\n",o=r,new n.SafeString(l)});t.addExport("model_hotspot_vr"),t.setVariable("model_hotspot_vr",_),r+="\n\n";var w=n.makeMacro(["src"],["options"],function(i,a){var s=o;o=new n.Frame,a=a||{},a.hasOwnProperty("caller")&&o.set("caller",a.caller),o.set("src",i),o.set("options",a.hasOwnProperty("options")?a.options:{});var r="";return r+="<iframe ",r+=n.suppressValue(e.getFilter("attributes").call(t,{class:n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"class"),width:n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"width"),height:n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"height"),src:i,frameborder:"0",allow:"autoplay; fullscreen; vr",allowvr:"",allowfullscreen:"",mozallowfullscreen:"true",webkitallowfullscreen:"true",onmousewheel:""}),e.opts.autoescape),r+="></iframe>",o=s,new n.SafeString(r)});t.addExport("model_iframe"),t.setVariable("model_iframe",w),r+="\n\n";var L=n.makeMacro(["license"],[],function(t,i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("license",t);var s="";return s+='\n    <div class="model-license">\n        <p class="model-license__name help">\n            ',s+=n.suppressValue(n.memberLookup(t,"label"),e.opts.autoescape),s+='\n            <span class="tooltip tooltip-up">',s+=n.suppressValue(n.memberLookup(t,"fullname"),e.opts.autoescape),s+='</span>\n        </p>\n\n        <p class="model-license__requirements">',s+=n.suppressValue(n.memberLookup(t,"requirements"),e.opts.autoescape),s+='</p>\n\n        <a\n            class="model-license__link skfb-link"\n            href="',s+=n.suppressValue(n.memberLookup(t,"url"),e.opts.autoescape),s+='"\n            rel="license"\n            itemprop="license"\n            target="_blank">more info</a>\n    </div>\n',o=a,new n.SafeString(s)});t.addExport("model_license"),t.setVariable("model_license",L),r+="\n\n";var y=n.makeMacro(["model"],["options"],function(i,a){var s=o;o=new n.Frame,a=a||{},a.hasOwnProperty("caller")&&o.set("caller",a.caller),o.set("model",i),o.set("options",a.hasOwnProperty("options")?a.options:{});var r="";r+="\n    ";var l;return l=e.getFilter("merge").call(t,{className:""},n.contextOrFrameLookup(t,o,"options")),o.set("options",l,!0),o.topLevel&&t.setVariable("options",l),o.topLevel&&t.addExport("options",l),r+='\n    <span class="',r+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"className"),e.opts.autoescape),r+=' custom-icons icon-eye-icon help">\n        <span class="count">\n            ',r+=n.suppressValue(e.getFilter("humanize_number").call(t,n.memberLookup(i,"viewCount")),e.opts.autoescape),r+='\n        </span>\n        <span class="tooltip tooltip-up">Views</span>\n    </span>\n',o=s,new n.SafeString(r)});t.addExport("model_view_count"),t.setVariable("model_view_count",y),r+="\n\n";var x=n.makeMacro(["authUser","model"],["options"],function(i,r,l){var p=o;o=new n.Frame,l=l||{},l.hasOwnProperty("caller")&&o.set("caller",l.caller),o.set("authUser",i),o.set("model",r),o.set("options",l.hasOwnProperty("options")?l.options:{});var u,c="";return u=e.getFilter("merge").call(t,{isMine:!1},n.contextOrFrameLookup(t,o,"options")),o.set("options",u,!0),o.topLevel&&t.setVariable("options",u),o.topLevel&&t.addExport("options",u),c+='<div class="model-cell__name-container">\n        <p class="model-cell__name ',c+=n.suppressValue(n.memberLookup(r,"isDeleted")?"--deleted":"",e.opts.autoescape),c+='">\n            ',c+=n.suppressValue((a=378,s=23,n.callWrap(n.contextOrFrameLookup(t,o,"model_name"),"model_name",t,[i,r,{clickable:!n.memberLookup(r,"isDeleted")}])),e.opts.autoescape),c+="\n        </p>\n\n        ",n.memberLookup(r,"isDeleted")&&(c+='\n            <span class="model-cell__deleted-tooltip help">\n                <i class="fa fa-question-circle"></i>\n                <span class="tooltip tooltip-right">\n                    This model was deleted',c+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"isMine")?"":", but no worries, you can still download the latest version!",e.opts.autoescape),c+="\n                </span>\n            </span>\n        "),c+="\n    </div>\n",o=p,new n.SafeString(c)});t.addExport("model_cell_name"),t.setVariable("model_cell_name",x),r+="\n",l?l.rootRenderFunc(e,t,o,n,i):i(null,r)})})})})}catch(e){i(n.handleError(e,a,s))}}return{root:e}}()}()},1500:function(e,t){function o(){}o.prototype={on:function(e,t,o){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:t,ctx:o}),this},once:function(e,t,o){function n(){i.off(e,n),t.apply(o,arguments)}var i=this;return n._=t,this.on(e,n,o)},emit:function(e){var t=[].slice.call(arguments,1),o=((this.e||(this.e={}))[e]||[]).slice(),n=0,i=o.length;for(n;n<i;n++)o[n].fn.apply(o[n].ctx,t);return this},off:function(e,t){var o=this.e||(this.e={}),n=o[e],i=[];if(n&&t)for(var a=0,s=n.length;a<s;a++)n[a].fn!==t&&n[a].fn._!==t&&i.push(n[a]);return i.length?o[e]=i:delete o[e],this}},e.exports=o},1501:function(e,t,o){function n(e,t,o){if(!e&&!t&&!o)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(o))throw new TypeError("Third argument must be a Function");if(r.node(e))return i(e,t,o);if(r.nodeList(e))return a(e,t,o);if(r.string(e))return s(e,t,o);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(e,t,o){return e.addEventListener(t,o),{destroy:function(){e.removeEventListener(t,o)}}}function a(e,t,o){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,o)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,o)})}}}function s(e,t,o){return l(document.body,e,t,o)}var r=o(1502),l=o(1503);e.exports=n},1502:function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var o=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===o||"[object HTMLCollection]"===o)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},1503:function(e,t,o){function n(e,t,o,n,i){var s=a.apply(this,arguments);return e.addEventListener(o,s,i),{destroy:function(){e.removeEventListener(o,s,i)}}}function i(e,t,o,i,a){return"function"==typeof e.addEventListener?n.apply(null,arguments):"function"==typeof o?n.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return n(e,t,o,i,a)}))}function a(e,t,o,n){return function(o){o.delegateTarget=s(o.target,t),o.delegateTarget&&n.call(e,o)}}var s=o(1504);e.exports=i},1504:function(e,t){function o(e,t){for(;e&&e.nodeType!==n;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}var n=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}e.exports=o},151:function(e,t,o){"use strict";var n=o(5),i=o.n(n),a=o(0),s=(o.n(a),o(25)),r=o.n(s),l=o(34);t.a={status:function(){return void 0===this.get("status")?this.pollStatus():i.a.resolve(this.get("status"))},pollStatus:function(){return new i.a(function(e,t){r.a.ajax({type:"GET",url:Object(a.result)(this,"url")+"/status",allowPrefetching:!1}).then(function(o){if(!o)return t();var n={PENDING:0,PROCESSING:1,SUCCEEDED:2,FAILED:3}[o.processing.toUpperCase()];this.set("status",o),this.set("processingStatus",n),e(o)}.bind(this),t)}.bind(this))},checkStatus:function(){return this.pollStatus().then(function(e){return-1!==["SUCCEEDED","FAILED"].indexOf(e.processing.toUpperCase())?i.a.resolve(e):i.a.reject(e)}.bind(this),function(){return this.maxFailCount<=0?i.a.resolve({processing:"FAILED",error:"The server failed to answer in time"}):(this.maxFailCount-=1,i.a.reject("Server responded with an error"))}.bind(this))},checkStatusAndRetry:function(){return l.d(1/0,this.checkStatus.bind(this),{interval:2e3})}}},154:function(e,t){!function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/molecules/popup.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null,r=n.makeMacro([],["options"],function(i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var s="";return s+='\n    <section style="',s+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"width")?"width:"+n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"width")+"px":"",e.opts.autoescape),s+='" class="c-popup ',s+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"className"),e.opts.autoescape),s+='">\n        ',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"title")&&(s+='\n            <header class="c-popup__header">\n                <div class="c-popup__title">\n                    ',s+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"title"),e.opts.autoescape),s+='\n                </div>\n\n                <div class="c-popup__actions">\n                    ',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"isClosable")&&(s+='\n                        <a class="c-popup__close" data-action="close">\n                            <i class="fa fa-times"></i>\n                        </a>\n                    '),s+="\n                </div>\n            </header>\n        "),s+='\n\n        <div class="c-popup__content">\n            ',s+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"child")),e.opts.autoescape),s+="\n        </div>\n    </section>\n",o=a,new n.SafeString(s)});t.addExport("popup"),t.setVariable("popup",r),a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{root:e}}()}()},155:function(e,t,o){"use strict";var n=o(0),i=(o.n(n),o(4)),a=o(5),s=o.n(a),r=o(12),l=o(2),p=o(24),u=o(138),c=o(126),d=o(303),m=o(319),h=o(337),f=o(338),v=o(137),b=o(48),g=(o.n(b),o(305)),k=(o.n(g),o(32));o.n(k);t.a=p.a.extend({template:function(){return l.default.get("skfb_front/popups/add-to-collection",{})},events:{'click [data-action="open-create-collection-popup"]':"openCreateCollectionPopup","keyup .search-bar input":"filterCollections"},initialize:function(){p.a.prototype.initialize.apply(this,arguments),this.collections={}},open:function(){var e=arguments,t=i.a.me();return t.isAuthenticated()?t.get("isLimited")?void new v.a({reason:"collections"}).open():this.model.get("isPrivate")&&t.get("uid")!==this.model.get("user").uid?void 0:(this.$(".all-collections .items-container > ul").append(l.default.getFromMacro("skfb_front/macros/buttons","open_create_collection",[])),this.$allCollections=this.$(".all-collections .create-collection"),this.$allCollections.hide(),i.a.me({allowPrefetching:!1}).then(function(t){if(!t.get("hasCollections"))return new h.a({model:this.model});p.a.prototype.open.apply(this,e),this.loadAllCollections().then(this.loadRecentlyUsedCollections.bind(this)).then(function(){this.setIsLoading(!1),this.$container.hide().show(0),this.center()}.bind(this))}.bind(this)),this.getPromise()):i.a.authenticate(function(){},window.location.href+"#add-to").then(function(){window.location.reload()})},loadRecentlyUsedCollections:function(){return new s.a(function(e,t){var o=new(d.a.extend({defaults:Object(n.extend)({},d.a.prototype.defaults,{user:i.a.me().get("username"),private:!0,sortBy:"-updatedAt"})}))(null),a=new c.a(null,{pageSize:3,filters:o});a.fetch().then(function(o){var i=o.results.map(function(e){return e.uid}),s=[];Object(n.each)(a.models,function(e){e.get("uid")in this.collections?s.push(this.collections[e.get("uid")]):s.push(e)}.bind(this)),this.renderRecentlyUsedCollections(s),this.model.getCollections(i).then(e,t)}.bind(this),t)}.bind(this))},renderRecentlyUsedCollections:function(e){var t,o=".recently-used-collections > .items-container > ul";Object(n.eachRight)(e,function(e){this.$(o).prepend('<li class="item" data-uid="'+e.get("uid")+'"></li>'),t=new f.a({el:o+" > li:first-child",model:e,modelModel:this.model}),t.render()}.bind(this))},loadAllCollections:function(){return new s.a(function(e,t){this.grid=new(u.a.extend({_randomizeItemApparition:function(e){return s.a.resolve(e)}.bind(this)}))({el:this.$(".infinite-grid"),externalPopulate:!0,shouldDisplayEmptyState:!1,loadMoreOnScroll:!1,itemViewClass:f.a,itemOptions:{modelModel:this.model},filtersClass:d.a.extend({defaults:Object(n.extend)({},d.a.prototype.defaults,{user:i.a.me().get("username"),private:!0,sortBy:"name"})}),collectionClass:m.a,afterCollectionAdd:function(o){0===o.length&&this.$(".empty-state a").text("Create a "+this.$(".search-bar input").val()+" collection");var n=o.map(function(e){return this.collections[e.id]=e,e.id}.bind(this));this.model.getCollections(n).then(e,t)}.bind(this)}),this.grid.collection.on("afterRequest",this.afterSearchAdd.bind(this)),this.grid.collection.on("empty",function(){this.setIsLoading(!1)}.bind(this)),this.grid.loadFirstPage().catch(function(){this.setIsLoading(!1)}.bind(this))}.bind(this))},openCreateCollectionPopup:Object(n.throttle)(function(){r.a.modelPageCreateCollectionButtonClicked(this.model.get("uid")),new h.a({model:this.model,collectionName:this.$(".search-bar input").val()}).getPromise().then(function(e){e&&this.close()}.bind(this))},900,{leading:!0}),filterCollections:Object(n.throttle)(function(){var e=this.$(".search-bar input").val();e.length>1?(this.grid.filters.set("query",e),this.$(".recently-used-collections").hide(),this.$(" .all-collections .js-title").text("Results for "+e),this.$(".all-collections .create-collection .js-title").text("Create a "+this.$(".search-bar input").val()+" collection")):(this.grid.filters.unset("query"),this.$(".recently-used-collections").show(),this.$(" .all-collections .js-title").text("All collections"),this.$allCollections.hide())},300),afterSearchAdd:function(){var e=this.$(".search-bar input").val().toLowerCase();Object(n.filter)(this.grid.collection.models,function(t){return t.attributes.name.toLowerCase()===e}).length>0?this.$allCollections.hide():this.$allCollections.show()},close:function(){window.location.hash&&(window.location.hash="",history.replaceState({},document.title,window.location.pathname+window.location.search)),p.a.prototype.close.apply(this,arguments)}})},16:function(e,t,o){o(32),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/user.jinja"]=function(){function e(e,t,o,n,i){var a=null,s=null,r="";try{var l=null;e.getTemplate("skfb_front/macros/buttons.jinja",!1,"skfb_front/macros/user.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("follow_button"))return void i(new Error("cannot import 'follow_button'"));var c=u.follow_button;t.setVariable("follow_button",c),r+="\n\n";var d=n.makeMacro(["user"],["options"],function(i,a){var s=o;o=new n.Frame,a=a||{},a.hasOwnProperty("caller")&&o.set("caller",a.caller),o.set("user",i),o.set("options",a.hasOwnProperty("options")?a.options:{});var r="";r+="\n    ";var l;return l=e.getFilter("merge").call(t,{avatarWidth:20,avatarHeight:20},n.contextOrFrameLookup(t,o,"options")),o.set("options",l,!0),o.topLevel&&t.setVariable("options",l),o.topLevel&&t.addExport("options",l),r+='\n    <div\n        class="avatar"\n        data-user-summary-anchor="true"\n        data-user="',r+=n.suppressValue(n.memberLookup(i,"uid"),e.opts.autoescape),r+='">\n        ',r+=n.suppressValue(e.getFilter("image_container").call(t,n.memberLookup(i,"avatars"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"avatarWidth"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"avatarHeight")),e.opts.autoescape),r+="\n    </div>\n",o=s,new n.SafeString(r)});t.addExport("user_name_avatar"),t.setVariable("user_name_avatar",d),r+="\n\n";var m=n.makeMacro(["authUser","user"],["options"],function(i,r,l){var p=o;o=new n.Frame,l=l||{},l.hasOwnProperty("caller")&&o.set("caller",l.caller),o.set("authUser",i),o.set("user",r),o.set("options",l.hasOwnProperty("options")?l.options:{});var u,c="";return u=e.getFilter("merge").call(t,{noLink:!1,noBadge:!1,tag:!1},n.contextOrFrameLookup(t,o,"options")),o.set("options",u,!0),o.topLevel&&t.setVariable("options",u),o.topLevel&&t.addExport("options",u),c+='\n\n    <div class="user-name ',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"noLink")&&(c+="--no-link"),c+=" ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"noBadge")&&(c+="--no-badge-link"),c+='">\n        <a class="user-name__link" href="',c+=n.suppressValue(n.memberLookup(r,"profileUrl"),e.opts.autoescape),c+='" ',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"target")&&(c+=' target="',c+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"target"),e.opts.autoescape),c+='"'),c+='>\n            <data itemprop="url" value="',c+=n.suppressValue(n.memberLookup(r,"profileUrl"),e.opts.autoescape),c+='"></data>\n            ',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"withAvatar")&&(c+="\n            <span ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"withSummary")&&(c+='data-action="show-user-summary"\n                data-user="',c+=n.suppressValue(n.memberLookup(r,"uid"),e.opts.autoescape),c+='"'),c+=">\n                ",c+=n.suppressValue((a=30,s=33,n.callWrap(n.contextOrFrameLookup(t,o,"user_name_avatar"),"user_name_avatar",t,[r,n.contextOrFrameLookup(t,o,"options")])),e.opts.autoescape),c+="\n            </span>\n            "),c+='\n\n            <div class="text">\n                ',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"by")&&(c+="by"),c+='\n                <div\n                    class="username-wrapper"\n                    itemprop="name"\n                    title="',c+=n.suppressValue(n.memberLookup(r,"displayName"),e.opts.autoescape),c+='">\n                    ',c+=n.suppressValue(n.memberLookup(r,"displayName"),e.opts.autoescape),c+="\n                    ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"tag")&&(c+='\n                        <div class="user-name__tag">@',c+=n.suppressValue(n.memberLookup(r,"username"),e.opts.autoescape),c+="</div>\n                    "),c+="\n                </div>\n            </div>\n        </a>\n        ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"withoutBadge")||(c+='\n            <a class="user-name__flag" href="/plans" target="_blank">\n                ',n.memberLookup(r,"accountType")?(c+='\n                    <span class="flag --',c+=n.suppressValue(n.memberLookup(n.memberLookup(r,"accountType"),"badge"),e.opts.autoescape),c+='">',c+=n.suppressValue(n.memberLookup(n.memberLookup(r,"accountType"),"title"),e.opts.autoescape),c+="</span>\n                "):"free"!=n.memberLookup(r,"account")&&(c+='\n                    <span class="flag --',c+=n.suppressValue(n.memberLookup(r,"account"),e.opts.autoescape),c+='">',c+=n.suppressValue(e.getFilter("badge_label").call(t,n.memberLookup(r,"account")),e.opts.autoescape),c+="</span>\n                "),c+="\n            </a>\n        "),c+="\n    </div>",o=p,new n.SafeString(c)});t.addExport("user_name"),t.setVariable("user_name",m),r+="\n\n";var h=n.makeMacro(["users"],["options"],function(i,r){var l=o;o=new n.Frame,r=r||{},r.hasOwnProperty("caller")&&o.set("caller",r.caller),o.set("users",i),o.set("options",r.hasOwnProperty("options")?r.options:{});var p="";p+="\n    ";var u;u=e.getFilter("merge").call(t,{maxDisplayed:3,avatarWidth:18,avatarHeight:18},n.contextOrFrameLookup(t,o,"options")),o.set("options",u,!0),o.topLevel&&t.setVariable("options",u),o.topLevel&&t.addExport("options",u),p+="\n    ";var c;c=e.getFilter("first_n").call(t,i,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"maxDisplayed")),o.set("shortList",c,!0),o.topLevel&&t.setVariable("shortList",c),o.topLevel&&t.addExport("shortList",c),p+='\n    <div class="inline-avatars">\n        ',o=o.push();var d=n.contextOrFrameLookup(t,o,"shortList");if(d)for(var m=d.length,h=0;h<d.length;h++){var f=d[h];o.set("user",f),o.set("loop.index",h+1),o.set("loop.index0",h),o.set("loop.revindex",m-h),o.set("loop.revindex0",m-h-1),o.set("loop.first",0===h),o.set("loop.last",h===m-1),o.set("loop.length",m),p+='\n            <a\n                href="',p+=n.suppressValue(n.memberLookup(f,"profileUrl"),e.opts.autoescape),p+='"',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"target")&&(p+=' target="',p+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"target"),e.opts.autoescape),p+='" '),p+='data-action="show-user-summary"\n                data-user="',p+=n.suppressValue(n.memberLookup(f,"uid"),e.opts.autoescape),p+='">\n                ',p+=n.suppressValue((a=74,s=36,n.callWrap(n.contextOrFrameLookup(t,o,"user_name_avatar"),"user_name_avatar",t,[f,n.contextOrFrameLookup(t,o,"options")])),e.opts.autoescape),p+="\n            </a>\n        "}return o=o.pop(),p+="\n    </div>\n",o=l,new n.SafeString(p)});t.addExport("user_inline_avatars"),t.setVariable("user_inline_avatars",h),r+="\n\n";var f=n.makeMacro(["authUser","list"],["options"],function(i,r,l){var p=o;o=new n.Frame,l=l||{},l.hasOwnProperty("caller")&&o.set("caller",l.caller),o.set("authUser",i),o.set("list",r),o.set("options",l.hasOwnProperty("options")?l.options:{});var u,c="";u=e.getFilter("merge").call(t,{maxDisplayed:3,othersHref:""},n.contextOrFrameLookup(t,o,"options")),o.set("options",u,!0),o.topLevel&&t.setVariable("options",u),o.topLevel&&t.addExport("options",u),c+="\n    ";var d;if(d=e.getFilter("first_n").call(t,r,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"maxDisplayed")),o.set("shortList",d,!0),o.topLevel&&t.setVariable("shortList",d),o.topLevel&&t.addExport("shortList",d),c+="\n    ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"totalCount")){c+="\n        ";var m;m=n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"totalCount")-n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"maxDisplayed"),o.set("otherCount",m,!0),o.topLevel&&t.setVariable("otherCount",m),o.topLevel&&t.addExport("otherCount",m),c+="\n    "}else{c+="\n        ";var h;h=e.getFilter("length").call(t,r)-e.getFilter("length").call(t,n.contextOrFrameLookup(t,o,"shortList")),o.set("otherCount",h,!0),o.topLevel&&t.setVariable("otherCount",h),o.topLevel&&t.addExport("otherCount",h),c+="\n    "}c+="\n\n    ",o=o.push();var f=n.contextOrFrameLookup(t,o,"shortList");if(f)for(var v=f.length,b=0;b<f.length;b++){var g=f[b];o.set("user",g),o.set("loop.index",b+1),o.set("loop.index0",b),o.set("loop.revindex",v-b),o.set("loop.revindex0",v-b-1),o.set("loop.first",0===b),o.set("loop.last",b===v-1),o.set("loop.length",v),n.memberLookup(n.contextOrFrameLookup(t,o,"loop"),"first")||(n.memberLookup(n.contextOrFrameLookup(t,o,"loop"),"last")&&n.contextOrFrameLookup(t,o,"otherCount")<1?c+="<span> and </span>":c+="<span>, </span>"),c+=n.suppressValue((a=101,s=18,n.callWrap(n.contextOrFrameLookup(t,o,"user_name"),"user_name",t,[i,g,{withoutBadge:!0}])),e.opts.autoescape)}return o=o.pop(),n.contextOrFrameLookup(t,o,"otherCount")>0&&(c+="<span> and </span>\n        ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"othersHref")||n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"otherAction")?(c+='\n        <a\n            class="others"\n            ',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"othersHref")&&(c+=' href="',c+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"othersHref"),e.opts.autoescape),c+='" '),c+="\n            ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"otherAction")&&(c+=' data-action="',c+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"otherAction"),e.opts.autoescape),c+='" '),c+=">",c+=n.suppressValue(n.contextOrFrameLookup(t,o,"otherCount"),e.opts.autoescape),c+=" other",c+=n.suppressValue(e.getFilter("pluralize").call(t,n.contextOrFrameLookup(t,o,"otherCount")),e.opts.autoescape),c+="</a>\n        "):(c+='\n    <span class="others">',c+=n.suppressValue(n.contextOrFrameLookup(t,o,"otherCount"),e.opts.autoescape),c+=" other",c+=n.suppressValue(e.getFilter("pluralize").call(t,n.contextOrFrameLookup(t,o,"otherCount")),e.opts.autoescape),c+="</span>\n        "),c+="\n    "),o=p,new n.SafeString(c)});t.addExport("user_name_list"),t.setVariable("user_name_list",f),r+="\n\n";var v=n.makeMacro(["avatars"],["options"],function(i,a){var s=o;o=new n.Frame,a=a||{},a.hasOwnProperty("caller")&&o.set("caller",a.caller),o.set("avatars",i),o.set("options",a.hasOwnProperty("options")?a.options:{});var r="";r+="\n\n    ";var l;return l=e.getFilter("merge").call(t,{size:32,expand:!1},n.contextOrFrameLookup(t,o,"options")),o.set("options",l,!0),o.topLevel&&t.setVariable("options",l),o.topLevel&&t.addExport("options",l),r+="\n    ",r+=n.suppressValue(e.getFilter("image_container").call(t,i,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"size"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"size"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"expand")),e.opts.autoescape),r+="\n\n",o=s,new n.SafeString(r)});t.addExport("user_avatar"),t.setVariable("user_avatar",v),r+="\n\n\n",r+="\n";var b=n.makeMacro(["authUser","user"],["options"],function(i,a,s){var r=o;o=new n.Frame,s=s||{},s.hasOwnProperty("caller")&&o.set("caller",s.caller),o.set("authUser",i),o.set("user",a),o.set("options",s.hasOwnProperty("options")?s.options:{});var l="";return(n.memberLookup(a,"city")||n.memberLookup(a,"country"))&&(n.memberLookup(a,"city")&&(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"microData")&&(l+='<data itemprop="addressLocality">'),l+=n.suppressValue(n.memberLookup(a,"city"),e.opts.autoescape),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"microData")&&(l+="</data>"),n.memberLookup(a,"country")&&(l+=",")),l+=" ",n.memberLookup(a,"country")&&(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"microData")&&(l+='<data itemprop="addressCountry">'),l+=n.suppressValue(n.memberLookup(a,"country"),e.opts.autoescape),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"microData")&&(l+="</data>"))),o=r,new n.SafeString(l)});t.addExport("user_location_plaintext"),t.setVariable("user_location_plaintext",b),r+="\n\n";var g=n.makeMacro(["authUser","user"],["options"],function(i,r,l){var p=o;o=new n.Frame,l=l||{},l.hasOwnProperty("caller")&&o.set("caller",l.caller),o.set("authUser",i),o.set("user",r),o.set("options",l.hasOwnProperty("options")?l.options:{});var u="";if(u+="\n\n    ",""!=(a=134,s=31,n.callWrap(n.contextOrFrameLookup(t,o,"user_location_plaintext"),"user_location_plaintext",t,[i,r,n.contextOrFrameLookup(t,o,"options")]))){u+="\n\n        ";var c;c=e.getFilter("merge").call(t,{microData:!0},n.contextOrFrameLookup(t,o,"options")),o.set("options",c,!0),o.topLevel&&t.setVariable("options",c),o.topLevel&&t.addExport("options",c),u+='\n\n        <i class="fa fa-map-marker"></i>\n        <data itemprop="homeLocation" itemscope itemtype="http://schema.org/Place">\n            <data itemprop="address" itemscope itemtype="http://schema.org/PostalAddress">\n            ',u+=n.suppressValue((a=141,s=36,n.callWrap(n.contextOrFrameLookup(t,o,"user_location_plaintext"),"user_location_plaintext",t,[i,r,n.contextOrFrameLookup(t,o,"options")])),e.opts.autoescape),u+="\n            </data>\n        </data>\n    "}return u+="\n\n",o=p,new n.SafeString(u)});t.addExport("user_location"),t.setVariable("user_location",g),r+="\n\n";var k=n.makeMacro(["authUser","user"],["options"],function(i,r,l){var p=o;o=new n.Frame,l=l||{},l.hasOwnProperty("caller")&&o.set("caller",l.caller),o.set("authUser",i),o.set("user",r),o.set("options",l.hasOwnProperty("options")?l.options:{});var u="";u+='\n\n    <div class="user">\n        <a href="/',u+=n.suppressValue(n.memberLookup(r,"username"),e.opts.autoescape),u+='">\n        ',u+=n.suppressValue((a=152,s=20,n.callWrap(n.contextOrFrameLookup(t,o,"user_avatar"),"user_avatar",t,[n.memberLookup(r,"avatars"),{size:104}])),e.opts.autoescape),u+='\n        </a>\n        <div class="info">\n            <p class="name" title="',u+=n.suppressValue(n.memberLookup(r,"displayName"),e.opts.autoescape),u+='"><a href="/',u+=n.suppressValue(n.memberLookup(r,"username"),e.opts.autoescape),u+='">',u+=n.suppressValue(n.memberLookup(r,"displayName"),e.opts.autoescape),u+='</a></p>\n            <p class="tagline" title="',u+=n.suppressValue(n.memberLookup(r,"tagline"),e.opts.autoescape),u+='"><a href="/',u+=n.suppressValue(n.memberLookup(r,"username"),e.opts.autoescape),u+='">',u+=n.suppressValue(n.memberLookup(r,"tagline"),e.opts.autoescape),u+="</a></p>\n            ",0!=n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"followButton")&&n.memberLookup(i,"uid")!=n.memberLookup(r,"uid")&&(u+='\n                <div class="follow-wrapper">\n                    ',u+=n.suppressValue((a=159,s=34,n.callWrap(n.contextOrFrameLookup(t,o,"follow_button"),"follow_button",t,[i,r])),e.opts.autoescape),u+='\n                    <p class="follow-count"><a href="/',u+=n.suppressValue(n.memberLookup(r,"username"),e.opts.autoescape),u+='/followers"><span>',u+=n.suppressValue(n.memberLookup(r,"followerCount"),e.opts.autoescape),u+="</span> followers</a></p>\n                </div>\n            "),u+='\n        </div>\n    </div>\n    <div class="models">',o=o.push();var c=e.getFilter("first_n").call(t,n.memberLookup(r,"thumbnails"),3);if(c)for(var d=c.length,m=0;m<c.length;m++){var h=c[m];o.set("thumb",h),o.set("loop.index",m+1),o.set("loop.index0",m),o.set("loop.revindex",d-m),o.set("loop.revindex0",d-m-1),o.set("loop.first",0===m),o.set("loop.last",m===d-1),o.set("loop.length",d),u+='\n            <a href="',u+=n.suppressValue(n.memberLookup(h,"viewerUrl"),e.opts.autoescape),u+='">\n                ',u+=n.suppressValue(e.getFilter("image_container").call(t,n.memberLookup(h,"thumbnail"),133,88,!1),e.opts.autoescape),u+="\n            </a>\n        "}return o=o.pop(),u+='\n    </div>\n    <div class="stats">\n        <p class="model-count">',u+=n.suppressValue(n.memberLookup(r,"modelCount"),e.opts.autoescape),u+=" model",u+=n.suppressValue(e.getFilter("pluralize").call(t,n.memberLookup(r,"modelCount")),e.opts.autoescape),u+='</p>\n        <p class="view-count">',u+=n.suppressValue(e.getFilter("humanize_number").call(t,n.memberLookup(n.memberLookup(r,"stats"),"view_count")),e.opts.autoescape),u+=" view",u+=n.suppressValue(e.getFilter("pluralize").call(t,n.memberLookup(n.memberLookup(r,"stats"),"view_count")),e.opts.autoescape),u+='</p>\n        <p class="like-count">',u+=n.suppressValue(e.getFilter("humanize_number").call(t,n.memberLookup(n.memberLookup(r,"stats"),"like_count")),e.opts.autoescape),u+=" like",u+=n.suppressValue(e.getFilter("pluralize").call(t,n.memberLookup(n.memberLookup(r,"stats"),"like_count")),e.opts.autoescape),u+="</p>\n    </div>\n\n",o=p,new n.SafeString(u)});t.addExport("user_summary"),t.setVariable("user_summary",k),r+="\n\n";var _=n.makeMacro(["authUser","followSuggestion","cloaked"],["options"],function(i,r,l,p){var u=o;o=new n.Frame,p=p||{},p.hasOwnProperty("caller")&&o.set("caller",p.caller),o.set("authUser",i),o.set("followSuggestion",r),o.set("cloaked",l),o.set("options",p.hasOwnProperty("options")?p.options:{});var c="";return c+="\n\n\n    ",c+=n.suppressValue(e.getFilter("image_container").call(t,n.memberLookup(r,"avatars"),64,64),e.opts.autoescape),c+='\n\n    <div class="info">\n        <p class="name">',c+=n.suppressValue(n.memberLookup(r,"displayName"),e.opts.autoescape),c+='</p>\n        <p class="stats">',c+=n.suppressValue(e.getFilter("humanize_number").call(t,n.memberLookup(r,"followerCount")),e.opts.autoescape),c+=" follower",c+=n.suppressValue(e.getFilter("pluralize").call(t,n.memberLookup(r,"followerCount")),e.opts.autoescape),c+=", ",c+=n.suppressValue(e.getFilter("humanize_number").call(t,n.memberLookup(r,"modelCount")),e.opts.autoescape),c+=" model",c+=n.suppressValue(e.getFilter("pluralize").call(t,n.memberLookup(r,"modelCount")),e.opts.autoescape),c+=" </p>\n    </div>\n\n    ",n.memberLookup(i,"uid")!=n.memberLookup(r,"uid")&&(c+="\n        ",c+=n.suppressValue((a=191,s=22,n.callWrap(n.contextOrFrameLookup(t,o,"follow_button"),"follow_button",t,[i,r])),e.opts.autoescape),c+="\n    "),c+="\n\n",o=u,new n.SafeString(c)});t.addExport("follow_suggestion_large"),t.setVariable("follow_suggestion_large",_),r+="\n\n";var w=n.makeMacro(["authUser","user","cloaked"],["options"],function(i,r,l,p){var u=o;o=new n.Frame,p=p||{},p.hasOwnProperty("caller")&&o.set("caller",p.caller),o.set("authUser",i),o.set("user",r),o.set("cloaked",l),o.set("options",p.hasOwnProperty("options")?p.options:{});var c="";return c+='\n\n    <span\n        class="avatar-container"\n        data-action="show-user-summary"\n        data-user="',c+=n.suppressValue(n.memberLookup(r,"uid"),e.opts.autoescape),c+='">\n        ',c+=n.suppressValue(e.getFilter("image_container").call(t,n.memberLookup(r,"avatars"),64,64),e.opts.autoescape),c+='\n    </span>\n\n    <div class="info">\n        <p\n            class="name"\n            data-action="show-user-summary"\n            data-user="',c+=n.suppressValue(n.memberLookup(r,"uid"),e.opts.autoescape),c+='"\n            data-user-summary-anchor-class=".avatar-container[data-user=\'',c+=n.suppressValue(n.memberLookup(r,"uid"),e.opts.autoescape),c+="']\">\n            ",c+=n.suppressValue(n.memberLookup(r,"displayName"),e.opts.autoescape),c+='\n        </p>\n        <p class="stats">',c+=n.suppressValue(e.getFilter("humanize_number").call(t,n.memberLookup(r,"followerCount")),e.opts.autoescape),c+=" follower",c+=n.suppressValue(e.getFilter("pluralize").call(t,n.memberLookup(r,"followerCount")),e.opts.autoescape),c+=", ",c+=n.suppressValue(e.getFilter("humanize_number").call(t,n.memberLookup(r,"modelCount")),e.opts.autoescape),c+=" model",c+=n.suppressValue(e.getFilter("pluralize").call(t,n.memberLookup(r,"modelCount")),e.opts.autoescape),c+=" </p>\n    </div>\n\n    ",n.memberLookup(i,"uid")!=n.memberLookup(r,"uid")&&(c+="\n        ",c+=n.suppressValue((a=217,s=22,n.callWrap(n.contextOrFrameLookup(t,o,"follow_button"),"follow_button",t,[i,r])),e.opts.autoescape),c+="\n    "),c+='\n\n    <div class="reason">\n        <p>',c+=n.suppressValue(e.getFilter("print_suggestion_verb").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"followSuggestion"),"verb"),n.memberLookup(n.contextOrFrameLookup(t,o,"followSuggestion"),"user")),e.opts.autoescape),c+=" ",c+=n.suppressValue(e.getFilter("print_suggestion_target").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"followSuggestion"),"target"),n.memberLookup(n.contextOrFrameLookup(t,o,"followSuggestion"),"verb")),e.opts.autoescape),c+="</p>\n    </div>\n\n",o=u,new n.SafeString(c)});t.addExport("follow_suggestion_reason"),t.setVariable("follow_suggestion_reason",w),r+="\n\n";var L=n.makeMacro(["authUser","followSuggestion","cloaked"],["options"],function(i,r,l,p){var u=o;o=new n.Frame,p=p||{},p.hasOwnProperty("caller")&&o.set("caller",p.caller),o.set("authUser",i),o.set("followSuggestion",r),o.set("cloaked",l),o.set("options",p.hasOwnProperty("options")?p.options:{});var c="";return c+='\n\n    <li class="follow-item',l&&(c+=" cloaked"),c+='" data-user="',c+=n.suppressValue(n.memberLookup(r,"uid"),e.opts.autoescape),c+='">\n\n        ',c+=n.suppressValue((a=230,s=18,n.callWrap(n.contextOrFrameLookup(t,o,"user_name"),"user_name",t,[i,r,n.makeKeywordArgs({options:{withAvatar:!0,withSummary:n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"withSummary"),avatarHeight:32,avatarWidth:32}})])),e.opts.autoescape),c+="\n\n        ",n.memberLookup(i,"uid")!=n.memberLookup(r,"uid")&&(c+="\n\n            ",c+=n.suppressValue((a=239,s=26,n.callWrap(n.contextOrFrameLookup(t,o,"follow_button"),"follow_button",t,[n.contextOrFrameLookup(t,o,"user"),r])),e.opts.autoescape),c+="\n\n        "),c+="\n\n    </li>\n\n",o=u,new n.SafeString(c)});t.addExport("follow_suggestion"),t.setVariable("follow_suggestion",L),r+="\n\n";var y=n.makeMacro(["authUser","followSuggestions"],["options"],function(i,r,l){var p=o;o=new n.Frame,l=l||{},l.hasOwnProperty("caller")&&o.set("caller",l.caller),o.set("authUser",i),o.set("followSuggestions",r),o.set("options",l.hasOwnProperty("options")?l.options:{});var u="";u+='\n\n    <div class="sidebar-box suggested-follow',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"container_class")&&(u+=" ",u+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"container_class"),e.opts.autoescape)),u+='">\n        <h5 class="sidebar-title">',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"title")?u+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"title"),e.opts.autoescape):u+="Who to follow ",u+="</h5>\n        <ul>\n\n            ";var c;if(c=e.getFilter("length").call(t,r),o.set("suggestionsCount",c,!0),o.topLevel&&t.setVariable("suggestionsCount",c),o.topLevel&&t.addExport("suggestionsCount",c),u+="\n\n            ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"maxSuggestions")){u+="\n                ";var d;d=n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"maxSuggestions"),o.set("max",d,!0),o.topLevel&&t.setVariable("max",d),o.topLevel&&t.addExport("max",d),u+="\n            "}else{u+="\n                ";var m;m=n.contextOrFrameLookup(t,o,"suggestionsCount"),o.set("max",m,!0),o.topLevel&&t.setVariable("max",m),o.topLevel&&t.addExport("max",m),u+="\n            "}u+="\n\n            ",o=o.push();var h=r;if(h)for(var f=h.length,v=0;v<h.length;v++){var b=h[v];o.set("following",b),o.set("loop.index",v+1),o.set("loop.index0",v),o.set("loop.revindex",f-v),o.set("loop.revindex0",f-v-1),o.set("loop.first",0===v),o.set("loop.last",v===f-1),o.set("loop.length",f),u+="\n\n                ",u+=n.suppressValue((a=263,s=34,n.callWrap(n.contextOrFrameLookup(t,o,"follow_suggestion"),"follow_suggestion",t,[i,b,n.memberLookup(n.contextOrFrameLookup(t,o,"loop"),"index")>n.contextOrFrameLookup(t,o,"max"),n.contextOrFrameLookup(t,o,"options")])),e.opts.autoescape),u+="\n\n            "}return o=o.pop(),u+='\n        </ul>\n\n        <a href="#" class="show-more" data-action="show-more"><i class="icon fa fa-plus"></i> Show More</i></a>\n\n    </div>\n\n',o=p,new n.SafeString(u)});t.addExport("follow_suggestions"),t.setVariable("follow_suggestions",y),r+="\n",l?l.rootRenderFunc(e,t,o,n,i):i(null,r)})})}catch(e){i(n.handleError(e,a,s))}}return{root:e}}()}()},160:function(e,t,o){"use strict";var n=o(6),i=o(1),a=o(2),s=o(60);t.a=n.a.extend({displayName:"Pagination",mixins:[s.a],optionTypes:{render:i.b.func.isRequired,collection:i.b.collection.isRequired,shouldFetchFirstPage:i.b.bool,loadingDelayMs:i.b.number},defaultOptions:{shouldFetchFirstPage:!0,loadingDelayMs:500},events:{"reset this.options.collection":"forceUpdate","loadingChanged this.options.collection":"forceUpdate","afterAdd this.options.collection":"forceUpdate","afterRemove this.options.collection":"forceUpdate"},initialize:function(){var e=this;n.a.prototype.initialize.apply(this,arguments);var t=this.options,o=t.shouldFetchFirstPage,i=t.loadingDelayMs;this.state={isShown:!o},this.timeout=setTimeout(function(){return e.setState({isShown:!0})},i)},viewDidMount:function(){var e=this;this.options.shouldFetchFirstPage&&this.options.collection.loadFirstPage().then(function(){clearTimeout(e.timeout),e.setState({isShown:!0})})},template:function(){if(!this.state.isShown)return"";var e=this.options,t=e.shouldFetchFirstPage,o=e.render,n=e.collection,i=t&&!n.models.length&&!this.isMounted,s=i?"next":n.loading();return a.default.getFromString("{{ components.child | component }}",{components:this.createChildrenComponents({child:o({models:n.models,onLoadPrevious:function(){return n.loadPreviousPage()},onLoadNext:function(){return n.loadNextPage()},loading:s,isLoading:"none"!==s,hasPreviousPage:n.hasPreviousPage(),hasNextPage:n.hasNextPage()})})})}})},170:function(e,t,o){"use strict";var n=!1;window&&window.navigator&&(n=-1!==window.navigator.userAgent.indexOf("Edge"));var i=function(){return n};t.a=i},172:function(e,t){!function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/atoms/list-item-placeholder.jinja"]=function(){function e(e,t,o,n,i){var a=null,s=null,r="";try{var l=null,p=n.makeMacro([],["options"],function(i){var r=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var l="";return"smallCard"==n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"type")?(l+="\n        ",l+=n.suppressValue((a=2,s=31,n.callWrap(n.contextOrFrameLookup(t,o,"small_card_placeholder"),"small_card_placeholder",t,[])),e.opts.autoescape),l+="\n    "):"comment"==n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"type")?(l+="\n        ",l+=n.suppressValue((a=4,s=28,n.callWrap(n.contextOrFrameLookup(t,o,"comment_placeholder"),"comment_placeholder",t,[])),e.opts.autoescape),l+="\n    "):"activity"==n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"type")?(l+="\n        ",l+=n.suppressValue((a=6,s=29,n.callWrap(n.contextOrFrameLookup(t,o,"activity_placeholder"),"activity_placeholder",t,[])),e.opts.autoescape),l+="\n    "):"smallActivity"==n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"type")?(l+="\n        ",l+=n.suppressValue((a=8,s=35,n.callWrap(n.contextOrFrameLookup(t,o,"small_activity_placeholder"),"small_activity_placeholder",t,[])),e.opts.autoescape),l+="\n    "):(l+="\n        ",l+=n.suppressValue((a=10,s=31,n.callWrap(n.contextOrFrameLookup(t,o,"small_card_placeholder"),"small_card_placeholder",t,[])),e.opts.autoescape),l+="\n    "),o=r,new n.SafeString(l)});t.addExport("list_item_placeholder"),t.setVariable("list_item_placeholder",p),r+="\n\n";var u=n.makeMacro([],[],function(e){var t=o;o=new n.Frame,e=e||{},e.hasOwnProperty("caller")&&o.set("caller",e.caller);var i="";return i+='\n    <div class="placeholder c-list-item-placeholder --small-card">\n        <div class="placeholder__card">\n            <div class="placeholder__image"></div>\n            <div class="placeholder__container">\n                <div class="placeholder__text --w-80"></div>\n                <div class="placeholder__text --small --w-50"></div>\n            </div>\n        </div>\n    </div>\n',o=t,new n.SafeString(i)});t.addExport("small_card_placeholder"),t.setVariable("small_card_placeholder",u),r+="\n\n";var c=n.makeMacro([],[],function(e){var t=o;o=new n.Frame,e=e||{},e.hasOwnProperty("caller")&&o.set("caller",e.caller);var i="";return i+='\n    <div class="placeholder c-list-item-placeholder --comment">\n        <div class="placeholder__image --rounded-corners --small"></div>\n        <div class="placeholder__container">\n            <div class="placeholder__text --small --w-50"></div>\n            <div class="placeholder__text --w-80"></div>\n            <div class="placeholder__text --small --w-50"></div>\n        </div>\n    </div>\n',o=t,new n.SafeString(i)});t.addExport("comment_placeholder"),t.setVariable("comment_placeholder",c),r+="\n\n\n";var d=n.makeMacro([],[],function(e){var t=o;o=new n.Frame,e=e||{},e.hasOwnProperty("caller")&&o.set("caller",e.caller);var i="";return i+='\n    <div class="placeholder c-list-item-placeholder --activity">\n        <div class="placeholder__card">\n            <div class="placeholder__image --rounded-corners --x-s"></div>\n            <div class="placeholder__image --rounded-corners --small"></div>\n            <div class="placeholder__container">\n                <div class="placeholder__text --w-70"></div>\n                <div class="placeholder__text --small --w-50"></div>\n            </div>\n            <div class="placeholder__image"></div>\n            <div class="placeholder__image"></div>\n        </div>\n    </div>\n',o=t,new n.SafeString(i)});t.addExport("activity_placeholder"),t.setVariable("activity_placeholder",d),r+="\n\n";var m=n.makeMacro([],[],function(e){var t=o;o=new n.Frame,e=e||{},e.hasOwnProperty("caller")&&o.set("caller",e.caller);var i="";return i+='\n    <div class="placeholder c-list-item-placeholder --small-activity">\n        <div class="placeholder__card">\n            <div class="placeholder__image --rounded-corners --x-s"></div>\n            <div class="placeholder__image --rounded-corners --small"></div>\n            <div class="placeholder__container">\n                <div class="placeholder__text --small --w-80"></div>\n                <div class="placeholder__text --small --w-50"></div>\n            </div>\n        </div>\n    </div>\n',o=t,new n.SafeString(i)});t.addExport("small_activity_placeholder"),t.setVariable("small_activity_placeholder",m),r+="\n",l?l.rootRenderFunc(e,t,o,n,i):i(null,r)}catch(e){i(n.handleError(e,a,s))}}return{root:e}}()}()},174:function(e,t){!function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/dropdowns.jinja"]=function(){function e(e,t,o,n,i){var a=null,s=null,r="";try{var l=null,p=n.makeMacro(["item"],[],function(i,r){var l=o;o=new n.Frame,r=r||{},r.hasOwnProperty("caller")&&o.set("caller",r.caller),o.set("item",i);var p="";if(p+='\n    <li class="item ',n.memberLookup(i,"children")&&(p+="parent"),p+='"',n.memberLookup(i,"uid")!=n.contextOrFrameLookup(t,o,"null")&&(p+=' data-value="',p+=n.suppressValue(n.memberLookup(i,"uid"),e.opts.autoescape),p+='"'),p+='>\n        <a class="label">\n            ',p+=n.suppressValue(e.getFilter("capitalize").call(t,n.memberLookup(i,"label")),e.opts.autoescape),p+="\n        </a>\n        ",n.memberLookup(i,"children")){p+='\n            <ul class="sub">\n                ',o=o.push();var u=n.memberLookup(i,"children");if(u)for(var c=u.length,d=0;d<u.length;d++){var m=u[d];o.set("subitem",m),o.set("loop.index",d+1),o.set("loop.index0",d),o.set("loop.revindex",c-d),o.set("loop.revindex0",c-d-1),o.set("loop.first",0===d),o.set("loop.last",d===c-1),o.set("loop.length",c),p+="\n                    ",p+=n.suppressValue((a=8,s=41,n.callWrap(n.contextOrFrameLookup(t,o,"select_dropdown_item"),"select_dropdown_item",t,[n.memberLookup(m,"name"),n.memberLookup(m,"uid")])),e.opts.autoescape),p+="\n                "}o=o.pop(),p+="\n            </ul>\n        "}return p+="\n    </li>\n",o=l,new n.SafeString(p)});t.addExport("select_dropdown_item_with_children"),t.setVariable("select_dropdown_item_with_children",p),r+="\n\n";var u=n.makeMacro(["name","value"],[],function(i,a,s){var r=o;o=new n.Frame,s=s||{},s.hasOwnProperty("caller")&&o.set("caller",s.caller),o.set("name",i),o.set("value",a);var l="";return l+='\n    <li class="item" data-value="',l+=a?n.suppressValue(a,e.opts.autoescape):"default",l+='" data-label="',l+=n.suppressValue(e.getFilter("capitalize").call(t,i),e.opts.autoescape),l+='">\n        <a class="label">\n            ',l+=n.suppressValue(e.getFilter("capitalize").call(t,i),e.opts.autoescape),l+="\n        </a>\n    </li>\n",o=r,new n.SafeString(l)});t.addExport("select_dropdown_item"),t.setVariable("select_dropdown_item",u),r+="\n\n";var c=n.makeMacro(["items"],[],function(i,r){var l=o;o=new n.Frame,r=r||{},r.hasOwnProperty("caller")&&o.set("caller",r.caller),o.set("items",i);var p="";p+='\n    <ul class="form-menu-select">\n        ',o=o.push();var u=i;if(u)for(var c=u.length,d=0;d<u.length;d++){var m=u[d];o.set("item",m),o.set("loop.index",d+1),o.set("loop.index0",d),o.set("loop.revindex",c-d),o.set("loop.revindex0",c-d-1),o.set("loop.first",0===d),o.set("loop.last",d===c-1),o.set("loop.length",c),p+="\n            ";var h;h=n.memberLookup(m,"uid")||n.memberLookup(m,"value"),o.set("value",h,!0),o.topLevel&&t.setVariable("value",h),o.topLevel&&t.addExport("value",h),p+="\n            ",n.memberLookup(m,"children")?(p+="\n                ",p+=n.suppressValue((a=28,s=51,n.callWrap(n.contextOrFrameLookup(t,o,"select_dropdown_item_with_children"),"select_dropdown_item_with_children",t,[m])),e.opts.autoescape),p+="\n            "):(p+="\n                ",p+=n.suppressValue((a=30,s=37,n.callWrap(n.contextOrFrameLookup(t,o,"select_dropdown_item"),"select_dropdown_item",t,[n.memberLookup(m,"name"),n.contextOrFrameLookup(t,o,"value")])),e.opts.autoescape),p+="\n            "),p+="\n        "}return o=o.pop(),p+="\n    </ul>\n",o=l,new n.SafeString(p)});t.addExport("select_dropdown"),t.setVariable("select_dropdown",c),r+="\n\n";var d=n.makeMacro(["item"],[],function(i,a){var s=o;o=new n.Frame,a=a||{},a.hasOwnProperty("caller")&&o.set("caller",a.caller),o.set("item",i);var r="";r+="\n    ";var l;return l=n.memberLookup(i,"uid")||n.memberLookup(i,"value"),o.set("value",l,!0),o.topLevel&&t.setVariable("value",l),o.topLevel&&t.addExport("value",l),r+='\n    <li class="item togglable',n.memberLookup(i,"active")&&(r+=" active"),r+='"',n.contextOrFrameLookup(t,o,"value")!=n.contextOrFrameLookup(t,o,"null")&&(r+=' data-value="',r+=n.suppressValue(n.contextOrFrameLookup(t,o,"value"),e.opts.autoescape),r+='"'),r+='>\n\n        <a class="label">\n            ',r+=n.suppressValue(e.getFilter("capitalize").call(t,n.memberLookup(i,"name")),e.opts.autoescape),r+='\n        </a>\n\n        <div class="checkbox"></div>\n\n    </li>\n',o=s,new n.SafeString(r)});t.addExport("toggle_dropdown_item"),t.setVariable("toggle_dropdown_item",d),r+="\n\n";var m=n.makeMacro(["items"],[],function(i,r){var l=o;o=new n.Frame,r=r||{},r.hasOwnProperty("caller")&&o.set("caller",r.caller),o.set("items",i);var p="";p+='\n    <ul class="form-menu-toggle">\n        ',o=o.push();var u=i;if(u)for(var c=u.length,d=0;d<u.length;d++){var m=u[d];o.set("item",m),o.set("loop.index",d+1),o.set("loop.index0",d),o.set("loop.revindex",c-d),o.set("loop.revindex0",c-d-1),o.set("loop.first",0===d),o.set("loop.last",d===c-1),o.set("loop.length",c),p+="\n            ",m&&(p+="\n                ",p+=n.suppressValue((a=53,s=37,n.callWrap(n.contextOrFrameLookup(t,o,"toggle_dropdown_item"),"toggle_dropdown_item",t,[m])),e.opts.autoescape),p+="\n            "),p+="\n        "}return o=o.pop(),p+="\n    </ul>\n",o=l,new n.SafeString(p)});t.addExport("toggle_dropdown"),t.setVariable("toggle_dropdown",m),r+="\n\n";var h=n.makeMacro(["items"],[],function(i,a){var s=o;o=new n.Frame,a=a||{},a.hasOwnProperty("caller")&&o.set("caller",a.caller),o.set("items",i);var r="";r+='\n    <ul class="form-menu-select">\n        ',o=o.push();var l=i;if(l)for(var p=l.length,u=0;u<l.length;u++){var c=l[u];o.set("item",c),o.set("loop.index",u+1),o.set("loop.index0",u),o.set("loop.revindex",p-u),o.set("loop.revindex0",p-u-1),o.set("loop.first",0===u),o.set("loop.last",u===p-1),o.set("loop.length",p),r+='\n            <li class="item" data-value="',r+=n.suppressValue(n.memberLookup(c,"uid"),e.opts.autoescape),r+='">\n                <i class="icon custom-icons icon-category-',r+=n.suppressValue(n.memberLookup(c,"slug"),e.opts.autoescape),r+='"></i>\n                <a class="label">',r+=n.suppressValue(e.getFilter("capitalize").call(t,n.memberLookup(c,"name")),e.opts.autoescape),r+="</a>\n            </li>\n        "}return o=o.pop(),r+="\n    </ul>\n",o=s,new n.SafeString(r)});t.addExport("select_dropdown_categories"),t.setVariable("select_dropdown_categories",h),r+="\n\n";var f=n.makeMacro(["items"],[],function(i,a){var s=o;o=new n.Frame,a=a||{},a.hasOwnProperty("caller")&&o.set("caller",a.caller),o.set("items",i);var r="";r+='\n    <ul class="form-menu-toggle">\n        ',o=o.push();var l=i;if(l)for(var p=l.length,u=0;u<l.length;u++){var c=l[u];o.set("item",c),o.set("loop.index",u+1),o.set("loop.index0",u),o.set("loop.revindex",p-u),o.set("loop.revindex0",p-u-1),o.set("loop.first",0===u),o.set("loop.last",u===p-1),o.set("loop.length",p),r+='\n            <li class="item togglable',n.memberLookup(c,"active")&&(r+=" active"),r+='" data-value="',r+=n.suppressValue(n.memberLookup(c,"uid"),e.opts.autoescape),r+='">\n                <a class="label">\n                    <i class="icon custom-icons icon-category-',r+=n.suppressValue(n.memberLookup(c,"slug"),e.opts.autoescape),r+='"></i>\n                    <span>',r+=n.suppressValue(e.getFilter("capitalize").call(t,n.memberLookup(c,"name")),e.opts.autoescape),r+='</span>\n                    <i class="fa fa-check"></i>\n                </a>\n            </li>\n        '}return o=o.pop(),r+="\n    </ul>\n",o=s,new n.SafeString(r)});t.addExport("toggle_dropdown_categories"),t.setVariable("toggle_dropdown_categories",f),r+="\n\n";var v=n.makeMacro([],[],function(i){var r=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller);var l="";return l+="\n    ",l+=n.suppressValue((a=85,s=20,n.callWrap(n.contextOrFrameLookup(t,o,"toggle_dropdown"),"toggle_dropdown",t,[[{name:"Downloadable",value:"downloadable"},{name:"Animated",value:"animated"},{name:"Staff picks",value:"staffpicked"},{name:"Sound",value:"sound"}]])),e.opts.autoescape),l+="\n",o=r,new n.SafeString(l)});t.addExport("select_dropdown_features"),t.setVariable("select_dropdown_features",v),r+="\n\n";var b=n.makeMacro([],[],function(i){var r=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller);var l="";return l+="\n    ",l+=n.suppressValue((a=101,s=20,n.callWrap(n.contextOrFrameLookup(t,o,"select_dropdown"),"select_dropdown",t,[[{name:"All time",value:""},{name:"This month",value:31},{name:"This week",value:7},{name:"This day",value:1}]])),e.opts.autoescape),l+="\n",o=r,new n.SafeString(l)});t.addExport("select_dropdown_date"),t.setVariable("select_dropdown_date",b),r+="\n\n";var g=n.makeMacro(["active"],[],function(i,r){var l=o;o=new n.Frame,r=r||{},r.hasOwnProperty("caller")&&o.set("caller",r.caller),o.set("active",i);var p="";return p+="\n    ",p+=n.suppressValue((a=117,s=20,n.callWrap(n.contextOrFrameLookup(t,o,"toggle_dropdown"),"toggle_dropdown",t,[[{name:"Show age-restricted",active:i}]])),e.opts.autoescape),p+="\n",o=l,new n.SafeString(p)});t.addExport("toggle_dropdown_security"),t.setVariable("toggle_dropdown_security",g),r+="\n",l?l.rootRenderFunc(e,t,o,n,i):i(null,r)}catch(e){i(n.handleError(e,a,s))}}return{root:e}}()}()},1748:function(e,t,o){e.exports=o(1749)},1749:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(248),i=o(1750);n.a.unpack(i.a)},175:function(e,t,o){o(17),o(102),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/popups/login.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null;e.getTemplate("skfb_front/layouts/popup.jinja",!0,"skfb_front/popups/login.jinja",!1,function(r,l){if(r)return void i(r);s=l;for(var p in s.blocks)t.addBlock(p,s.blocks[p]);a+="\n\n";var u;u="Login",o.set("popupTitle",u,!0),o.topLevel&&t.setVariable("popupTitle",u),o.topLevel&&t.addExport("popupTitle",u),a+="\n";var c;c="popup-login",o.set("popupClass",c,!0),o.topLevel&&t.setVariable("popupClass",c),o.topLevel&&t.addExport("popupClass",c),a+="\n";var d;d=!0,o.set("allowAutocomplete",d,!0),o.topLevel&&t.setVariable("allowAutocomplete",d),o.topLevel&&t.addExport("allowAutocomplete",d),a+="\n\n",(s?function(e,t,o,n,i){i("")}:t.getBlock("popup_content"))(e,t,o,n,function(r,l){if(r)return void i(r);a+=l,a+="\n\n",(s?function(e,t,o,n,i){i("")}:t.getBlock("popup_footer"))(e,t,o,n,function(r,l){if(r)return void i(r);a+=l,a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)})})})}catch(e){i(n.handleError(e,null,null))}}function t(e,t,o,n,i){var a=null,s=null,r="";try{var o=o.push(!0);r+='\n\n    <div class="form-column-layout" data-action="process-login">\n\n        <div class="form-global-error',n.contextOrFrameLookup(t,o,"error")||(r+=" cloaked"),r+='">\n            <i class="icon fa fa-warning"></i>\n            <span class="message">',r+=n.suppressValue(n.contextOrFrameLookup(t,o,"error"),e.opts.autoescape),r+='</span>\n        </div>\n\n        <div class="fields">\n\n            <div class="form-field">\n                <label class="form-label" for="email">Email</label>\n                <div class="form-content">\n                    <label class="form-error" data-error-for="email" for="email"></label>\n                    <input id="email" class="form-input" type="email" name="email" value="" placeholder="you@email.com" required data-error-for="email" autofocus />\n                </div>\n            </div>\n\n            <div class="form-field password-field">\n                <label class="form-label" for="password">\n                    <div class="name">Password</div>\n                    <a class="reset" data-action="open-resetpass">Lost password?</a>\n                </label>\n                <div class="form-content">\n                    <label class="form-error" data-error-for="password" for="password"></label>\n                    <input id="password" class="form-input" type="password" name="password" value="" required data-error-for="password" />\n                </div>\n            </div>\n\n            <div class="form-field form-buttons login-field">\n                <div class="form-content">\n                    <button type="submit" class="form-button btn-large btn-primary">\n                        <span class="state-normal">Log in</span>\n                        <span class="state-progress"><i class="loading loading-light"></i> Loading</span>\n                    </button>\n                </div>\n            </div>\n\n        </div>\n\n    </div>\n\n    <hr class="form-separator" />\n\n    <p>Or log in with</p>\n\n    <div class="social">\n\n        ',e.getTemplate("skfb_front/macros/auth.jinja",!1,"skfb_front/popups/login.jinja",!1,function(l,p){if(l)return void i(l);p.getExported(function(l,p){if(l)return void i(l);if(!p.hasOwnProperty("social_auth"))return void i(new Error("cannot import 'social_auth'"));var u=p.social_auth;t.setVariable("social_auth",u),r+="\n        ",r+=n.suppressValue((a=56,s=20,n.callWrap(u,"social_auth",t,[n.contextOrFrameLookup(t,o,"next")])),e.opts.autoescape),r+="\n\n    </div>\n\n",i(null,r)})})}catch(e){i(n.handleError(e,a,s))}}function o(e,t,o,n,i){var a="";try{var o=o.push(!0);a+='\n\n    <div class="bridge">\n        No account? <a href="/signup" data-action="open-signup">Sign up for free!</a>\n    </div>\n\n',i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{b_popup_content:t,b_popup_footer:o,root:e}}()}()},1750:function(e,t,o){"use strict";var n=o(0),i=(o.n(n),o(286)),a=o(59),s=o(1751),r=o(1752),l=o(1753),p=o(1756);t.a=i.a.extend({routes:Object(n.extend)({},i.a.prototype.routes,{"models/:modelUid/embed/password":"embedPassword","models/:modelUid/password":"password","models/:modelUid/review":"review","models/:modelUid":"model"}),embedPassword:function(e){a.a.get(e).then(function(e){this._createOrResetPage(s.a,{model:e})}.bind(this))},password:function(e){a.a.get(e).then(function(e){this._createOrResetPage(r.a,{model:e})}.bind(this))},review:function(e){a.a.get(e).then(function(e){this._createOrResetPage(l.a,{model:e})}.bind(this))},model:function(e){a.a.get(e).then(function(e){this._createOrResetPage(p.a,{model:e})}.bind(this))}})},1751:function(e,t,o){"use strict";var n=o(71),i=o(1455);t.a=n.a.extend({initialize:function(){n.a.prototype.initialize.apply(this,arguments),new i.a({el:this.$(".embed-password"),model:this.model}).then(function(e){window.location.replace(e)})}})},1752:function(e,t,o){"use strict";var n=o(71),i=o(1455);t.a=n.a.extend({initialize:function(){n.a.prototype.initialize.apply(this,arguments),new i.a({el:this.$(".popup-container"),model:this.model}).then(function(e){window.location.replace(e)})}})},1753:function(e,t,o){"use strict";var n=o(71),i=o(1754),a=o(4),s=o(891),r=o(665);t.a=n.a.extend({displayName:"ModelReviewEdit",children:{reviewForm:{selector:".js-review-edit-form",viewClass:i.a,options:function(){return{model:this.options.model.toJSON(),onContactSeller:this.onContactSeller.bind(this)}}},card:{selector:".js-card",viewClass:r.a,options:function(){return{model:this.options.model,isPriceHidden:!0,isRatingHidden:!0}}}},events:{'click [data-action="contact"]':"onContactSeller"},initialize:function(){if(n.a.prototype.initialize.apply(this,arguments),this.render(),window.location.hash)switch(window.location.hash){case"#contact":this.onContactSeller()}},onContactSeller:function(){var e=this.options.model.toJSON();new a.a({uid:e.user.uid}).fetch().then(function(t){return new s.a({model:t,title:"Sketchfab Store: "+e.name,body:"Model: "+e.viewerUrl+"\n"}).open()})},render:function(){this.renderChildren()}})},1754:function(e,t,o){"use strict";var n=o(40),i=o.n(n),a=o(27),s=o.n(a),r=o(9),l=o.n(r),p=o(54),u=o.n(p),c=o(14),d=o(5),m=o.n(d),h=o(0),f=(o.n(h),o(6)),v=o(2),b=o(1),g=o(648),k=o(719),_=o(26),w=o(63),L=o(23),y=o(4),x=o(192),O=o(145),F=o(141),C=o(1391),S=o(37),V=o(720),P=o(1393),E=(o.n(P),[{value:"",title:"Select your usage"}].concat(u()(c.a.reviewsUsageOptions))),j=Object(g.a)({previewFidelity:{initialValue:0,validators:[Object(k.f)(),Object(k.c)(1,"This field is required")]},easeOfUse:{initialValue:0,validators:[Object(k.f)(),Object(k.c)(1,"This field is required")]},valueForMoney:{initialValue:0,validators:[Object(k.f)(),Object(k.c)(1,"This field is required")]},usage:{initialValue:"",validators:[Object(k.f)(),Object(k.e)(E.map(Object(_.f)("value")))]},body:{initialValue:"",validators:[Object(k.f)(),Object(k.d)(50)]}});t.a=j(f.a.extend({displayName:"ReviewEditForm",optionTypes:{form:b.b.shape({data:b.b.shape({previewFidelity:b.b.numberBetween(0,5),easeOfUse:b.b.numberBetween(0,5),valueForMoney:b.b.numberBetween(0,5),body:b.b.string.isRequired,usage:b.b.string.isRequired}).isRequired}).isRequired,model:b.b.shape({viewerUrl:b.b.string.isRequired,uid:b.b.string.isRequired}).isRequired,onContactSeller:b.b.func.isRequired},events:{'submit [data-ref="form"]':"onSubmit"},viewDidMount:function(){this.review=new x.a({body:""}),y.a.me().getReviewOnModel(this.options.model.uid).then(function(e){return e&&e.body?e:m.a.reject(new L.d)}).then(function(e){this.review.set(e),this.options.form.onFieldsChange({previewFidelity:e.previewFidelity,easeOfUse:e.easeOfUse,valueForMoney:e.valueForMoney,body:e.body,usage:e.usage})}.bind(this)).catch(Object(L.g)(L.d))},onSubmit:function(){var e=this;this.options.form.onSubmit(function(t){return Object(w.a)([t.previewFidelity,t.easeOfUse,t.valueForMoney])<=2?e.displayContactSellerPopup().then(function(o){switch(o){case"post":return e.saveReview(t);case"contact":return e.options.onContactSeller()}}).catch(Object(L.g)(L.e)):e.saveReview(t)})},displayContactSellerPopup:function(){return new O.a({title:"Confirm your review",text:"Based on the rating, it seems that you've had an issue with your purchase. Would you like to get help from the seller?",renderButtons:function(e){return[{viewClass:S.a,options:{key:"contact",type:"tertiary",text:"contact seller",onClick:function(){return e.continue("contact")}}},{viewClass:S.a,options:{key:"post",type:"primary",text:"post my review",onClick:function(){return e.continue("post")}}}]}}).open()},saveReview:function(e){var t=this.options.model,o=l()({},e,{model:t.uid});m.a.resolve(this.review.save(o,{patch:!!this.review.get("uid")})).then(function(){window.location=t.viewerUrl}).catch(function(e){if(400===e.status){var t=e.responseJSON.detail;return m.a.reject(s()(t).reduce(function(e,o){return l()({},e,i()({},o,Object(h.head)(t[o])))},{}))}return new O.a({title:"Something went wrong",text:"There was an error while saving your review. Please try again later.",shouldRejectOnCancel:!1,renderButtons:function(e){return{viewClass:S.a,options:{text:"ok",onClick:e.continue}}}}).open()})},template:function(){return v.default.getFromMacro("skfb_front/macros/components/organisms/review-edit-form","review_edit_form",[{SKFB_FAQ_HOST:c.a.hosts.faq,minCharsCount:50,ratings:this.options.form.data,fields:this.options.form.fields,charsCount:this.options.form.data.body.length,components:this.createChildrenComponents({previewFidelityRating:{viewClass:F.a,options:l()({},this.options.form.fields.previewFidelity,{size:"large"})},easeOfUseRating:{viewClass:F.a,options:l()({},this.options.form.fields.easeOfUse,{size:"large"})},valueForMoneyRating:{viewClass:F.a,options:l()({},this.options.form.fields.valueForMoney,{size:"large"})},usageSelect:{viewClass:V.a,options:l()({},this.options.form.fields.usage,{placeholder:"E.g: Architecture visualization, mobile game, 3D printing, …",options:E,grey:!0,className:"form-select c-review-edit-form__select"})},commentEditor:{viewClass:C.a,options:l()({},this.options.form.fields.body,{grey:!0,placeholder:"",onSubmit:this.onSubmit.bind(this)})},publishButton:{viewClass:S.a,options:{text:this.options.form.isSubmitting?"publishing...":"publish my review",loading:this.options.form.isSubmitting,attrs:{type:"submit"}}}})}])}}))},1755:function(e,t,o){"use strict";var n=o(25),i=o.n(n),a=o(0),s=(o.n(a),o(4)),r=o(42),l=o(1);t.a=r.a.extend({optionTypes:{filters:l.b.object.isRequired},defaultOptions:function(){return{filters:new i.a.Model}},model:s.a,fetch:function(e){return e=e||{},Object(a.extend)(e,{reset:!0,remove:!0,add:!0}),r.a.prototype.fetch.call(this,e)},endpoint:function(){return"/users/autocomplete"},queryParams:function(){return Object(a.extend)({},r.a.prototype.queryParams.call(this),{q:this.options.filters.get("username")})}})},1756:function(e,t,o){"use strict";var n=o(9),i=o.n(n),a=o(3),s=o.n(a),r=o(5),l=o.n(r),p=o(44),u=o.n(p),c=o(0),d=(o.n(c),o(22)),m=o(4),h=o(1757),f=o(1758),v=o(1759),b=o(49),g=o(457),k=o(12),_=o(415),w=o(323),L=o(1377),y=o(1),x=o(34),O=o(103),F=o(23),C=o(205),S=o(57),V=o(71),P=o(125),E=o(149),j=o(141),T=o(37),R=o(733),M=o(1456),A=o(1762),N=o(1763),U=o(665),z=o(1764),q=o(1775),D=o(1783),I=o(1785),B=o(160),W=o(735),$=o(258),H=o(1787),J=o(155),K=o(123),G=o(287);t.a=V.a.extend({displayName:"ModelPage",mixins:[C.a],optionTypes:{dragAndDrop:y.b.oneOfType([y.b.object.isRequired,y.b.bool.isRequired])},defaultOptions:{dragAndDrop:{enabled:!0}},state:{isMetaLoaded:!1,selectedFeedbackTab:void 0},children:{modelManagement:{selector:".js-model-management",viewClass:q.a,shouldCreateChild:function(){return!!s()(".js-model-management").length&&this.state.isMetaLoaded},options:function(){return{model:this.model,shareToken:Object(d.a)().shareToken}}},addToCartButton:{selector:".js-add-to-cart-button",viewClass:$.a,shouldCreateChild:function(){return!!s()(".js-add-to-cart-button").length},options:function(){var e=this;return{model:this.options.model,render:function(t){var o=t.isModelInCart,n=t.isModelOwned,a=t.wasJustAdded,s=t.onAddToCart;return{viewClass:T.a,options:i()({},e.getDownloadButtonText({isModelInCart:o,isModelOwned:n,wasJustAdded:a}),{onClick:function(){n?e.openDownloadPopup():o?window.location="/store/cart":s()},size:"huge",attrs:{type:"button"},style:{width:"100%",height:"66px",fontSize:"18px"},type:"store"})}}}}},mobileAddToCartButton:{selector:".js-mobile-add-to-cart-button",viewClass:$.a,shouldCreateChild:function(){return!!s()(".js-mobile-add-to-cart-button").length},options:function(){var e=this;return{model:this.options.model,render:function(t){var o=t.isModelInCart,n=t.isModelOwned,a=t.wasJustAdded,s=t.onAddToCart;return{viewClass:T.a,options:i()({},e.getDownloadButtonText({isModelInCart:o,isModelOwned:n,wasJustAdded:a}),{onClick:function(){n?e.openDownloadPopup():o?window.location="/store/cart":s()},type:"store",size:"large"})}}}}},modelInformation:{selector:".js-model-information",viewClass:M.a,shouldCreateChild:function(){return!!s()(".js-model-information").length},options:function(){return{model:this.model.toJSON(),authUser:m.a.me().toJSON(),onInspect:this.onInspect.bind(this),onReviewsClick:this.onScrollToReviews.bind(this)}}},modelActions:{selector:".js-model-actions",viewClass:A.a,options:function(){return{model:this.model.toJSON(),authUser:m.a.me().toJSON(),onOpenEmbedPopup:this.openEmbedPopup.bind(this),onOpenSharePopup:this.openSharePopup.bind(this),onOpenDownloadPopup:this.openDownloadPopup.bind(this),onOpenCollectionPopup:this.openCollectionPopup.bind(this)}}},authorFollowButton:{selector:".follow-user-button",viewClass:P.a,options:{trackerEvent:"modelPageFollowButtonClicked"}},likeButton:{selector:".main .viewer-additional .like-button",viewClass:E.a,shouldCreateChild:function(){return this.model.isPublished()&&!!this.$(".main .like-button").length},options:function(){return{popoverElement:this.$el.find(".main .viewer-additional .popover"),trackerEvent:"modelPageFavoriteButtonClicked",model:this.model}}},mobileModelRating:{selector:".js-mobile-model-rating",shouldCreateChild:function(){return this.$(".js-mobile-model-rating").length&&"paid"===this.model.getDownloadType()&&this.model.get("averageRating")},viewClass:j.a,options:function(){return{size:"small",value:this.model.get("averageRating")}}},inlineLikes:{selector:".model-meta-likes",viewClass:N.a,shouldCreateChild:function(){return!!this.$(".model-meta-likes").length},options:function(){return{likes:this.likeCollection,totalLikeCount:this.model.get("likeCount"),onTotalLikeCountClick:this.openLikesPopup.bind(this)}}},relatedCollectionList:{selector:".related-collections .js-list",viewClass:D.a,shouldCreateChild:function(){return!this.model.get("inStore")&&!!this.$(".related-collections .js-list").length},options:function(){return{collection:this.relatedCollectionCollection,placeholdersCount:3,shouldHidePagination:!0}}},relatedModelList:{selector:".related-models .js-list",viewClass:I.a,shouldCreateChild:function(){return!this.model.get("inStore")&&this.model.isPublished()&&!!this.$(".related-models .js-list").length},options:function(){return{collection:this.relatedModelCollection,placeholdersCount:2,itemOptions:{linkRef:"related"}}}},relatedStoreModels:{selector:".js-related-store-models",viewClass:B.a,shouldCreateChild:function(){return this.model.get("inStore")},options:function(){return{collection:this.relatedModelCollection,render:function(e){var t=e.models,o=e.isLoading;return{viewClass:W.a,options:{color:O.a.storeColor,cards:o?Object(c.range)(0,4).map(function(e,t){return{viewClass:R.a,options:{key:t}}}):t.map(function(e){return{viewClass:U.a,options:{model:e,key:e.get("uid"),previewOnDrag:!1}}})}}}}}},feedbacks:{selector:".feedbacks",viewClass:z.a,shouldCreateChild:function(){return this.model.isPublished()&&!!this.$(".feedbacks").length},options:function(){return{model:this.model,selectedTab:this.state.selectedFeedbackTab}}}},events:{'click [data-action="follow-author"]':"followAuthorAction","mouseenter iframe":"ensureIframeFocus",'click [data-action="cancel-restricted"]':"cancelRestricted",'click [data-action="allows-restricted"]':"allowsRestricted",'click [data-action="open-exporter-link"]':"trackExporterClick",'click [data-action="show-more"]':"toggleShowMore",'click [data-action="open-information-popup"]':"openInformationPopup",'click [data-action="scroll-to-reviews"]':"onScrollToReviews",'click [data-action="open-modelsettings-popup"]':"onOpenSettingsPopup","route #download":"openDownloadPopup","route #share":"openSharePopup","route #embed":"openEmbedPopup","route #add-to":"openCollectionPopup","route #likes":"openLikesPopup"},initialize:function(){V.a.prototype.initialize.apply(this,arguments),this.openEmbedPopup=x.c(this.openEmbedPopup.bind(this)),this.openDownloadPopup=x.c(this.openDownloadPopup.bind(this)),this.openLikesPopup=x.c(this.openLikesPopup.bind(this)),L.a.then(function(e){this._viewer=e}.bind(this)),u.a.any||this.initializeTheatreMode(),Object(w.a)()||this.$('[data-action="settings3d-button"]').addClass("disable");var e=this.$("iframe.viewer-object");e.length&&this.ensureIframeFocus({target:e[0]}),u.a.any&&this.$(".additional .actions .settings").hide(),this.fixViewerHeight(),this.initializeProcessingPolling(),this.model.get("inStore")||this.initializeRelatedCollections(),this.initializeRelatedModels(),this.initializeLikes(),this.handleLazyLoading(),this.watchIframeFocus(),this.handleDescriptionShowMore(),this.fetchModelMetadata(),this.model.on("change",this.forceUpdate,this),this.model.getExtraArchive(),this.render(),this.options.model.get("inStore")&&this.trackViewStoreModel()},viewWillUnmount:function(){this.relatedCollectionCollection.off("afterRequest",this.onAfterRelatedCollectionsRequest,this)},fixViewerHeight:function(){if(u.a.apple.phone&&window.innerWidth<=parseInt(O.c.responsiveBreakpointSmall)){var e=this.$(".viewer");e.css({height:e.height()});var t=this.$(".viewer-container");t.css({height:t.height()})}},getDownloadButtonText:function(e){var t=e.isModelOwned,o=e.isModelInCart,n=e.wasJustAdded;return t?{text:"Download",subtext:""}:o?n?{text:"Added to your cart!",subtext:"go to checkout",iconClassName:"fa fa-check",iconAttrs:{style:{fontSize:"30px",animation:"scaleIn .3s ease"}}}:{text:"go to checkout",subtext:"model already added to your cart",iconClassName:""}:{text:"Add to cart",subtext:"",iconClassName:""}},fetchModelMetadata:function(){var e=this;m.a.me().get("uid")===this.model.get("user").uid&&this.model.fetchMetadata().then(function(){e.setState({isMetaLoaded:!0})})},onAfterRelatedCollectionsRequest:function(){this.relatedCollectionCollection.models.length?this.$(".related-collections").show():this.$(".related-collections").hide()},initializeRelatedCollections:function(){this.relatedCollectionCollection=new f.a(null,{uid:this.model.get("uid"),pageSize:3}),this.relatedCollectionCollection.on("afterRequest",this.onAfterRelatedCollectionsRequest,this)},initializeRelatedModels:function(){this.relatedModelCollection=this.model.get("inStore")?new h.a(null,{uid:this.model.get("uid"),pageSize:6}):new h.a(null,{uid:this.model.get("uid"),pageSize:6,cursor:{previous:null,next:"4"}})},initializeProcessingPolling:function(){this.model.isProcessing()&&this.model.checkStatusAndRetry().then(function(e){switch(e.processing){case"SUCCEEDED":case"FAILED":window.location.reload()}}.bind(this))},initializeTheatreMode:function(){var e=this;this.isTheatreModeEnabled()&&this.$(".model-container").addClass("theatre"),L.a.then(function(t){t.on("enterTheatreMode",function(){e.$(".model-container").addClass("theatre"),k.a.modelViewerTheatreModeButtonClicked(!0)}),t.on("leaveTheatreMode",function(){e.$(".model-container").removeClass("theatre"),k.a.modelViewerTheatreModeButtonClicked(!1)})})},isTheatreModeEnabled:function(){return"false"!==b.a.get("theatre_mode","false")},onInspect:function(){s()("html").animate({scrollTop:0},200,function(){L.a.then(function(e){e.toggleInspector()})})},onScrollToReviews:function(){this.setState({selectedFeedbackTab:"reviews"}),s()("html").animate({scrollTop:document.querySelector("#comments").offsetTop},400)},onOpenSettingsPopup:function(e){e.preventDefault(),this.model.get("user").uid===m.a.me().get("uid")&&new G.a({model:this.model,userIsUpdated:!0}).open()},openEmbedPopup:function(){var e=this;return k.a.modelPageEmbedButtonClicked(this.model.get("uid")),Object(S.d)().then(function(t){return new t({model:e.model}).open()}).catch(Object(F.g)(F.e))},openSharePopup:function(){k.a.modelPageShareButtonClicked(this.model.get("uid")),new K.a({model:this.model}).open()},openInformationPopup:function(){var e=this,t=new H.a({model:this.model.toJSON(),authUser:m.a.me().toJSON(),onInspect:function(){e.onInspect(),t.close()}});t.open()},openDownloadPopup:function(){var e=this;return this.model.get("isDownloadable")||this.model.get("inStore")?(location.hash="#download",k.a.modelPageDownloadButtonClicked(this.model.get("uid")),m.a.me().isAuthenticated()?Object(S.b)().then(function(t){return new t({model:e.model}).open()}).then(function(){history.replaceState("",document.title,window.location.pathname+window.location.search)}).catch(Object(F.g)(F.e)):m.a.authenticate(function(){return window.location.href})):l.a.resolve()},openCollectionPopup:function(){k.a.modelPageAddToCollectionButtonClicked(this.model.get("uid")),new J.a({model:this.model}).open(),this.$(".add-to.user-guide .tooltip").addClass("hidden")},openLikesPopup:function(){var e=this;return Object(S.c)().then(function(t){return new t({collection:e.likeCollection}).open()}).catch(Object(F.g)(F.e))},followAuthorAction:function(){m.a.authenticate(function(){m.a.get(this.model.get("user").uid).then(function(e){var t=e.get("isFollowedByUser")?"unfollow":"follow";return k.a.modelPageFollowButtonClicked(e.get("uid"),"follow"===t),this.$(".follow-unfollow").toggleClass("unfollow","follow"===t),this.$(".follow-unfollow").toggleClass("follow","unfollow"===t),e[t]()}.bind(this))}.bind(this))},ensureIframeFocus:function(e){e.target.contentWindow.focus()},watchIframeFocus:function(){this.setIframeFocusStyle(),s()(window).on("blur focus",this.setIframeFocusStyle.bind(this))},setIframeFocusStyle:function(){var e=this.$("iframe.viewer-object");e.parent().toggleClass("focused",document.activeElement===e[0])},cancelRestricted:function(){window.location.href=document.referrer?document.referrer:"/"},allowsRestricted:function(){m.a.me().setAllowsRestricted(!0),this.$(".restricted-overlay").addClass("hidden"),s()("body.restricted").removeClass("restricted")},initializeLikes:function(){this.likeCollection=new v.a([],{currentModel:this.model,paginationType:"offset"}),this.options.model.get("isPublished")&&this.likeCollection.loadFirstPage().then(this.renderChild.bind(this,"inlineLikes"))},trackExporterClick:function(e){k.a.wrapLink(e,k.a.modelPageExporterLinkClicked(s()(e.currentTarget).attr("data-exporter")))},trackViewStoreModel:function(){var e=this.options.model.get("uid"),t=this.options.model.get("price");g.a.setStoreProductId({product_id:e}),_.a.trackViewContent({content_ids:[e],value:t})},handleDescriptionShowMore:function(){var e=this.$el.find(".model-informations"),t=this.$el.find(".model-informations__description .description-content");(this.model.get("inStore")||t[0]&&t[0].offsetHeight>100)&&e.addClass("--show-more")},toggleShowMore:function(){this.$el.find(".model-informations").toggleClass("--expanded")},render:function(){this.renderChildren()}})},1757:function(e,t,o){"use strict";var n=o(252),i=o(1);t.a=n.a.extend({displayName:"RelatedModels",optionTypes:{uid:i.b.string.isRequired},endpoint:function(){return"/models/"+this.options.uid+"/related"}})},1758:function(e,t,o){"use strict";var n=o(126),i=o(1);t.a=n.a.extend({displayName:"RelatedCollections",optionTypes:{uid:i.b.string.isRequired},endpoint:function(){return"/models/"+this.options.uid+"/related-collections"}})},1759:function(e,t,o){"use strict";var n=o(1760),i=o(42),a=o(20);t.a=i.a.extend({model:n.a,initialize:function(){i.a.prototype.initialize.apply(this,arguments)},url:function(){return"/i/likes"+a.b.craft("?",{model:this.options.currentModel.get("uid"),cursor:this.options.offset,count:this.options.pageSize})},loadMore:function(){return this.fetch({remove:!1})},hasMore:function(){return this.options.currentModel.get("likeCount")>this.length}})},176:function(e,t,o){o(17),o(102),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/popups/signup.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null;e.getTemplate("skfb_front/layouts/popup.jinja",!0,"skfb_front/popups/signup.jinja",!1,function(r,l){if(r)return void i(r);s=l;for(var p in s.blocks)t.addBlock(p,s.blocks[p]);a+="\n\n";var u;u="Sign up",o.set("popupTitle",u,!0),o.topLevel&&t.setVariable("popupTitle",u),o.topLevel&&t.addExport("popupTitle",u),a+="\n";var c;c="popup-signup",o.set("popupClass",c,!0),o.topLevel&&t.setVariable("popupClass",c),o.topLevel&&t.addExport("popupClass",c),a+="\n";var d;if(d=!0,o.set("allowAutocomplete",d,!0),o.topLevel&&t.setVariable("allowAutocomplete",d),o.topLevel&&t.addExport("allowAutocomplete",d),a+="\n\n",n.contextOrFrameLookup(t,o,"referrer")){a+="\n    ";var m;m="popup-signup popup-signup-referral",o.set("popupClass",m,!0),o.topLevel&&t.setVariable("popupClass",m),o.topLevel&&t.addExport("popupClass",m),a+="\n"}a+="\n\n",(s?function(e,t,o,n,i){i("")}:t.getBlock("popup_content"))(e,t,o,n,function(r,l){if(r)return void i(r);a+=l,a+="\n\n",(s?function(e,t,o,n,i){i("")}:t.getBlock("popup_footer"))(e,t,o,n,function(r,l){if(r)return void i(r);a+=l,a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)})})})}catch(e){i(n.handleError(e,null,null))}}function t(e,t,o,n,i){var a=null,s=null,r="";try{var o=o.push(!0);if(r+="\n\n    ",n.contextOrFrameLookup(t,o,"referrer")&&(r+='\n        <div class="signup-referral">\n            ',r+=n.suppressValue(e.getFilter("image_container").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"referrer"),"avatars"),64,64),e.opts.autoescape),r+='\n            <div class="signup-referral-info">\n                <span class="signup-referral-username">',r+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"referrer"),"displayName"),e.opts.autoescape),r+="</span>\n                <strong>is inviting you to Sketchfab</strong>\n            </div>\n        </div>\n    "),r+="\n\n    ",n.contextOrFrameLookup(t,o,"voucher")){r+="\n\n        ";var l;l=Math.floor(n.contextOrFrameLookup(t,o,"voucherDurationDays")/30),o.set("voucherDurationMonths",l,!0),o.topLevel&&t.setVariable("voucherDurationMonths",l),o.topLevel&&t.addExport("voucherDurationMonths",l),r+='\n\n        <div class="signup-promo">\n            <p class="signup-promo-info">\n                <strong>Limited offer:</strong> signup now and get ',r+=n.suppressValue(n.contextOrFrameLookup(t,o,"voucherDurationMonths"),e.opts.autoescape),r+=" months of Sketchfab PRO for free (",r+=n.suppressValue(n.contextOrFrameLookup(t,o,"voucherCurrency"),e.opts.autoescape),r+=n.suppressValue(n.contextOrFrameLookup(t,o,"voucherDurationMonths")*n.contextOrFrameLookup(t,o,"voucherPricePerMonth"),e.opts.autoescape),r+=' value)\n            </p>\n            <p class="signup-promo-benefit">\n                With Sketchfab PRO, upload larger 3D files, share privately, use custom backgrounds and more.\n            </p>\n        </div>\n    '}r+='\n\n    <div class="form-column-layout" data-action="process-signup">\n\n        <div class="form-global-error',n.contextOrFrameLookup(t,o,"error")||(r+=" cloaked"),r+='">\n            <i class="icon fa fa-warning"></i>\n            <span class="message">',r+=n.suppressValue(n.contextOrFrameLookup(t,o,"error"),e.opts.autoescape),r+='</span>\n        </div>\n\n        <div class="fields">\n\n            <div class="form-field username-field username">\n                <label class="form-label" for="username">Choose a username</label>\n                <div class="form-content">\n                    <label class="form-error" data-error-for="username" for="username"></label>\n                    <label class="form-prefixed-input username" for="username">\n                        <div class="prefix">sketchfab.com/</div>\n                        <input id="username" minlength="2" maxlength="',r+=n.suppressValue(n.contextOrFrameLookup(t,o,"usernameMaxLength"),e.opts.autoescape),r+='" class="input form-input" type="text" name="username" value="',r+=n.suppressValue(n.contextOrFrameLookup(t,o,"suggestedUsername"),e.opts.autoescape),r+='" placeholder="username" required data-error-for="username" autofocus pattern="',r+=n.suppressValue(n.contextOrFrameLookup(t,o,"usernameValidatorRegex"),e.opts.autoescape),r+='" title="',r+=n.suppressValue(n.contextOrFrameLookup(t,o,"usernameValidatorTitle"),e.opts.autoescape),r+='"/>\n                    </label>\n                </div>\n            </div>\n\n            <div class="form-field email">\n                <label class="form-label" for="email">Email</label>\n                <div class="form-content">\n                    <label class="form-error" data-error-for="email" for="email"></label>\n                    <input id="email" class="form-input" type="email" name="email" value="',r+=n.suppressValue(n.contextOrFrameLookup(t,o,"suggestedEmail"),e.opts.autoescape),r+='" placeholder="you@email.com" required data-error-for="email" />\n                    <span id="correction-suggestion">Did you mean <a data-action=insert-suggestion></a>?</span>\n                </div>\n            </div>\n\n            <div class="form-field password">\n                <label class="form-label" for="password">Create password <span class="hint">(8 characters minimum)</span></label>\n                <div class="form-content">\n                    <label class="form-error" data-error-for="password" for="password"></label>\n                    <input id="password" class="form-input" type="password" name="password" value="" required pattern=".{8,}" minlength="8" data-error-for="password" title="8 characters minimum"/>\n                </div>\n            </div>\n\n            <div class="form-field form-buttons signup-field">\n                <div class="form-content">\n                    <button type="submit" class="form-button btn-large btn-primary">\n                        <span class="state-normal">Create Account</span>\n                        <span class="state-progress"><i class="loading loading-light"></i> Loading</span>\n                    </button>\n                </div>\n            </div>\n\n        </div>\n\n    </div>\n\n    <hr class="form-separator" />\n\n    <p>Or sign up with</p>\n\n    <div class="social">\n\n        ',e.getTemplate("skfb_front/macros/auth.jinja",!1,"skfb_front/popups/signup.jinja",!1,function(l,p){if(l)return void i(l);p.getExported(function(l,p){if(l)return void i(l);if(!p.hasOwnProperty("social_auth"))return void i(new Error("cannot import 'social_auth'"));var u=p.social_auth;t.setVariable("social_auth",u),r+="\n        ",r+=n.suppressValue((a=93,s=20,n.callWrap(u,"social_auth",t,[n.contextOrFrameLookup(t,o,"next")])),e.opts.autoescape),r+='\n\n    </div>\n\n    <hr class="form-separator" />\n\n    <div class="terms">\n        <p>\n            By signing up you agree to our\n            <br>\n            <a href="/terms" target="_blank">Terms of Use</a> and <a href="/privacy" target="_blank">Privacy Policy</a>.\n        </p>\n    </div>\n\n',i(null,r)})})}catch(e){i(n.handleError(e,a,s))}}function o(e,t,o,n,i){var a="";try{var o=o.push(!0);a+='\n\n    <div class="bridge">\n        Already have an account? <a href="/login" data-action="open-login">Log in here</a>\n    </div>\n\n',i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{b_popup_content:t,b_popup_footer:o,root:e}}()}()},1760:function(e,t,o){"use strict";var n=o(13);t.a=n.a.extend({})},1761:function(e,t,o){"use strict";var n=o(0),i=(o.n(n),o(6)),a=o(2),s=o(1),r=o(63),l=o(53),p=o(91),u=o(92),c=function(e){return Object(n.dropRight)(Object(n.last)(e.split("/")).split("."),1).join(".")},d=i.a.extend({displayName:"Table",optionTypes:{columns:s.b.arrayOf(s.b.string.isRequired).isRequired,rows:s.b.arrayOf(s.b.object.isRequired).isRequired},template:function(){return a.default.getFromString(["{% if rows.length %}",'    <table class="table">',"        <thead>",'            <tr class="table__header-row">',"                {% for column in columns %}",'                    <th class="table__header-cell">{{ column }}</th>',"                {% endfor %}","            </tr>","        </thead>",'        <tbody class="table__body">',"            {% for row in rows %}",'                <tr class="table__row">',"                    {% for column in columns %}",'                        <td class="table__cell" title="{{ row[column] }}">{{ row[column] }}</td>',"                    {% endfor %}","                </tr>","            {% endfor %}","        </tbody>","    </table>","{% endif %}"].join("\n"),this.options)}}),m=i.a.extend({displayName:"ExtraArchivePopupContent",mixins:[Object(l.a)('[data-ref="content"]')],optionTypes:{threeD:s.b.arrayOf(s.b.shape({version:s.b.string.isRequired,filesize:s.b.number.isRequired,extension:s.b.string.isRequired,filepath:s.b.string.isRequired,fileformat:s.b.string.isRequired}).isRequired),image:s.b.arrayOf(s.b.shape({extension:s.b.string.isRequired,filepath:s.b.string.isRequired,format:s.b.string.isRequired,height:s.b.number.isRequired,width:s.b.number.isRequired,filesize:s.b.number.isRequired}).isRequired).isRequired,misc:s.b.arrayOf(s.b.shape({extension:s.b.string.isRequired,filepath:s.b.string.isRequired,filesize:s.b.number.isRequired}).isRequired).isRequired},defaultOptions:{threeD:[],image:[],misc:[]},template:function(){return a.default.getFromString(['<div data-ref="content" class="extra-archive-popup__content">',"    {% if hasContentToDisplay %}","        {{ components.table3D | component('extra-archive-popup__table') }}","        {{ components.tableTexture | component('extra-archive-popup__table') }}","        {{ components.tableMisc | component('extra-archive-popup__table') }}","    {% else %}","        Nothing was found in the additional file.","    {% endif %}","</div>"].join("\n"),{hasContentToDisplay:this.options.threeD.concat(this.options.image).concat(this.options.misc).length,components:this.createChildrenComponents({table3D:{viewClass:d,options:{columns:["3D files","Extension","Format","Size"],rows:this.options.threeD.map(function(e){return{"3D files":c(e.filepath),Extension:"."+e.extension,Format:e.fileformat,Size:Object(r.j)(e.filesize)}})}},tableTexture:{viewClass:d,options:{columns:["Textures","Resolution","Extension","Size"],rows:this.options.image.map(function(e){return{Textures:c(e.filepath),Resolution:e.width+"x"+e.height,Extension:"."+e.extension,Size:Object(r.j)(e.filesize)}})}},tableMisc:{viewClass:d,options:{columns:["Other files","Extension","Size"],rows:this.options.misc.map(function(e){return{"Other files":c(e.filepath),Extension:"."+e.extension,Size:Object(r.j)(e.filesize)}})}}})})}});t.a=Object(p.a)(i.a.extend({displayName:"ExtraArchivePopup",optionTypes:{extraArchive:s.b.shape({metadata:s.b.shape({"3d":s.b.array.isRequired,image:s.b.array.isRequired,misc:s.b.array.isRequired}).isRequired}).isRequired},template:function(){return a.default.getFromString("{{ components.popup | component }}",{components:this.createChildrenComponents({popup:{viewClass:u.a,options:{title:"Additional file",className:"extra-archive-popup",child:{viewClass:m,options:{threeD:this.options.extraArchive.metadata["3d"],image:this.options.extraArchive.metadata.image,misc:this.options.extraArchive.metadata.misc}}}}})})}}))},1762:function(e,t,o){"use strict";var n=o(9),i=o.n(n),a=o(6),s=o(2),r=o(1),l=o(14),p=o(897);o.n(p);t.a=a.a.extend({displayName:"ModelActions",optionTypes:{model:r.b.shape({user:r.b.object.isRequired,uid:r.b.string.isRequired,name:r.b.string.isRequired,publishedAt:r.b.string,price:r.b.number,isDeleted:r.b.bool,isDownloadable:r.b.bool,isPrivate:r.b.bool}).isRequired,authUser:r.b.shape({features:r.b.arrayOf(r.b.string.isRequired).isRequired,uid:r.b.string}).isRequired,onOpenEmbedPopup:r.b.func.isRequired,onOpenSharePopup:r.b.func.isRequired,onOpenDownloadPopup:r.b.func.isRequired,onOpenCollectionPopup:r.b.func.isRequired},events:{'click [data-action="open-collection-popup"]':function(e){this.options.onOpenCollectionPopup(e)},'click [data-action="open-embed-popup"]':function(e){this.options.onOpenEmbedPopup(e)},'click [data-action="open-share-popup"]':function(e){this.options.onOpenSharePopup(e)},'click [data-action="open-download-popup"]':function(e){this.options.onOpenDownloadPopup(e)}},template:function(){return s.default.getFromMacro("skfb_front/macros/components/molecules/model-actions","model_actions",[i()({},this.options,{SKFB_FAQ_HOST:l.a.hosts.faq})])}})},1763:function(e,t,o){"use strict";var n=o(6),i=o(4),a=o(2),s=o(1),r=o(29),l=o(1395);o.n(l);t.a=n.a.extend({displayName:"InlineLikes",optionTypes:{likes:s.b.collection.isRequired,totalLikeCount:s.b.number.isRequired,onTotalLikeCountClick:s.b.func},defaultOptions:{onTotalLikeCountClick:r.d},events:{'click [data-action="on-total-click"]':function(e){this.options.onTotalLikeCountClick(e)}},template:function(){return a.default.getFromMacro("skfb_front/macros/components/molecules/inline-likes","inline_likes",[{currentUser:i.a.me().toJSON(),likes:this.options.likes.toJSON(),totalLikeCount:this.options.totalLikeCount}])}})},1764:function(e,t,o){"use strict";var n=o(27),i=o.n(n),a=o(6),s=o(2),r=o(1),l=o(1765),p=o(1766),u=o(1770),c=["reviews","comments"];t.a=a.a.extend({displayName:"ModelFeedbacks",optionTypes:{model:r.b.modelShape({commentCount:r.b.number.isRequired,reviewCount:r.b.number.isRequired}).isRequired,selectedTab:r.b.oneOf(c)},initialize:function(){a.a.prototype.initialize.apply(this,arguments),this.state={selectedTabIndex:this.options.model.get("reviewCount")?0:1}},getDerivedStateFromOptions:function(e){return{selectedTabIndex:e.selectedTab?c.indexOf(e.selectedTab):this.state.selectedTabIndex}},viewWillReceiveOptions:function(e){var t=this.state,o=this.getDerivedStateFromOptions(e);i()(o).some(function(e){return o[e]!==t[e]})&&this.setState(o)},viewDidMount:function(){this.options.model.on("change",this.forceUpdate,this)},viewWillUnmount:function(){this.options.model.off("change",this.forceUpdate,this)},template:function(){var e="paid"===this.options.model.getDownloadType(),t={viewClass:p.a,options:{model:this.options.model,totalCommentCount:this.options.model.get("commentCount"),onTotalCommentCountChange:function(e){this.options.model.set("commentCount",e)}.bind(this),shouldDisplayTitle:!e}},o={viewClass:u.a,options:{model:this.options.model}},n=e?{viewClass:l.a,options:{selectedTabIndex:this.state.selectedTabIndex,onSelectTab:function(e){this.setState({selectedTabIndex:e})}.bind(this),tabs:[{title:(this.options.model.get("reviewCount")||0)+" Reviews",component:o},{title:(this.options.model.get("commentCount")||0)+" Comments",component:t}]}}:t;return s.default.getFromString('<div class="c-model-feedbacks">{{ components.content | component }}</div>',{components:this.createChildrenComponents({content:n})})}})},1765:function(e,t,o){"use strict";var n=o(6),i=o(148),a=o(2),s=o(1),r=o(1396);o.n(r);t.a=n.a.extend({displayName:"Tabs",optionTypes:{tabs:s.b.arrayOf(s.b.shape({title:s.b.string.isRequired,component:s.b.shape({viewClass:s.b.func.isRequired,options:s.b.object}).isRequired}).isRequired).isRequired,selectedTabIndex:s.b.number.isRequired,onSelectTab:s.b.func.isRequired,className:s.b.string},defaultOptions:{selectedTabIndex:0,className:""},mixins:[i.a],events:{'click [data-action="open-tab"]':"getTabIndex |> onOpenTab"},getTabIndex:function(e){return parseInt(e.target.getAttribute("data-tab-index"))},onOpenTab:function(e){this.options.onSelectTab(e)},template:function(){return a.default.getFromMacro("skfb_front/macros/components/molecules/tabs","tabs",[{className:this.options.className,selectedTabIndex:this.options.selectedTabIndex,tabs:this.options.tabs.map(function(e,t){return{title:e.title,component:this.createChildComponent("tab"+t,e.component),isActive:t===this.options.selectedTabIndex}}.bind(this))}])}})},1766:function(e,t,o){"use strict";var n=o(5),i=o.n(n),a=o(6),s=o(193),r=o(4),l=o(33),p=o(1767),u=o(2),c=o(1),d=o(79),m=o(12),h=o(1768),f=o(898),v=o(1769),b=o(900);o.n(b);t.a=a.a.extend({displayName:"ModelComments",optionTypes:{model:c.b.modelShape({uid:c.b.string.isRequired,name:c.b.string.isRequired,user:c.b.shape({uid:c.b.string.isRequired}).isRequired}).isRequired,totalCommentCount:c.b.number.isRequired,onTotalCommentCountChange:c.b.func.isRequired,pageSize:c.b.number,shouldDisplayTitle:c.b.bool},defaultOptions:{pageSize:15},state:{editorMention:""},initialize:function(){a.a.prototype.initialize.apply(this,arguments),this.commentCollection=new p.a([],{pageSize:this.options.pageSize,modelUid:this.options.model.get("uid"),paginationType:"offset"})},viewDidMount:function(){this.commentCollection.on("afterRequest",this.onAfterRequest,this)},viewWillUnmount:function(){this.commentCollection.off("afterRequest",this.onAfterRequest,this)},onAfterRequest:function(e){this.setState({totalCommentCount:e.total})},onSendComment:function(e){var t=r.a.me();m.a.modelPageNewCommentPosted(this.options.model.get("uid"),t.get("uid")===(this.options.model.get("user")||this.options.model.get("user").uid));var o=Object(d.h)(e);if(o.length){var n=new s.a({user:r.a.me().toJSON(),model:this.options.model.get("uid"),body:o});n.save().then(function(){this.commentCollection.add(n,{at:0}),this.options.onTotalCommentCountChange(this.options.totalCommentCount+1)}.bind(this))}},onDeleteComment:function(e){i.a.resolve(e.destroy()).then(function(){m.a.modelPageCommentDeleted(this.options.model.get("uid"),r.a.me().get("uid")===(this.options.model.get("user")||this.options.model.get("user").uid))}.bind(this)).catch(function(e,t,o){new l.default({title:"Error",text:"The comment could not be deleted ("+o+"). Please try again later. ",buttons:{ok:!0}}).open()})},onCommentReply:function(e){this.setState({editorMention:e.get("user").username}),this.el.scrollIntoView(!0)},template:function(){return u.default.getFromMacro("skfb_front/macros/components/organisms/model-comments","model_comments",[{shouldDisplayTitle:this.options.shouldDisplayTitle,totalCommentCount:this.options.totalCommentCount,components:this.createChildrenComponents({commentEditor:{viewClass:h.a,options:{mention:this.state.editorMention,placeholder:0===this.options.totalCommentCount?"Be the first to comment!":"Leave a comment, share your feedback. Don't be shy ;)",onSubmit:this.onSendComment.bind(this),getContextualUsers:function(){return this.commentCollection.getUsers()}.bind(this)}},commentList:{viewClass:f.a,options:{collection:this.commentCollection,itemClassName:"c-model-comments__item",placeholderType:"comment",getItemComponent:function(e){return{viewClass:v.a,options:{key:e.get("uid"),comment:e.toJSON(),model:this.options.model.toJSON(),onDelete:this.onDeleteComment.bind(this,e),onReply:this.onCommentReply.bind(this,e)}}}.bind(this)}}})}])}})},1767:function(e,t,o){"use strict";var n=o(0),i=(o.n(n),o(193)),a=o(42),s=o(1);t.a=a.a.extend({displayName:"Comments",optionTypes:{offset:s.b.number.isRequired,modelUid:s.b.string.isRequired},model:i.a,endpoint:"/comments",queryParams:function(){return Object(n.extend)({},a.a.prototype.queryParams.call(this),{model:this.options.modelUid})},getUsers:function(){return Object(n.sortBy)(this.pluck("user"),"username").filter(Boolean)}})},1768:function(e,t,o){"use strict";var n=o(6),i=o(4),a=o(2),s=o(1),r=o(1391),l=o(1397);o.n(l);t.a=n.a.extend({displayName:"CommentForm",optionTypes:{onSubmit:s.b.func.isRequired,avatarSize:s.b.number,placeholder:s.b.string,initialValue:s.b.string,mention:s.b.string,getContextualUsers:s.b.func,autofocus:s.b.bool},defaultOptions:{autocompletion:{},placeholder:"Leave a comment",initialValue:"",mention:"",avatarSize:32,autofocus:!1,getContextualUsers:function(){return[]}},events:{'click [data-action="open-login"]':"openLogin",submit:"sendComment"},initialize:function(){n.a.prototype.initialize.apply(this,arguments),this.state={value:this.options.initialValue,editorShouldFocus:!1}},viewWillReceiveOptions:function(e){e.mention&&e.mention!==this.options.mention&&this.addMention(e.mention)},addMention:function(e){this.setState({value:"@"+e+" "+this.state.value,editorShouldFocus:!0})},sendComment:function(){var e=this.state.value;e&&(this.options.onSubmit(e),this.setState({value:""}))},openLogin:function(e){e.preventDefault(),i.a.authenticate(function(){return window.location.href})},template:function(){return a.default.getFromMacro("skfb_front/macros/components/molecules/comment-form","comment_form",[{authUser:i.a.me().toJSON(),avatarSize:this.options.avatarSize,hasValue:!!this.state.value,components:this.createChildrenComponents({commentEditor:{viewClass:r.a,options:{value:this.state.value,onChange:function(e){this.setState({value:e})}.bind(this),placeholder:this.options.placeholder,autofocus:this.options.autofocus,getContextualUsers:this.options.getContextualUsers,onSubmit:this.sendComment.bind(this),shouldFocus:this.state.editorShouldFocus}}})}])}})},1769:function(e,t,o){"use strict";var n=o(14),i=o(6),a=o(4),s=o(1),r=o(2),l=o(29),p=o(900);o.n(p);t.a=i.a.extend({displayName:"ModelCommentItem",optionTypes:{comment:s.b.shape({uid:s.b.string.isRequired,isDeleted:s.b.bool.isRequired,createdAt:s.b.string.isRequired,user:s.b.shape({uid:s.b.string.isRequired,username:s.b.string.isRequired,avatars:s.b.shape({images:s.b.arrayOf(s.b.object.isRequired).isRequired}).isRequired}).isRequired}).isRequired,model:s.b.shape({name:s.b.string.isRequired,user:s.b.shape({uid:s.b.string.isRequired}).isRequired}).isRequired,onDelete:s.b.func,onReply:s.b.func},defaultOptions:{onDelete:l.d,onReply:l.d},events:{'click [data-action="delete-comment"]':function(){this.options.onDelete()},'click [data-action="reply"]':function(){this.options.onReply()}},template:function(){return r.default.getFromMacro("skfb_front/macros/components/organisms/model-comments","comment_item",[{authUser:a.a.me().toJSON(),comment:this.options.comment,SKFB_FAQ_HOST:n.a.hosts.faq,model:this.options.model}])}})},177:function(e,t,o){o(17),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/popups/resetpass.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null;e.getTemplate("skfb_front/layouts/popup.jinja",!0,"skfb_front/popups/resetpass.jinja",!1,function(r,l){if(r)return void i(r);s=l;for(var p in s.blocks)t.addBlock(p,s.blocks[p]);a+="\n\n";var u;u="Lost password",o.set("popupTitle",u,!0),o.topLevel&&t.setVariable("popupTitle",u),o.topLevel&&t.addExport("popupTitle",u),a+="\n";var c;c="popup-resetpass",o.set("popupClass",c,!0),o.topLevel&&t.setVariable("popupClass",c),o.topLevel&&t.addExport("popupClass",c),a+="\n\n",(s?function(e,t,o,n,i){i("")}:t.getBlock("popup_content"))(e,t,o,n,function(r,l){if(r)return void i(r);a+=l,a+="\n\n",(s?function(e,t,o,n,i){i("")}:t.getBlock("popup_footer"))(e,t,o,n,function(r,l){if(r)return void i(r);a+=l,a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)})})})}catch(e){i(n.handleError(e,null,null))}}function t(e,t,o,n,i){var a="";try{var o=o.push(!0);a+='\n\n    <div class="form-column-layout" data-action="process-login">\n\n        <div class="form-global-error cloaked">\n            <i class="icon fa fa-warning"></i>\n            <span class="message"></span>\n        </div>\n\n        <div class="fields">\n            <div class="form-field">\n                <label class="form-label" for="email">Enter your account e-mail:</label>\n                <div class="form-content">\n                    <div class="form-error" data-error-for="email"></div>\n                    <input class="form-input" type="email" name="email" value="" placeholder="you@email.com" data-error-for="email" />\n                </div>\n            </div>\n\n            <div class="form-field form-buttons login-field">\n                <button type="submit" class="form-button btn-large btn-primary">\n                    Reset password\n                </button>\n            </div>\n        </div>\n\n    </div>\n\n',i(null,a)}catch(e){i(n.handleError(e,null,null))}}function o(e,t,o,n,i){var a="";try{var o=o.push(!0);a+='\n\n    <div class="bridge">\n        <a data-action="open-login">Back to login</a>\n    </div>\n\n',i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{b_popup_content:t,b_popup_footer:o,root:e}}()}()},1770:function(e,t,o){"use strict";var n=o(0),i=(o.n(n),o(6)),a=o(13),s=o(4),r=o(2),l=o(1771),p=o(1),u=o(580),c=o(898),d=o(1772),m=o(1773),h=o(858);o.n(h);t.a=i.a.extend({displayName:"ModelReviews",optionTypes:{model:p.b.modelShape({uid:p.b.string.isRequired,name:p.b.string.isRequired,user:p.b.shape({uid:p.b.string.isRequired}).isRequired}).isRequired,pageSize:p.b.number},defaultOptions:{pageSize:15},state:{ratings:{average:null,previewFidelity:null,easeOfUse:null,valueForMoney:null,reviewCount:0,distribution:{5:0,4:0,3:0,2:0,1:0}},canReview:!1},initialize:function(){i.a.prototype.initialize.apply(this,arguments),this.reviewFilters=new a.a({model:this.options.model.get("uid"),sortBy:"",rating:""}),this.reviewCollection=new l.a([],{pageSize:this.options.pageSize,filters:this.reviewFilters}),this.authUser=s.a.me()},viewDidMount:function(){var e=this;this.options.model.getRatings().then(function(t){return e.setState({ratings:t})}),this.authUser.canReview(this.options.model.get("uid")).then(function(t){return e.setState({canReview:t})}),this.reviewFilters.on("change",this.forceUpdate,this)},viewWillUnmount:function(){this.reviewFilters.off("change",this.forceUpdate,this)},template:function(){var e=this.options.model.toJSON();return r.default.getFromMacro("skfb_front/macros/components/organisms/model-reviews","model_reviews",[{model:e,canReview:this.state.canReview,components:this.createChildrenComponents({sortBySelect:{viewClass:u.a,options:{value:this.reviewFilters.get("sortBy"),onChange:function(e){this.reviewFilters.set("sortBy",e)}.bind(this),options:[{title:"Most recent first",value:""},{title:"Highest ratings first",value:"-rating"},{title:"Lowest ratings first",value:"rating"},{title:"Most helpful first",value:"-upvoteCount"}]}},modelRating:{viewClass:d.a,options:Object(n.extend)({},this.state.ratings,{selectedRating:this.reviewFilters.get("rating"),onSelectRating:function(e){this.reviewFilters.set("rating",e)}.bind(this)})},reviewList:{viewClass:c.a,options:{collection:this.reviewCollection,filters:this.reviewFilters,paginationType:"offset",placeholderType:"comment",itemClassName:"c-model-reviews__item",getItemComponent:function(t){return{viewClass:m.a,options:{key:t.get("uid"),review:t.toJSON(),model:e,onToggleUpvote:function(){t.toggleUpvote()},onReply:function(e){return t.updateReply(e)}}}}.bind(this)}}})}])}})},1771:function(e,t,o){"use strict";var n=o(0),i=(o.n(n),o(13)),a=o(192),s=o(42),r=o(1);t.a=s.a.extend({displayName:"Reviews",optionTypes:{filters:r.b.modelShape({model:r.b.string.isRequired,sortBy:r.b.string,rating:r.b.string}).isRequired,offset:r.b.number,pageSize:r.b.number},defaultOptions:function(){return{filters:new i.a}},model:a.a,endpoint:"/reviews",queryParams:function(){return Object(n.extend)({},s.a.prototype.queryParams.call(this),{model:this.options.filters.get("model"),sort_by:this.options.filters.get("sortBy"),rating:this.options.filters.get("rating")})},getUsers:function(){return Object(n.sortBy)(this.pluck("user"),"username").filter(Boolean)}})},1772:function(e,t,o){"use strict";var n=o(27),i=o.n(n),a=o(6),s=o(2),r=o(1),l=o(141),p=a.a.extend({displayName:"Distribution",optionTypes:{distribution:r.b.shape({5:r.b.number.isRequired,4:r.b.number.isRequired,3:r.b.number.isRequired,2:r.b.number.isRequired,1:r.b.number.isRequired}).isRequired,selected:r.b.oneOf(["","1","2","3","4","5"]).isRequired,onSelect:r.b.func.isRequired},events:{'click [data-action="select"]':function(e){var t=e.currentTarget.getAttribute("data-value");this.options.onSelect(this.options.selected===t?"":t)}},template:function(){var e=this.options.distribution,t=i()(e).reduce(function(t,o){return t+e[o]},0);return s.default.getFromString(['<div class="c-rating-distribution">',"    {% for item in items %}","        <div",'            class="c-rating-distribution__item {{ item.className }}"','            data-action="select"','            data-value="{{ item.key }}">','            <div class="label">{{ item.label }}</div>','            <div class="percentage-container">',"                <div",'                    class="percentage"',"                    style=\"width: {{ item.percentage * 100 + '%' }}\"></div>","            </div>",'            <div class="count">{{ item.count }}</div>','            <i class="close-icon fa fa-close"></i>',"        </div>","    {% endfor %}","</div>"].join("\n"),{items:i()(e).sort(function(e,t){return parseInt(t)-parseInt(e)}).map(function(o){return{key:o,label:o+" star"+(parseInt(o)>1?"s":""),count:e[o],percentage:0===t?0:e[o]/t,className:this.options.selected?o===this.options.selected?"--active":"--inactive":""}}.bind(this))})}});t.a=a.a.extend({displayName:"ModelRating",optionTypes:{average:r.b.numberBetween(0,5),previewFidelity:r.b.numberBetween(0,5),easeOfUse:r.b.numberBetween(0,5),valueForMoney:r.b.numberBetween(0,5),reviewCount:r.b.number.isRequired,distribution:r.b.shape({5:r.b.number.isRequired,4:r.b.number.isRequired,3:r.b.number.isRequired,2:r.b.number.isRequired,1:r.b.number.isRequired}).isRequired,selectedRating:r.b.oneOf(["","1","2","3","4","5"]).isRequired,onSelectRating:r.b.func.isRequired},template:function(){return s.default.getFromString(['<div class="c-model-rating">','    <div class="c-model-rating__rating-block">','        <div class="c-model-rating__general">','            <span class="text">',"                {{ average | format_rating({ 'numberOnly': true }) if average else '-' }}","            </span>","            {{ components.generalStarRating | component }}","        </div>",'        <div class="c-model-rating__rating-details">',"            {% if isEmpty %}",'                <div class="col">',"                    Not enough reviews to display rating","                </div>","            {% else %}",'                <div class="col">',"                    <span>Preview accuracy</span>","                    <span>Ease of use</span>","                    <span>Value for money</span>","                </div>",'                <div class="col">',"                    <span>{{ previewFidelity | format_rating }}</span>","                    <span>{{ easeOfUse | format_rating }}</span>","                    <span>{{ valueForMoney | format_rating }}</span>","                </div>","            {% endif %}","        </div>","    </div>",'    <div class="c-model-rating__distribution-block">',"        {{ components.distribution | component }}","    </div>","</div>"].join("\n"),{isEmpty:!(this.options.previewFidelity||this.options.easeOfUse||this.options.valueForMoney),average:this.options.average,previewFidelity:this.options.previewFidelity,easeOfUse:this.options.easeOfUse,valueForMoney:this.options.valueForMoney,components:this.createChildrenComponents({generalStarRating:{viewClass:l.a,options:{value:this.options.average||0,size:"medium"}},distribution:{viewClass:p,options:{distribution:this.options.distribution,selected:this.options.selectedRating,onSelect:this.options.onSelectRating}}})})}})},1773:function(e,t,o){"use strict";var n=o(0),i=(o.n(n),o(14)),a=o(6),s=o(4),r=o(60),l=o(1),p=o(2),u=o(29),c=o(217),d=o(1774),m=o(858),h=(o.n(m),function(e){return Object(c.a)(i.a.reviewsUsageOptions,{title:"Unknown"},function(t){return t.value===e}).title});t.a=a.a.extend({displayName:"ModelReviewItem",mixins:[r.a],optionTypes:{review:l.b.shape({body:l.b.string.isRequired,usage:l.b.string.isRequired,uid:l.b.string.isRequired,createdAt:l.b.string.isRequired,user:l.b.shape({uid:l.b.string.isRequired,username:l.b.string.isRequired,avatars:l.b.shape({images:l.b.arrayOf(l.b.object.isRequired).isRequired}).isRequired}).isRequired,deletedAt:l.b.string,editedAt:l.b.string,averageRating:l.b.numberBetween(0,5).isRequired}).isRequired,model:l.b.shape({name:l.b.string.isRequired,user:l.b.shape({uid:l.b.string.isRequired,avatars:l.b.object.isRequired}).isRequired}).isRequired,onToggleUpvote:l.b.func,onReply:l.b.func.isRequired,authUser:l.b.model.isRequired},defaultOptions:function(){return{onToggleUpvote:u.d,authUser:s.a.me()}},events:{'click [data-action="toggle-upvote"]':function(){this.options.onToggleUpvote()},"change:reviewUpvotes this.options.authUser":"forceUpdate"},viewDidMount:function(){this.options.authUser.getHasUpvotedReview(this.options.review.uid)},template:function(){var e=this.options,t=e.review,o=e.authUser,a=e.model,s=e.onReply;return p.default.getFromMacro("skfb_front/macros/components/organisms/model-reviews","review_item",[{authUser:o.toJSON(),review:Object(n.extend)({},t,{usage:h(t.usage)}),SKFB_FAQ_HOST:i.a.hosts.faq,model:a,isUpvoted:o.hasUpvotedReview(t.uid),components:this.createChildrenComponents({reply:{viewClass:d.a,options:{review:t,modelAuthor:a.user,onReply:s}}})}])}})},1774:function(e,t,o){"use strict";var n=o(6),i=o(4),a=o(2),s=o(1),r=o(79),l=o(37),p=o(1391),u=o(858);o.n(u);t.a=n.a.extend({displayName:"ReviewReply",optionTypes:{review:s.b.shape({replyBody:s.b.string,replyCreatedAt:s.b.string,replyEditedAt:s.b.string}).isRequired,modelAuthor:s.b.shape({uid:s.b.string.isRequired,avatars:s.b.object.isRequired}).isRequired,onReply:s.b.func.isRequired},events:{'click [data-action="edit-reply"]':function(){this.setState({isEditing:!0})}},initialize:function(){n.a.prototype.initialize.apply(this,arguments),this.state={value:this.options.review.replyBody||"",isEditing:!1}},onSubmit:function(){this.options.onReply(Object(r.h)(this.state.value)).then(function(){this.setState({isEditing:!1})}.bind(this))},template:function(){var e=i.a.me().toJSON();return a.default.getFromMacro("skfb_front/macros/components/organisms/model-reviews","review_reply",[{authUser:e,review:this.options.review,isEditing:this.state.isEditing,isModelAuthor:e.uid===this.options.modelAuthor.uid,modelAuthor:this.options.modelAuthor,components:this.createChildrenComponents({replyButton:{viewClass:l.a,options:{text:"Reply",size:"small",onClick:function(){this.setState({isEditing:!0})}.bind(this)}},editor:{viewClass:p.a,options:{value:this.state.value,onChange:function(e){this.setState({value:e})}.bind(this),autofocus:!0,placeholder:"Your message...",onSubmit:this.onSubmit.bind(this)}},continueButton:{viewClass:l.a,options:{text:"publish",size:"small",onClick:this.onSubmit.bind(this)}},cancelButton:{viewClass:l.a,options:{text:"cancel",size:"small",type:"tertiary",onClick:function(){this.setState({isEditing:!1})}.bind(this)}}})}])}})},1775:function(e,t,o){"use strict";var n=o(14),i=o(4),a=o(6),s=o(41),r=o(2),l=o(1),p=o(287),u=o(1776),c=o(37),d=o(1777),m=o(316),h=o(145),f=o(321),v=o(1778),b=o(738),g=(o.n(b),Object(s.a)(function(){return r.default.getFromString('\n        <div class="model-management__warning">\n            <p class="model-management__warning__title">Too many materials</p>\n            <p>Sketchfab only supports 100 materials, but your model exceeds this limit. We had to merge or remove the extra materials.</p>\n            <p>To upload your model with all of its materials, reduce or consolidate the number of materials and re-upload. For more details see <a target="_blank" href="{{ SKFB_FAQ_HOST }}/articles/202600873-Materials-and-Textures" class="skfb-link">Materials & Textures</a>.</p>\n        </div>\n        ',{SKFB_FAQ_HOST:n.a.hosts.faq})})),k={"materials.too_many":g};t.a=a.a.extend({displayName:"ModelManagement",optionTypes:{model:l.b.modelShape({uid:l.b.string.isRequired,status:{monitors:l.b.arrayOf(l.b.string.isRequired).isRequired,warning:l.b.object.isRequired,processing:l.b.oneOf(["FAILED","SUCCEEDED","PENDING"]).isRequired}}).isRequired,shareToken:l.b.string},state:{closed:!0},children:{quickSettings:{selector:".quicksettings",viewClass:f.a,shouldCreateChild:function(){return this.$(".quicksettings").length},options:function(){return{model:this.model,settings3dButtonActionTrackerEvent:"modelPage3dSettingsButtonClicked",openSettingsPopupTrackerEvent:"modelPageSettingsButtonClicked",openAnnotationEditorTrackerEvent:"modelPageAnnotationsButtonClicked",openReuploadPopupTrackerEvent:"modelPageReuploadButtonClicked",deleteModelTrackerEvent:"modelPageDeleteButtonClicked",onDeleteModelSuccess:function(){window.location=this.model.get("user").profileUrl}.bind(this)}}}},events:{'click [data-action="share-preview"]':"onSharePreviewClicked",'click [data-action="open-settings-popup"]':"onOpenSettingsPopup",'click [data-action="toggle-management"]':"onToggleManagement",'click [data-action="show-processing-issues"]':"onShowProcessingIssues"},initialize:function(){a.a.prototype.initialize.apply(this,arguments),this.state.closed=this.options.model.get("isPublished")},viewDidMount:function(){this.renderChild("quickSettings"),i.a.me({allowPrefetching:!1}).then(function(){this.forceUpdate()}.bind(this))},viewDidUpdate:function(){this.renderChild("quickSettings")},getProcessingWarnings:function(){var e=this.options.model.get("status"),t=e.monitors;return(void 0===t?[]:t).filter(function(e){return k[e]})},onOpenSettingsPopup:function(e){e.preventDefault(),new p.a({model:this.model,userIsUpdated:!0}).open()},onSharePreviewClicked:function(e){e.preventDefault(),new u.a({model:this.model,share:e.target.getAttribute("data-token")}).open()},onToggleManagement:function(e){e.preventDefault(),this.setState(function(e){return{closed:!e.closed}})},onShowProcessingIssues:function(){return new h.a({shouldRejectOnCancel:!1,title:"Processing information",children:this.getProcessingWarnings().map(function(e){return{viewClass:k[e],options:{key:e}}}),renderButtons:function(e){return[{viewClass:c.a,options:{key:"close",text:"close",type:"primary",onClick:function(){return e.continue()}}}]}}).open()},template:function(){var e=!this.model.get("isPrivate")&&!this.model.get("isProtected")||i.a.me().get("canProtectModels");return r.default.getFromMacro("skfb_front/macros/components/organisms/model-management","model_management",[{closed:this.state.closed,authUser:i.a.me().toJSON(),model:this.model.toJSON(),processingWarnings:this.getProcessingWarnings(),shareToken:this.options.shareToken,components:this.createChildrenComponents({publishButton:{viewClass:d.a,options:{model:this.model,onSuccess:function(){window.location.reload()},size:"large",style:{width:"100%"},disabled:!e}},propertiesButton:{viewClass:c.a,options:{text:"properties",size:"medium",type:"tertiary",onClick:this.onOpenSettingsPopup.bind(this)}},download:{viewClass:v.a,options:{model:this.model}},privateLimits:{viewClass:m.a,options:{privateLimit:i.a.me().get("privateLimit"),canProtectModels:i.a.me().get("canProtectModels"),account:i.a.me().get("account")}}})}])}})},1776:function(e,t,o){"use strict";var n=o(1496),i=o.n(n),a=o(24),s=o(2),r=o(1398);o.n(r);t.a=a.a.extend({template:function(){return s.default.get("skfb_front/popups/share-preview",{model:this.model.toJSON(),share:this.options.share})},initialize:function(){a.a.prototype.initialize.apply(this,arguments),this.initializeClipboard()},initializeClipboard:function(){this.clipboard=new i.a(this.$(".link-share button")[0]);var e=this.$(".copy-result");this.clipboard.on("success",function(){e.text(" Copied! ")}.bind(this)),this.clipboard.on("error",function(){e.text("Error. Please copy manually.")}.bind(this))},remove:function(){this.clipboard&&this.clipboard.destroy(),a.a.prototype.remove.apply(this,arguments)}})},1777:function(e,t,o){"use strict";var n=o(0),i=(o.n(n),o(4)),a=o(6),s=o(137),r=o(291),l=o(1),p=o(2),u=o(37),c=o(1399);o.n(c);t.a=a.a.extend({displayName:"PublishButton",optionTypes:{model:l.b.modelShape({uid:l.b.string.isRequired,user:l.b.shape({uid:l.b.string.isRequired}).isRequired}).isRequired,onSuccess:l.b.func,onError:l.b.func},defaultOptions:{type:"important",onError:function(){},onSuccess:function(){}},state:{disabled:!1},onPublish:function(){var e=this;if(i.a.me().get("isLimited"))return void new s.a({reason:"publish"}).open();i.a.me().get("uid")===this.model.get("user").uid&&(this.setState({disabled:!0}),this.model.publish().then(function(){new r.a({model:e.model}).open().catch(function(){}).then(e.options.onSuccess.bind(e))},function(){e.setState({disabled:!1}),e.options.onError()}))},template:function(){var e=this.model.toJSON();return p.default.getFromMacro("skfb_front/macros/components/molecules/publish-button","publish_button",[{model:e,components:this.createChildrenComponents({button:{viewClass:u.a,options:Object(n.extend)({},this.options,{onClick:this.onPublish.bind(this),disabled:this.options.disabled||this.state.disabled,text:e.isProtected||e.isPrivate?"Publish privately":"Publish"})}})}])}})},1778:function(e,t,o){"use strict";var n=o(54),i=o.n(n),a=o(290),s=o.n(a),r=o(14),l=o(5),p=o.n(l),u=o(0),c=(o.n(u),o(901)),d=o(648),m=o(148),h=o(4),f=o(6),v=o(41),b=o(217),g=o(23),k=o(719),_=o(63),w=o(26),L=o(1),y=o(2),x=o(12),O=o(18),F=o(33),C=o(37),S=o(1779),V=o(1781),P=o(1782),E=o(103),j=o(738),T=(o.n(j),function(e){return String(e/100||"")}),R=function(e){return Math.round(100*Number(e)||0)},M=function(e,t){return function(o){if(!o||!Object(u.includes)(e.map(Object(w.f)("uid")),o.uid))return t||"Item does not exist."}},A=function(e){return e&&e.detail&&e.detail.extraFile&&e.detail.extraFile.some(function(e){return e.match("file size is too big")})},N=function(e,t,o){var n={uid:""},i=t||[],a=o||[];return{downloadType:{initialValue:"no",validators:[Object(k.e)(["no","free","paid"])]},freeLicense:{initialValue:n,validators:"free"===e?[Object(k.f)("License is required."),M(i,"License is required.")]:[]},paidLicense:{initialValue:n,validators:"paid"===e?[Object(k.f)("License is required."),M(a,"License is required.")]:[],format:function(e){return e.uid},unformat:function(e){return"string"==typeof e?Object(b.a)(a,n,function(t){return t.uid===e}):e}},price:{initialValue:"25",validators:"paid"===e?[Object(k.f)("The price is required."),Object(k.a)(/^[^,]*$/,"Comma is an invalid character. Please use a dot to separate dollars from cents."),Object(k.a)(/^[0-9]+(\.[0-9][0-9]?)?$/,"Invalid price."),Object(k.c)(r.a.modelMinPrice/100,"Must be between "+Object(_.g)(r.a.modelMinPrice)+" and $10000."),Object(k.b)(1e4,"Must be between "+Object(_.g)(r.a.modelMinPrice)+" and $10000.")]:[],format:function(e){return"$ "+e},unformat:function(e){return e.replace(/\$\s*/g,"")}},extraFile:{initialValue:null}}},U=Object(v.a)(function(e){return"\n        <p>The model needs to be reprocessed to "+(e.inStore?"appear in the store":"be downloadable")+'.</p>\n        <p>\n            <strong>This can change how the model is rendered</strong>. Please check the model once it has been re-processed.\n        </p>\n        <p>\n            <a\n                class="skfb-link"\n                target="_blank"\n                href="https://help.sketchfab.com/hc/en-us/articles/115005521546-Model-Reprocessing">\n                Learn more\n            </a>\n        </p>\n    '}),z=Object(v.a)(function(){return'\n        <p>We are preparing your model so it can be downloaded.</p>\n        <p><strong>This may take a few minutes.</strong></p>\n        <p>\n           <span class="spinner-small --centered"></span>\n        </p>\n    '}),q=Object(v.a)(function(){return"\n        <p><strong>An error occured while preparing your download.</strong></p>\n        <p>Your model won't appear as downloadable.</p>\n        <p>We have been notified and will fix it as soon as possible.</p>\n    "}),D=Object(v.a)(function(){return'\n        <p><strong>Downloading is disabled for this model.</strong></p>\n        <p>This model has been uploaded with software that does not allow downloading.</p>\n        <p>\n           <a\n               class="skfb-link"\n               target="_blank"\n               href="https://help.sketchfab.com/hc/en-us/articles/201368589-Downloading-Models#disabled-downloading">\n               Learn more\n           </a>\n        </p>\n    '}),I=Object(v.a)(function(){return'\n        <p>Your models will appear in the store once your PayPal account is connected.</p>\n        <p>Go to <a class="skfb-link" href="/settings/account">Account Settings</a>.</p>\n    '}),B=Object(v.a)(function(){return'\n        <p><strong>Your PayPal account is pending verification.</strong></p>\n        <p>Your models will appear in the store once your PayPal account has been verified (you will be notified by e-mail).</p>\n        <p>\n           <a\n               class="skfb-link"\n               target="_blank"\n               href="https://help.sketchfab.com/hc/en-us/articles/115005848123-Getting-paid-with-Sketchfab">\n               Learn more\n           </a>\n        </p>\n    '}),W=Object(v.a)(function(){return'\n        <p><strong>Your PayPal account is not properly configured.</strong></p>\n        <p>Make sure to read the <a class="skfb-link" target="_blank" href="https://help.sketchfab.com/hc/en-us/articles/115005848123-Getting-paid-with-Sketchfab">guidelines</a> and <a class="skfb-link" href="/settings/account">reconnect your PayPal account</a>.</p>\n        <p>Your models wont be available in the store until you resolve this issue.</p>\n    '}),$=Object(v.a)(function(){return'\n        <p><strong>Your seller account has been suspended.</strong></p>\n        <p>Your models will no longer appear in the store.</p>\n        <p>\n           <a\n               class="skfb-link"\n               target="_blank"\n               href="https://help.sketchfab.com/hc/en-us/requests/new">\n               Contact support\n           </a>\n        </p>\n    '}),H=Object(v.a)(function(){return'\n        <p>We are checking the integrity of your additional file.</p>\n        <p><strong>This may take a few minutes.</strong></p>\n        <p>\n            <span class="spinner-small --centered"></span>\n        </p>\n    '}),J=Object(v.a)(function(e){return"<p>Your model will not "+(e.inStore?"appear in the store":"be downloadable")+" until you publish it.</p>"}),K=Object(d.a)(N("no"));t.a=K(f.a.extend({displayName:"ModelManagementDownload",mixins:[m.a],optionTypes:{model:L.b.modelShape({hasStats:L.b.bool.isRequired}).isRequired,form:L.b.shape({hasSucceeded:L.b.bool.isRequired,isSubmitting:L.b.bool.isRequired,data:L.b.object.isRequired,fields:L.b.object.isRequired,hasErrors:L.b.bool.isRequired}).isRequired},events:{'click [data-action="selectTab"]':"getDownloadType |> onSelectDownloadType"},initialize:function(){var e=this;f.a.prototype.initialize.apply(this,arguments);var t="PENDING"===this.model.get("status").processing,o=this.model.get("extraFile")&&this.model.get("extraFile").status,n="archives_processing"===this.model.get("downloadStatus")||"processing"===o||"pending"===o;this.state={paidLicenses:[],freeLicenses:[],isProcessing:t,sellerStatus:null,isArchivesProcessing:n},O.a.getSeller(h.a.me().get("uid")).then(function(t){e.setState({sellerStatus:t&&t.status})}),t&&this.pollStatus(),n&&this.pollArchivesStatus()},viewDidMount:function(){this.options.form.onFieldConfigsChange(N(this.model.getDownloadType())),this.resetFields(this.model.getDownloadType()),(new c.a).fetch().then(function(e){this.setState({freeLicenses:e.results.filter(function(e){return e.free}),paidLicenses:e.results.filter(function(e){return!e.free})})}.bind(this))},viewDidUpdate:function(e,t){var o=this.options.form.fields;this.wereLicensesUpdated(t)&&this.onSelectDownloadType(this.model.getDownloadType()),o.downloadType&&o.downloadType.value!==this.model.getDownloadType()&&x.a.modelSettingsDownloadButtonClicked(this.model.get("uid"),"no"===o.downloadType.value?0:1)},viewWillUnmount:function(){this.cancellableStatusPollingPromise&&this.cancellableStatusPollingPromise.cancel(),this.cancellableArchivesStatusPollingPromise&&this.cancellableArchivesStatusPollingPromise.cancel()},pollStatus:function(){var e=this;this.setState({isProcessing:!0}),this.cancellableStatusPollingPromise=this.options.model.checkStatusAndRetry(),this.cancellableStatusPollingPromise.then(function(t){e.setState({isProcessing:!1}),"SUCCEEDED"===t.processing&&window.location.reload()})},pollArchivesStatus:function(){var e=this;this.setState({isArchivesProcessing:!0}),this.cancellableArchivesStatusPollingPromise=this.options.model.pollArchivesStatus(),this.cancellableArchivesStatusPollingPromise.then(function(){e.setState({isArchivesProcessing:!1})})},wereLicensesUpdated:function(e){return e.freeLicenses.concat(e.paidLicenses).length!==this.state.freeLicenses.concat(this.state.paidLicenses).length},hasChanged:function(){var e=this.options.form.data,t=this.model.toJSON(),o=this.model.getDownloadType(),n="paid"===o&&(T(t.price)!==e.price||(t.license||{}).uid!==(e.paidLicense||{}).uid),i="free"===o&&(t.license||{}).uid!==(e.freeLicense||{}).uid;return e.downloadType!==o||n||i||this.hasFileChanged()},hasFileChanged:function(){var e=this.options.form.data,t=this.model.toJSON();return!t.extraFile&&e.extraFile||t.extraFile&&!e.extraFile||t.extraFile&&e.extraFile&&(t.extraFile.name!==e.extraFile.name||t.extraFile.size!==e.extraFile.size)},getDownloadType:function(e){return e.target.getAttribute("data-tab")},getPaidLicenseOptions:function(){return[{title:"Choose a license",value:""}].concat(this.state.paidLicenses.map(function(e){return{value:e.uid,title:e.label}}))},onSelectDownloadType:function(e){this.options.form.onFieldConfigsChange(N(e,this.state.freeLicenses,this.state.paidLicenses)),this.resetFields(e)},openMaxArchiveSizePopup:function(){var e=this;o.e(34).then(o.bind(null,2518)).then(function(t){new(0,t.default)({fileSize:e.options.form.data.extraFile.size}).open(),e.options.form.fields.extraFile.onChange(e.model.get("extraFile"))})},resetFields:function(e){var t=this.model.toJSON(),o=Object(u.head)(this.state.freeLicenses)||{},n=Object(u.head)(this.state.paidLicenses)||{};this.options.form.onFieldsChange({downloadType:e,price:T(t.price)||"25",extraFile:t.extraFile,freeLicense:t.license&&t.license.free?t.license:o,paidLicense:t.license&&!t.license.free?t.license:n})},validateIsInspectable:function(){return this.model.get("isInspectable")||"no"===this.options.form.data.downloadType?p.a.resolve():new F.default({title:"Model isn’t inspectable",text:"Downloadable (free or paid) models must be inspectable. Do you wish to activate model inspection?",buttons:{ok:!0,cancel:!0}}).open().then(function(){this.model.set("isInspectable",!0)}.bind(this)).catch(function(){throw this.onSelectDownloadType("no"),new g.e}.bind(this))},updateArchive:function(e){return"paid"===e.downloadType&&this.hasFileChanged()?e.extraFile?this.model.uploadExtraArchive(e.extraFile.originalFile):this.model.removeExtraArchive():p.a.resolve()},updateModel:function(e){var t=this,o="paid"===e.downloadType?R(e.price):0,n="paid"===e.downloadType?e.extraFile:null,i="no"===e.downloadType?null:"free"===e.downloadType?e.freeLicense:e.paidLicense;return this.model.set({extraArchive:n,price:o,license:i,isDownloadable:!1}).clone().save(Object(u.extend)({},Object(w.b)({price:o||null}),{license:i?i.uid:null,isInspectable:this.model.get("isInspectable")}),{patch:!0}).then(function(){i&&t.pollArchivesStatus()})},handleSubmitError:function(e){if(A(e))this.openMaxArchiveSizePopup();else{var t=y.default.getFromString('{% if errors %}                        {{ errors | safe }}<br>                    {% else %}                        An unexpected error occured while saving settings.<br>                    {% endif %}                    If the error persists, please contact our <a class="skfb-link" target="_blank" href="https://help.sketchfab.com/hc/requests/new?type=store_selling&utm_source=website&utm_campaign=download-manage-error">Support Team</a>.                    ',{errors:!!e.responseJSON.detail&&Object(u.flatten)(s()(e.responseJSON.detail)).join("<br>")});new F.default({title:"Error while saving settings",text:t,safe:!0,buttons:{ok:!0}}).open()}return p.a.reject({})},onSubmit:function(){var e=this.options.form.data.extraFile;e&&e.size>r.a.maxExtraArchiveSize?this.openMaxArchiveSizePopup():this.validateIsInspectable().then(function(){this.options.form.onSubmit(function(e){return this.updateArchive(e).then(this.updateModel.bind(this,e)).catch(this.handleSubmitError.bind(this))}.bind(this))}.bind(this)).catch(function(e){if(!(e instanceof g.e))throw e})},onReprocessModel:function(){this.setState({isProcessing:!0}),this.options.model.reprocess().then(function(){this.setState({isProcessing:!1})}.bind(this))},getDownloadOptions:function(e,t,o){return"archives_broken"===o?{viewClass:P.a,options:{child:{viewClass:q},type:"error"}}:"source_blocked"===o?{viewClass:P.a,options:{child:{viewClass:D},type:"error"}}:"should_reprocess"===o?{viewClass:P.a,options:{child:{viewClass:U,options:{inStore:"paid"===e}},type:"warning"}}:t},getFreeComponentOptions:function(e,t,o){return this.getDownloadOptions(e.data.downloadType,{viewClass:S.a,options:{user:t,licenseField:e.fields.freeLicense}},o)},getPaidComponentOptions:function(e,t,o){return"skfb_revoked"===this.state.sellerStatus?{viewClass:P.a,options:{child:{viewClass:$},type:"warning"}}:this.options.model.get("hasStats")||"paid"!==e.data.downloadType||"archives_broken"===o?this.getDownloadOptions(e.data.downloadType,{viewClass:V.a,options:{user:t,licenseOptions:this.getPaidLicenseOptions(),priceField:e.fields.price,licenseField:e.fields.paidLicense,fileField:e.fields.extraFile}},o):{viewClass:P.a,options:{child:{viewClass:U},type:"warning"}}},getMessageComponentOptions:function(e,t,o){var n=[];return"no"===e||null!==t&&"paypal_revoked"!==t||n.push({viewClass:P.a,options:{key:"PayPalRevokedMessage",child:{viewClass:I},type:"warning"}}),"paid"===e&&"paypal_pending"===t&&n.push({viewClass:P.a,options:{key:"PayPalPendingMessage",child:{viewClass:B},type:"warning"}}),"paid"===e&&"paypal_locked"===t&&n.push({viewClass:P.a,options:{key:"PayPalLockedMessage",child:{viewClass:W},type:"warning"}}),"no"!==e&&"archives_processing"===o?n.push({viewClass:P.a,options:{key:"ArchivesProcessingMessage",child:{viewClass:z},type:"warning"}}):"no"!==e&&"not_published"===o&&n.push({viewClass:P.a,options:{key:"NotPublishedMessage",child:{viewClass:J,options:{inStore:"paid"===e}},type:"warning"}}),n},getExtraFileMessage:function(){return{viewClass:P.a,options:{key:"NotPublishedMessage",child:{key:"ExtraFileProcessing",viewClass:H},type:"warning"}}},template:function(){var e=this.options.form,t=h.a.me(),o=["no","free"].concat(i()("confirmed"===this.state.sellerStatus?["paid"]:[])),n=this.options.model.get("downloadStatus"),a="paid"===e.data.downloadType&&!this.options.model.get("hasStats")&&"archives_broken"!==n||"no"!==e.data.downloadType&&"should_reprocess"===n,s="archives_broken"===n||"source_blocked"===n||"paid"===e.data.downloadType&&"skfb_revoked"===this.state.sellerStatus,r=this.options.model.get("extraFile")&&this.options.model.get("extraFile").status,l="paid"===e.data.downloadType&&("pending"===r||"processing"===r);return y.default.getFromMacro("skfb_front/macros/components/organisms/model-management","download_section",[{shouldShowSubmitButton:(this.hasChanged()||e.isSubmitting||e.hasSucceeded)&&("no"===e.data.downloadType||!s),shouldShowReprocessButton:a,activeTab:e.data.downloadType,tabs:o.map(function(t){return{name:t,isActive:e.data.downloadType===t}}),components:this.createChildrenComponents({message:this.getMessageComponentOptions(e.data.downloadType,this.state.sellerStatus,n),free:this.getFreeComponentOptions(e,t,n),paid:this.getPaidComponentOptions(e,t,n),extraFileMessage:l?this.getExtraFileMessage():[],submitButton:{viewClass:C.a,options:{text:e.hasSucceeded?"✔ changes saved":e.isSubmitting?e.data.extraFile?"Upload in progress...":"saving...":"save changes",subtext:e.isSubmitting&&e.data.extraFile?"it can take a few minutes":"",onClick:this.onSubmit.bind(this),loading:e.isSubmitting,size:"large",className:"download-section__main-button",style:{backgroundColor:e.hasSucceeded?E.a.skfbBrightGreen:""}}},reprocessButton:{viewClass:C.a,options:{text:this.state.isProcessing?"reprocessing model...":"reprocess model",subtext:this.state.isProcessing?"it may take a few minutes":"",onClick:this.onReprocessModel.bind(this),size:"large",className:"download-section__main-button",loading:this.state.isProcessing||"archives_processing"===n}}})}])}}))},1779:function(e,t,o){"use strict";var n=o(6),i=o(12),a=o(1),s=o(2),r=o(1780);t.a=n.a.extend({displayName:"FreeDownload",optionTypes:{licenseField:a.b.shape({value:a.b.object.isRequired,onChange:a.b.func.isRequired}).isRequired},events:{'click [data-action="changeLicense"]':"onChangeLicense"},onChangeLicense:function(){new r.a({selectedLicense:this.options.licenseField.value}).open().then(function(e){this.options.licenseField.onChange(e),i.a.modelSettingsLicenseChanged(e.uid)}.bind(this)).catch(function(){})},template:function(){return s.default.getFromString(['<div class="model-management__row">','    <span class="model-management__label">License</span>','    <div class="model-management__right" data-action="changeLicense">','        <p class="download-section__text">{{ license.label }}</p>','        <a class="model-management__link">Change license</a>',"    </div>","</div>"].join("\n"),{license:this.options.licenseField.value})}})},178:function(e,t,o){"use strict";var n=o(9),i=o.n(n),a=o(5),s=o.n(a),r=o(0),l=(o.n(r),o(38)),p=o(2),u=o(1),c=o(34),d=o(60),m=o(37);t.a=l.a.extend({displayName:"Grid",mixins:[d.a],optionTypes:{cards:u.b.component.isRequired,emptyState:u.b.component,onLoadPrevious:u.b.func,onLoadNext:u.b.func,className:u.b.string,gridSize:u.b.string,loading:u.b.string,isLoading:u.b.bool,hasPreviousPage:u.b.bool,hasNextPage:u.b.bool,scrollableElement:u.b.object,loadMoreOnScroll:u.b.bool,maxAutoLoadedPages:u.b.number,buttonOptions:u.b.object},defaultOptions:function(){return{scrollableElement:window,className:"grid grid-cards",gridSize:"normal",loading:"none",isLoading:!1,hasPreviousPage:!1,hasNextPage:!1,loadMoreOnScroll:!1,emptyState:[],maxAutoLoadedPages:5,buttonOptions:{size:"large"}}},autoLoadedPageCount:0,events:{"scroll this.options.scrollableElement":"onScroll","resize window":"refreshLoadMoreThreshold"},initialize:function(){l.a.prototype.initialize.apply(this,arguments),this.onScroll=Object(r.throttle)(this.onScroll.bind(this),200),this.loadMore=Object(c.c)(this.loadMore.bind(this)),this.refreshLoadMoreThreshold=Object(r.debounce)(this.refreshLoadMoreThreshold.bind(this),100)},viewWillUnmount:function(){this.refreshLoadMoreThreshold()},viewDidUpdate:function(e){e.cards!==this.options.cards&&this.refreshLoadMoreThreshold(),e.cards.length>this.options.cards.length&&(this.autoLoadedPageCount=0)},getScrollTop:function(){return this.options.scrollableElement===window?document.documentElement.scrollTop:this.options.scrollableElement.scrollTop},getScrollHeight:function(){return this.options.scrollableElement===window?document.documentElement.scrollHeight:this.options.scrollableElement.scrollHeight},refreshLoadMoreThreshold:function(){this.loadMoreThreshold=this.getScrollHeight()-this.el.offsetTop-2*window.innerHeight},shouldLoadNextPage:function(){return this.options.loadMoreOnScroll&&this.options.hasNextPage&&this.getScrollTop()>this.loadMoreThreshold&&this.autoLoadedPageCount<this.options.maxAutoLoadedPages},loadMore:function(){return this.shouldLoadNextPage()?(this.autoLoadedPageCount++,this.options.onLoadNext().then(function(){return s.a.delay(300)})):s.a.resolve()},onLoadNext:function(){this.autoLoadedPageCount=0,this.options.onLoadNext()},onScroll:function(){this.loadMore()},template:function(){var e=this.options,t=e.className,o=e.gridSize,n=e.loading,a=e.isLoading,s=e.hasPreviousPage,r=e.hasNextPage,l=e.emptyState,u=e.cards,c=e.onLoadPrevious;return p.default.getFromString("\n            <div class=\"c-grid {{ options.className }} {{ '--' + options.gridSize }}\">\n                {%- if options.hasPreviousPage -%}\n                    {{- components.loadPrevious | component('c-grid__button --previous') -}}\n                {%- endif -%}\n\n                {%- if options.shouldShowEmptyState -%}\n                    {{- components.emptyState | component('c-grid__empty-state') -}}\n                {%- else -%}\n                    <div class=\"c-grid__items items {{ '--refresh' if options.isRefreshing }}\">\n                        {{- components.cards | component('c-grid__item item') -}}\n                    </div>\n                {%- endif -%}\n\n                {%- if options.hasNextPage -%}\n                    {{- components.loadNext | component('c-grid__button --next') -}}\n                {%- endif -%}\n            </div>\n            ",{options:{className:t,gridSize:o,isLoading:a,isRefreshing:"refresh"===n,hasNextPage:r,hasPreviousPage:s,shouldShowEmptyState:!u.length},components:this.createChildrenComponents({cards:u,emptyState:l,loadPrevious:{viewClass:m.a,options:i()({text:"load previous",loading:"previous"===n},this.options.buttonOptions,{onClick:c})},loadNext:{viewClass:m.a,options:i()({text:"load more",loading:"next"===n},this.options.buttonOptions,{onClick:this.onLoadNext.bind(this)})}})})}})},1780:function(e,t,o){"use strict";var n=o(27),i=o.n(n),a=o(13),s=o(0),r=(o.n(s),o(901)),l=o(2),p=o(24),u=o(1),c=o(86),d=o(1400);o.n(d);t.a=p.a.extend({displayName:"LicensesPopup",optionTypes:{model:u.b.model,selectedLicense:u.b.shape({uid:u.b.string.isRequired})},state:{licenses:[],mainLicense:"cc",isLoading:!0,ccClauses:{attribution:!0,noncommercial:!1,noderivs:!1,sharealike:!1}},events:{"change #license":"onLicenseChanged","change #noncommercial":"onToggleNonCommercial","change #noderivs":"onToggleNoDerivs","change #sharealike":"onToggleSharelike","reset form":"cancel","submit form":"applyLicense"},template:function(){return l.default.get("skfb_front/popups/licenses",{})},initialize:function(){p.a.prototype.initialize.apply(this,arguments),this.model=this.model||new a.a,(new r.a).fetch().then(function(e){this.setState({isLoading:!1,licenses:e.results.filter(function(e){return e.free})})}.bind(this))},viewDidUpdate:function(e,t){t.licenses.length!==this.state.licenses.length&&(this.refreshLicenses(),setTimeout(this.center.bind(this),20))},refreshLicenses:function(){var e=this.model.get("license")?this.model.get("license").uid:null,t=e?this.findLicenseByUid(e):this.options.selectedLicense;t?"CC0 Public Domain"===t.label?this.setState({mainLicense:"cc"}):Object(s.has)(t,"ccClauses")&&this.setState({mainLicense:"cc",ccClauses:Object(s.extend)({},this.state.ccClauses,{noncommercial:Boolean(Object(s.indexOf)(t.ccClauses,"NonCommercial")>-1),noderivs:Boolean(Object(s.indexOf)(t.ccClauses,"NoDerivs")>-1),sharealike:Boolean(Object(s.indexOf)(t.ccClauses,"ShareAlike")>-1)})}):this.setState({mainLicense:"cc"})},updateState:function(){this.setState({mainLicense:this.$("#license").val(),ccClauses:{attribution:!0,noncommercial:this.$("#noncommercial").is(":checked"),noderivs:this.$("#noderivs").is(":checked"),sharealike:this.$("#sharealike").is(":checked")}})},getSelectedLicense:function(){switch(this.state.mainLicense){case"public-domain":return Object(s.clone)(Object(s.find)(this.state.licenses,{label:"CC0 Public Domain"}));case"cc":return Object(s.clone)(this.findCCLicenseByClause(i()(this.state.ccClauses).reduce(function(e,t){return this.state.ccClauses[t]?e.concat(t):e}.bind(this),[])))}},applyLicense:function(){var e=this.getSelectedLicense();this.model.set("license",e),this.continue(e)},onLicenseChanged:function(){var e=this.$("#license").val();this.$("[data-license]").hide(),this.$('[data-license="'+e+'"]').show(),this.updateState()},onToggleNonCommercial:function(){this.updateState()},onToggleNoDerivs:function(){this.$("#noderivs").is(":checked")&&this.$("#sharealike").prop("checked",!1),this.updateState()},onToggleSharelike:function(){this.$("#sharealike").is(":checked")&&this.$("#noderivs").prop("checked",!1),this.updateState()},findLicenseByUid:function(e){return Object(s.find)(this.state.licenses,{uid:e})},findCCLicenseByClause:function(e){return Object(s.find)(this.state.licenses,function(t){return t.ccClauses&&e.map(s.toUpper).sort().join("-")===t.ccClauses.map(s.toUpper).sort().join("-")})},open:function(){return p.a.prototype.open.apply(this,arguments),this.deferred=new c.a,this.deferred},cancel:function(){this.deferred.reject(),this.close()},continue:function(e){this.deferred.resolve(e),this.close()},render:function(){this.setIsLoading(this.state.isLoading),this.$("#license").val(this.state.mainLicense),this.$("[data-license]").hide(),this.$('[data-license="'+this.state.mainLicense+'"]').show(),this.$("#attribution").prop("checked",this.state.ccClauses.attribution),this.$("#noncommercial").prop("checked",this.state.ccClauses.noncommercial),this.$("#noderivs").prop("checked",this.state.ccClauses.noderivs),this.$("#sharealike").prop("checked",this.state.ccClauses.sharealike)}})},1781:function(e,t,o){"use strict";var n=o(9),i=o.n(n),a=o(0),s=(o.n(a),o(14)),r=o(6),l=o(1),p=o(2),u=o(710),c=o(720),d=o(859),m=o(51);o.n(m);t.a=r.a.extend({displayName:"PaidDownload",optionTypes:{user:l.b.model.isRequired,priceField:l.b.shape({value:l.b.string.isRequired,onChange:l.b.func.isRequired}).isRequired,licenseField:l.b.shape({value:l.b.string.isRequired,onChange:l.b.func.isRequired}).isRequired,fileField:l.b.shape({value:l.b.object,onChange:l.b.func.isRequired}).isRequired,licenseOptions:l.b.arrayOf(l.b.shape({title:l.b.string.isRequired,value:l.b.string.isRequired}).isRequired).isRequired},template:function(){var e=this.options.fileField.value&&this.options.fileField.value.name;return p.default.getFromString(['{% from "skfb_front/macros/common.jinja" import info_link_icon %}',"<span>",'    <div class="model-management__row">','       <span class="model-management__label --centered">',"           Price","           {{ info_link_icon({",'               "href": "https://help.sketchfab.com/hc/en-us/articles/115004276366-Seller-Guidelines",','               "tooltip": "Learn more"',"           }) }}","       </span>","       {{ components.priceInput | component('model-management__right') }}","    </div>",'    <div class="model-management__row">','        <span class="model-management__label --centered">License</span>','        <div class="model-management__right">',"            {{ components.licenseSelect | component }}","            <a",'               class="model-management__link"','               target="_blank"','               href="https://help.sketchfab.com/hc/en-us/articles/115004276346-Licenses">',"               Understand licenses","           </a>","        </div>","    </div>",'    <div class="model-management__row">','        <span class="model-management__label">',"            Additional file",'            <span class="model-management__small-text">',"                Textures, other 3D formats, etc.","            </span>","        </span>",'        <div class="model-management__right">',"            {{ components.fileInput | component }}",'            <p class="model-management__small-text">',"                <strong>Accepted formats:</strong> {{ acceptedFormats }}","            </p>",'            <p class="model-management__small-text">',"                <strong>Max size:</strong> {{ maxSize | humanize_file_size }}","            </p>","        </div>","    </div>","</span>"].join("\n"),{maxSize:s.a.maxExtraArchiveSize,acceptedFormats:[".zip",".rar",".7z"].join(", "),components:this.createChildrenComponents({priceInput:{viewClass:u.a,options:Object(a.extend)({},this.options.priceField,{grey:!0,className:"form-input download-section__price-input"})},licenseSelect:{viewClass:c.a,options:Object(a.extend)({},this.options.licenseField,{options:this.options.licenseOptions,grey:!0,style:{width:"100%"}})},fileInput:{viewClass:d.a,options:i()({},this.options.fileField,{text:e?"Change file":"Upload a file"})}})})}})},1782:function(e,t,o){"use strict";var n=o(6),i=o(1),a=o(2);t.a=n.a.extend({displayName:"DownloadMessage",optionTypes:{child:i.b.component.isRequired,type:i.b.oneOf(["error","warning"]).isRequired},template:function(){return a.default.getFromString(["<span>",'    <div class="download-section__warning {{ type }}-message --center">',"        {{ components.child | component }}","    </div>","</span>"].join("\n"),{components:this.createChildrenComponents({child:this.options.child}),type:this.options.type})}})},1783:function(e,t,o){"use strict";var n=o(0),i=(o.n(n),o(6)),a=o(2),s=o(1),r=o(898),l=o(1784);t.a=i.a.extend({displayName:"CollectionSmallCardList",optionTypes:{collection:s.b.collection.isRequired,placeholdersCount:s.b.number,shouldFetchFirstPage:s.b.bool},getItemComponent:function(e){return{viewClass:l.a,options:{key:e.get("uid"),model:e}}},template:function(){return a.default.getFromString("{{ components.infiniteList | component(className) }}",{className:this.options.className,components:this.createChildrenComponents({infiniteList:{viewClass:r.a,options:Object(n.extend)({},this.options,{getItemComponent:this.getItemComponent})}})})}})},1784:function(e,t,o){"use strict";var n=o(6),i=o(4),a=o(2),s=o(1),r=o(19),l=o(60),p=o(412),u=o(74);o.n(u);t.a=n.a.extend({displayName:"CollectionSmallCard",mixins:[r.a,l.a],optionTypes:{model:s.b.model.isRequired,withoutSubscribeButton:s.b.bool},children:{subscribeButton:{selector:".subscribe-button",viewClass:p.a,shouldCreateChild:function(){return!this.options.withoutSubscribeButton&&this.options.model.get("user").uid!==i.a.me().uid},options:function(){return{collection:this.model}}}},events:{"change this.options.model":"forceUpdate"},viewDidMount:function(){this.options.model.getThumbnails(),this.renderChild("subscribeButton")},viewDidUpdate:function(){this.renderChild("subscribeButton")},template:function(){return a.default.getFromMacro("skfb_front/macros/cards","collection_smallcard",[i.a.me().toJSON(),this.options.model.toJSON(),{hasSubscribed:i.a.me().hasSubscribed(this.options.model.get("uid"))}])}})},1785:function(e,t,o){"use strict";var n=o(0),i=(o.n(n),o(6)),a=o(2),s=o(1),r=o(898),l=o(1786);t.a=i.a.extend({displayName:"ModelSmallCardList",optionTypes:{collection:s.b.collection.isRequired,placeholdersCount:s.b.number,shouldFetchFirstPage:s.b.bool,itemOptions:s.b.object},defaultOptions:{itemOptions:{}},getItemComponent:function(e){return{viewClass:l.a,options:Object(n.extend)({},this.options.itemOptions,{key:e.get("uid"),model:e})}},template:function(){return a.default.getFromString("{{ components.infiniteList | component(className) }}",{className:this.options.className,components:this.createChildrenComponents({infiniteList:{viewClass:r.a,options:Object(n.extend)({},this.options,{getItemComponent:this.getItemComponent.bind(this)})}})})}})},1786:function(e,t,o){"use strict";var n=o(0),i=(o.n(n),o(6)),a=o(4),s=o(12),r=o(2),l=o(1),p=o(19),u=o(149),c=o(74);o.n(c);t.a=i.a.extend({displayName:"ModelSmallCard",mixins:[p.a],optionTypes:{model:l.b.model.isRequired,withoutSubscribeButton:l.b.bool,linkRef:l.b.string},children:{likeButton:{selector:".like-button",viewClass:u.a,options:function(){return{trackerEvent:"modelListCardFavoriteButtonClicked",model:this.options.model}}}},events:{'click [data-action="go-to-comments"]':"goToComments"},initialize:function(){i.a.prototype.initialize.apply(this,arguments),this.state={model:this.options.model.toJSON()}},viewDidMount:function(){var e=this;a.a.me().getDoesLike(this.options.model.get("uid")).then(function(){return e.forceUpdate()}),this.options.model.on("change",this.onModelChange,this),this.renderChild("likeButton")},viewDidUpdate:function(){this.renderChild("likeButton")},viewWillUnmount:function(){this.options.model.off("change",this.onModelChange,this)},onModelChange:function(){this.setState({model:this.options.model.toJSON()})},goToComments:function(e){return s.a.wrapLink(e,s.a.modelListCardCommentsButtonClicked(this.options.model.get("uid"),this.options.model.get("commentCount")))},template:function(){return r.default.getFromMacro("skfb_front/macros/cards","model_smallcard",[a.a.me().toJSON(),Object(n.extend)({},this.state.model,{viewerUrl:this.state.model.viewerUrl+(this.options.linkRef?"?ref="+this.options.linkRef:"")}),{isLiked:a.a.me().doesLike(this.options.model.get("uid"))}])}})},1787:function(e,t,o){"use strict";var n=o(6),i=o(2),a=o(1),s=o(91),r=o(92),l=o(1456);t.a=Object(s.a)(n.a.extend({displayName:"ModelInformationPopup",optionTypes:{model:a.b.object.isRequired,authUser:a.b.shape({features:a.b.arrayOf(a.b.string.isRequired).isRequired}).isRequired,onInspect:a.b.func},template:function(){return i.default.getFromString("{{ components.popup | component }}",{components:this.createChildrenComponents({popup:{viewClass:r.a,options:{title:"Model Information",className:"--small",child:{viewClass:l.a,options:{model:this.options.model,authUser:this.options.authUser,onInspect:this.options.onInspect}}}}})})}}))},181:function(e,t){!function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/organisms/cart/cart-popin.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null,r=n.makeMacro([],["options"],function(i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var s="";s+="\n    ";var r;return r=e.getFilter("merge").call(t,{isOpen:!1,count:0,components:{},authUser:{}},n.contextOrFrameLookup(t,o,"options")),o.set("options",r,!0),o.topLevel&&t.setVariable("options",r),o.topLevel&&t.addExport("options",r),s+='\n    <div\n        class="c-cart-popin">\n        <a class="header-action-icon__icon-container" href="/store/cart">\n            <i class="header-action-icon__icon custom-icons icon-cart"></i>\n\n            <div class="header-action-icon__count --store ',s+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"count")?"":"--hidden",e.opts.autoescape),s+='">\n                ',s+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"count"),e.opts.autoescape),s+='\n            </div>\n        </a>\n\n        <div\n            class="header-action-icon__popin-container"\n            data-action="stop-propagation">',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"isOpen")&&(s+='<div\n                    class="header-action-icon__popin c-cart-popin__popin"\n                    style="max-height: ',s+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"popinMaxHeight"),e.opts.autoescape),s+=';">\n\n                    ',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"count")&&(s+="\n                        ",s+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"cartHeader")),e.opts.autoescape),s+="\n                    "),s+='\n\n                    <div class="c-cart-popin__list js-prevent-page-scroll">\n                        ',s+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"list")),e.opts.autoescape),s+="\n                    </div>\n\n                    ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"count")&&(s+='\n                        <div class="c-cart-popin__footer">\n                            <div class="c-cart-popin__footer__row c-cart-popin__footer__total">\n                                <p class="c-cart-popin__footer__total-title">total</p>\n                                <p class="c-cart-popin__footer__total-price">',s+=n.suppressValue(e.getFilter("format_price").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"totalPrice")),e.opts.autoescape),s+='</p>\n                            </div>\n\n                            <a href="/store/cart" class="c-cart-popin__footer__row">\n                                ',s+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"checkoutButton"),"c-cart-popin__footer__button"),e.opts.autoescape),s+="\n                            </a>\n                        </div>\n                    "),s+="\n                </div>"),s+="</div>\n    </div>\n",o=a,new n.SafeString(s)});t.addExport("cart_popin"),t.setVariable("cart_popin",r),a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{root:e}}()}()},183:function(e,t,o){"use strict";var n=o(7),i=o(67),a=o(1);t.a=n.a.extend({displayName:"FormText",optionTypes:{name:a.b.string.isRequired},events:{input:function(){this.$el.addClass("edited"),this.model.set(this.options.name,this.$el.val())}},initialize:function(){n.a.prototype.initialize.apply(this,arguments),this.options.prepopulated&&this.model.set(this.options.name,this.$el.val()),this.model.on("change:"+this.options.name,Object(i.a)(function(){var e=(this.model.get(this.options.name)||"").toString();this.$el.toggleClass("empty",0===e.length),e!==this.$el.val()&&this.$el.val(e)},this))}})},184:function(e,t,o){"use strict";var n=o(3),i=o.n(n),a=o(7),s=o(1),r=o(53);t.a=a.a.extend({displayName:"FormSelect",mixins:[Object(r.a)(".menu")],optionTypes:{model:s.b.model.isRequired,name:s.b.string.isRequired,maxSize:s.b.number.isRequired,allowEmpty:s.b.bool.isRequired},defaultOptions:{maxSize:1/0,allowEmpty:!0},events:{"click [data-value]":function(e){e.stopPropagation();var t=i()(e.target).parentsUntil(e.currentTarget).andSelf();if(e.target===e.currentTarget||!t.filter("[data-value]").length){var o=[].concat(this.model.get(this.options.name)||[]).slice(),n=i()(e.currentTarget).attr("data-value");if("default"===n)this.model.set(this.options.name,null);else if(this.options.multiple){var a=o.indexOf(n);-1===a?o.length<this.options.maxSize&&(o.push(n),this.model.set(this.options.name,o)):(o.splice(a,1),this.model.set(this.options.name,o))}else this.model.get(this.options.name)!==n?this.model.set(this.options.name,n):this.options.allowEmpty&&this.model.set(this.options.name,null)}}},initialize:function(){a.a.prototype.initialize.apply(this,arguments),this.options.prepopulated&&this.model.set(this.options.name,this.$("[data-value].active").map(function(){return i()(this).attr("data-value")}).get()),this.model.on("change:"+this.options.name,this.render,this)},render:function(){var e=[].concat(this.model.get(this.options.name)||[]);this.$el.toggleClass("list-filled",e.length>=this.options.maxSize),this.$("[data-value]").each(function(){var t=i()(this).attr("data-value");i()(this).toggleClass("active",-1!==e.indexOf(t))}),this.$("[data-value].active").length||this.$('[data-value="default"]').toggleClass("active")}})},19:function(e,t,o){"use strict";function n(e){var t=Array.prototype.slice.call(e.find(".image-container")).map(function(e){return e.getAttribute("data-background")}).filter(Boolean);return s.a.all(t.map(r.g)).then(function(){return e})}function i(e){var t=[].slice.call(e.find(".image-container"));return new s.a(function(e){window.requestAnimationFrame(function(){t.forEach(function(e){return e.classList.remove("--loading")}),e()})})}var a=o(5),s=o.n(a),r=o(56);t.a={name:"WithImageContainers",afterRender:function(){n(this.$el).then(i)}}},190:function(e,t,o){"use strict";var n=o(108),i=o.n(n),a=o(6),s=o(2),r=o(41),l=o(91),p=o(1),u=o(92),c=o(185),d=Object(r.a)(function(e){var t=e.createChildrenComponents,o=i()(e,["createChildrenComponents"]);return s.default.getFromString('\n        <div class="c-loading-popup">\n            {{ components.spinner | component }}\n            <p class="c-loading-popup__message">{{ options.message }}</p>\n        </div>\n        ',{options:o,components:t({spinner:{viewClass:c.a,options:{style:{margin:"auto"}}}})})});t.a=Object(l.a)(a.a.extend({displayName:"LoadingPopup",optionTypes:{title:p.b.string,message:p.b.string,width:p.b.number},defaultOptions:{title:"",message:"",width:350},template:function(){return s.default.getFromString("{{ components.popup | component }}",{components:this.createChildrenComponents({popup:{viewClass:u.a,options:{title:this.options.title,width:this.options.width,child:{viewClass:d,options:{message:this.options.message}}}}})})}}))},191:function(e,t,o){"use strict";var n=o(13),i=o(0),a=(o.n(i),o(20)),s=o(324);t.a=n.a.extend({_isActive:!1,defaults:{type:"models",query:""},initialize:function(){var e=this;n.a.prototype.initialize.apply(this,arguments),this.on("searchStart",function(){return e._isActive=!0}),this.on("searchStop",function(){return e._isActive=!1})},urlToFilters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.extend)(e,{searching:!0}),"users"===a.b.string("type",this.get("type")||"models")?s.a.users(e):s.a.models(e)},isActive:function(){return this._isActive},getPageTitle:function(){var e=this.get("query");return"Search"+(e.length>=2?' "'+e+'"':"")+" — Sketchfab"}})},192:function(e,t,o){"use strict";var n=o(5),i=o.n(n),a=o(13),s=o(4),r=o(1),l=o(18);t.a=a.a.extend({displayName:"ReviewModel",optionTypes:{body:r.b.string.isRequired,usage:r.b.string,updatedAt:r.b.string,createdAt:r.b.string,deletedAt:r.b.string,upvoteCount:r.b.number,averageRating:r.b.numberBetween(0,5),previewFidelity:r.b.numberBetween(0,5),easeOfUse:r.b.numberBetween(0,5),valueForMoney:r.b.numberBetween(0,5),editedAt:r.b.string,replyBody:r.b.string,replyCreatedAt:r.b.string,replyEditedAt:r.b.string,model:r.b.object},url:function(){var e=this.get("uid");return"/i/reviews"+(e?"/"+e:"")},updateUpvote:function(e){return s.a.authenticate(function(t){var o=this.get("uid"),n=this.get("upvoteCount"),a=n+(e?1:-1);return this.set({upvoteCount:a}),t.addReviewUpvote(o,e),(e?l.a.upvoteReview(this.get("uid")):l.a.downvoteReview(this.get("uid"))).catch(function(a){return this.set({upvoteCount:n}),t.addReviewUpvote(o,!e),i.a.reject(a)}.bind(this))}.bind(this))},upvote:function(){return this.updateUpvote(!0)},downvote:function(){return this.updateUpvote(!1)},toggleUpvote:function(){return s.a.authenticate(function(e){return e.hasUpvotedReview(this.get("uid"))?this.downvote():this.upvote()}.bind(this))},updateReply:function(e){var t=this;return s.a.authenticate(function(){return l.a.patchReview(t.get("uid"),{replyBody:e}).then(function(e){return t.set(e)})})}})},193:function(e,t,o){"use strict";var n=o(13);t.a=n.a.extend({endpoint:function(){return"/comments"+(this.isNew()?"":"/"+this.get("uid"))}})},194:function(e,t){!function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/molecules/empty-states/notifications-empty-state.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null,r=n.makeMacro([],[],function(e){var t=o;o=new n.Frame,e=e||{},e.hasOwnProperty("caller")&&o.set("caller",e.caller);var i="";return i+='\n    <div class="header-notifications__empty-state">\n        <div class="header-notifications__empty-state__icon"></div>\n        <p class="--grey">No notifications</p>\n    </div>\n',o=t,new n.SafeString(i)});t.addExport("notifications_empty_state"),t.setVariable("notifications_empty_state",r),a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{root:e}}()}()},195:function(e,t,o){o(16),o(15),o(58),o(28),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/molecules/activities/comment.jinja"]=function(){function e(e,t,o,n,i){var a=null,s=null,r="";try{var l=null;e.getTemplate("skfb_front/macros/user.jinja",!1,"skfb_front/macros/components/molecules/activities/comment.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("user_name"))return void i(new Error("cannot import 'user_name'"));var c=u.user_name;if(t.setVariable("user_name",c),!u.hasOwnProperty("user_avatar"))return void i(new Error("cannot import 'user_avatar'"));var d=u.user_avatar;t.setVariable("user_avatar",d),r+="\n",e.getTemplate("skfb_front/macros/model.jinja",!1,"skfb_front/macros/components/molecules/activities/comment.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("model_name"))return void i(new Error("cannot import 'model_name'"));var c=u.model_name;t.setVariable("model_name",c),r+="\n",e.getTemplate("skfb_front/macros/comments.jinja",!1,"skfb_front/macros/components/molecules/activities/comment.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("comment_body"))return void i(new Error("cannot import 'comment_body'"));var c=u.comment_body;t.setVariable("comment_body",c),r+="\n",e.getTemplate("skfb_front/macros/activities.jinja",!1,"skfb_front/macros/components/molecules/activities/comment.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("activity_date"))return void i(new Error("cannot import 'activity_date'"));var c=u.activity_date;t.setVariable("activity_date",c),r+="\n\n";var d=n.makeMacro([],["options"],function(i){var r=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var l="";return l+='\n    <article class="activity">\n        <div class="activity__icon --comment"></div>\n\n        <div class="activity__main">\n            <div class="activity__main__left">\n                <a href="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),"profileUrl"),e.opts.autoescape),l+='">\n                    <div class="avatar" data-action="show-user-summary" data-user="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),"uid"),e.opts.autoescape),l+='">\n                        ',l+=n.suppressValue((a=13,s=36,n.callWrap(n.contextOrFrameLookup(t,o,"user_avatar"),"user_avatar",t,[n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),"avatars"),{size:40}])),e.opts.autoescape),l+='\n                    </div>\n                </a>\n            </div>\n\n            <div class="activity__main__middle">\n                <div class="activity__title">\n                    ',l+=n.suppressValue((a=20,s=30,n.callWrap(n.contextOrFrameLookup(t,o,"user_name"),"user_name",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),{withoutBadge:!0}])),e.opts.autoescape),l+="\n                    <span> commented on </span>\n                    ",l+=n.suppressValue((a=24,s=31,n.callWrap(n.contextOrFrameLookup(t,o,"model_name"),"model_name",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),{withStaffpickFlag:!1,withStaffpickLink:!1,withRestrictedFlag:!1}])),e.opts.autoescape),l+="\n                </div>\n\n                ",l+=n.suppressValue((a=31,s=30,n.callWrap(n.contextOrFrameLookup(t,o,"activity_date"),"activity_date",t,[n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"timestamp")])),e.opts.autoescape),l+='\n\n                <div class="activity__body">',l+=n.suppressValue((a=33,s=57,n.callWrap(n.contextOrFrameLookup(t,o,"comment_body"),"comment_body",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"comment")])),e.opts.autoescape),l+='</div>\n                <div class="activity__actions">\n                    <a href="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"viewerUrl"),e.opts.autoescape),l+='#comments">Reply</a>\n                </div>\n            </div>\n\n            <div class="activity__main__right">\n                <div class="activity__thumbnail">\n                    <a href="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"viewerUrl"),e.opts.autoescape),l+='">\n                        ',l+=n.suppressValue(e.getFilter("image_container").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"thumbnails"),72,40,!0,!1),e.opts.autoescape),l+="\n                    </a>\n                </div>\n            </div>\n        </div>\n    </article>\n",o=r,new n.SafeString(l)});t.addExport("comment"),t.setVariable("comment",d),r+="\n\n\n";var m=n.makeMacro([],["options"],function(i){var r=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var l="";return l+='\n    <article\n        class="activity --notification ',n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"isRead")||(l+="--not-read"),l+='"\n        data-link-to="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"viewerUrl"),e.opts.autoescape),l+='">\n        <div class="activity__icon --comment"></div>\n        <div class="activity__main">\n            <div class="activity__main__left">\n                <div class="avatar">\n                    ',l+=n.suppressValue((a=59,s=32,n.callWrap(n.contextOrFrameLookup(t,o,"user_avatar"),"user_avatar",t,[n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),"avatars"),{size:30}])),e.opts.autoescape),l+='\n                </div>\n            </div>\n            <div class="activity__main__middle">\n                <div class="activity__title">\n                    ',l+=n.suppressValue((a=64,s=30,n.callWrap(n.contextOrFrameLookup(t,o,"user_name"),"user_name",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),{withoutBadge:!0}])),e.opts.autoescape),l+="\n                    <span> commented on </span>\n                    ",l+=n.suppressValue((a=68,s=31,n.callWrap(n.contextOrFrameLookup(t,o,"model_name"),"model_name",t,[n.contextOrFrameLookup(t,o,"authUser"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),{withStaffpickFlag:!1,withStaffpickLink:!1,withRestrictedFlag:!1}])),e.opts.autoescape),l+='\n                </div>\n                <time class="activity__time">',l+=n.suppressValue(e.getFilter("time_ago").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"timestamp")),e.opts.autoescape),l+="</time>\n            </div>\n        </div>\n    </article>\n",o=r,new n.SafeString(l)});t.addExport("comment_small"),t.setVariable("comment_small",m),r+="\n",l?l.rootRenderFunc(e,t,o,n,i):i(null,r)})})})})})})})})}catch(e){i(n.handleError(e,a,s))}}return{root:e}}()}()},196:function(e,t,o){o(28),o(16),o(15),o(58),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/molecules/activities/mention.jinja"]=function(){function e(e,t,o,n,i){var a=null,s=null,r="";try{var l=null;e.getTemplate("skfb_front/macros/activities.jinja",!1,"skfb_front/macros/components/molecules/activities/mention.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("activity_date"))return void i(new Error("cannot import 'activity_date'"));var c=u.activity_date;t.setVariable("activity_date",c),r+="\n",e.getTemplate("skfb_front/macros/user.jinja",!1,"skfb_front/macros/components/molecules/activities/mention.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("user_name"))return void i(new Error("cannot import 'user_name'"));var c=u.user_name;if(t.setVariable("user_name",c),!u.hasOwnProperty("user_avatar"))return void i(new Error("cannot import 'user_avatar'"));var d=u.user_avatar;t.setVariable("user_avatar",d),r+="\n",e.getTemplate("skfb_front/macros/model.jinja",!1,"skfb_front/macros/components/molecules/activities/mention.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("model_name"))return void i(new Error("cannot import 'model_name'"));var c=u.model_name;t.setVariable("model_name",c),r+="\n",e.getTemplate("skfb_front/macros/comments.jinja",!1,"skfb_front/macros/components/molecules/activities/mention.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("comment_body"))return void i(new Error("cannot import 'comment_body'"));var c=u.comment_body;t.setVariable("comment_body",c),r+="\n\n";var d=n.makeMacro([],["options"],function(i){var r=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var l="";return l+='\n    <article class="activity">\n        <div class="activity__icon --mention"></div>\n\n        <div class="activity__main">\n            <div class="activity__main__left">\n                <a href="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),"profileUrl"),e.opts.autoescape),l+='">\n                    <div class="avatar" data-action="show-user-summary" data-user="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),"uid"),e.opts.autoescape),l+='">\n                        ',l+=n.suppressValue((a=13,s=36,n.callWrap(n.contextOrFrameLookup(t,o,"user_avatar"),"user_avatar",t,[n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),"avatars"),{size:40}])),e.opts.autoescape),l+='\n                    </div>\n                </a>\n            </div>\n\n            <div class="activity__main__middle">\n                <div class="activity__title">\n                    ',l+=n.suppressValue((a=20,s=30,n.callWrap(n.contextOrFrameLookup(t,o,"user_name"),"user_name",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),{withoutBadge:!0}])),e.opts.autoescape),l+="\n                    <span> mentioned you on </span>\n                    ",l+=n.suppressValue((a=24,s=31,n.callWrap(n.contextOrFrameLookup(t,o,"model_name"),"model_name",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),{withStaffpickFlag:!1,withStaffpickLink:!1,withRestrictedFlag:!1}])),e.opts.autoescape),l+="\n                </div>\n\n                ",l+=n.suppressValue((a=31,s=30,n.callWrap(n.contextOrFrameLookup(t,o,"activity_date"),"activity_date",t,[n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"timestamp")])),e.opts.autoescape),l+='\n\n                <div class="activity__body">',l+=n.suppressValue((a=33,s=57,n.callWrap(n.contextOrFrameLookup(t,o,"comment_body"),"comment_body",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"comment")])),e.opts.autoescape),l+='</div>\n                <div class="activity__actions">\n                    <a href="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"viewerUrl"),e.opts.autoescape),l+='#comments">Reply</a>\n                </div>\n            </div>\n\n            <div class="activity__main__right">\n                <div class="activity__thumbnail">\n                    <a href="',l+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"model"),"viewerUrl"),e.opts.autoescape),l+='">\n                        ',l+=n.suppressValue(e.getFilter("image_container").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"model"),"thumbnails"),72,40,!0,!1),e.opts.autoescape),l+="\n                    </a>\n                </div>\n            </div>\n        </div>\n    </article>\n",o=r,new n.SafeString(l)});t.addExport("mention"),t.setVariable("mention",d),r+="\n\n\n";var m=n.makeMacro([],["options"],function(i){var r=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var l="";return l+='\n<article\n    class="activity --notification ',n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"isRead")||(l+="--not-read"),l+='"\n    data-link-to="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"viewerUrl"),e.opts.autoescape),l+='">\n    <div class="activity__icon --mention"></div>\n    <div class="activity__main">\n        <div class="activity__main__left">\n            <div class="avatar">\n                ',l+=n.suppressValue((a=59,s=28,n.callWrap(n.contextOrFrameLookup(t,o,"user_avatar"),"user_avatar",t,[n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),"avatars"),{size:30}])),e.opts.autoescape),l+='\n            </div>\n        </div>\n        <div class="activity__main__middle">\n            <div class="activity__title">\n                ',l+=n.suppressValue((a=64,s=26,n.callWrap(n.contextOrFrameLookup(t,o,"user_name"),"user_name",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),{withoutBadge:!0}])),e.opts.autoescape),l+="\n                <span> mentioned you on </span>\n                ",l+=n.suppressValue((a=68,s=27,n.callWrap(n.contextOrFrameLookup(t,o,"model_name"),"model_name",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),{withStaffpickFlag:!1,withStaffpickLink:!1,withRestrictedFlag:!1}])),e.opts.autoescape),l+='\n            </div>\n            <time class="activity__time">',l+=n.suppressValue(e.getFilter("time_ago").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"timestamp")),e.opts.autoescape),l+="</time>\n        </div>\n    </div>\n</article>\n",o=r,new n.SafeString(l)});t.addExport("mention_small"),t.setVariable("mention_small",m),r+="\n",l?l.rootRenderFunc(e,t,o,n,i):i(null,r)})})})})})})})})}catch(e){i(n.handleError(e,a,s))}}return{root:e}}()}()},197:function(e,t,o){o(28),o(16),o(15),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/molecules/activities/like.jinja"]=function(){function e(e,t,o,n,i){var a=null,s=null,r="";try{var l=null;e.getTemplate("skfb_front/macros/activities.jinja",!1,"skfb_front/macros/components/molecules/activities/like.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("activity_date"))return void i(new Error("cannot import 'activity_date'"));var c=u.activity_date;t.setVariable("activity_date",c),r+="\n",e.getTemplate("skfb_front/macros/user.jinja",!1,"skfb_front/macros/components/molecules/activities/like.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("user_avatar"))return void i(new Error("cannot import 'user_avatar'"));var c=u.user_avatar;if(t.setVariable("user_avatar",c),!u.hasOwnProperty("user_name_list"))return void i(new Error("cannot import 'user_name_list'"));var d=u.user_name_list;t.setVariable("user_name_list",d),r+="\n",e.getTemplate("skfb_front/macros/model.jinja",!1,"skfb_front/macros/components/molecules/activities/like.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("model_name"))return void i(new Error("cannot import 'model_name'"));var c=u.model_name;if(t.setVariable("model_name",c),!u.hasOwnProperty("model_name_list"))return void i(new Error("cannot import 'model_name_list'"));var d=u.model_name_list;t.setVariable("model_name_list",d),r+="\n\n";var m=n.makeMacro([],["options"],function(i){var r=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var l="";return l+='\n    <article class="activity">\n        <div class="activity__icon --like"></div>\n\n        <div class="activity__main">\n            <div class="activity__main__left">\n                <a href="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"users"),0),"profileUrl"),e.opts.autoescape),l+='">\n                    <div class="avatar" data-action="show-user-summary" data-user="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"users"),0),"uid"),e.opts.autoescape),l+='">\n                        ',l+=n.suppressValue((a=12,s=36,n.callWrap(n.contextOrFrameLookup(t,o,"user_avatar"),"user_avatar",t,[n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"users"),0),"avatars"),{size:40}])),e.opts.autoescape),l+='\n                    </div>\n                </a>\n            </div>\n\n            <div class="activity__main__middle">\n                <div class="activity__title">\n                    ',l+=n.suppressValue((a=19,s=35,n.callWrap(n.contextOrFrameLookup(t,o,"user_name_list"),"user_name_list",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),e.getFilter("fill_null").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"users"),n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"aggregatedUsersCount"))])),e.opts.autoescape),l+="\n\n                    <span> liked </span>\n\n                    ",l+=n.suppressValue((a=26,s=36,n.callWrap(n.contextOrFrameLookup(t,o,"model_name_list"),"model_name_list",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),e.getFilter("fill_null").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"models"),n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"aggregatedModelsCount")),{othersHref:n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"users"),0),"profileUrl")+"/likes"}])),e.opts.autoescape),l+="\n                </div>\n\n                ",l+=n.suppressValue((a=35,s=30,n.callWrap(n.contextOrFrameLookup(t,o,"activity_date"),"activity_date",t,[n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"timestamp")])),e.opts.autoescape),l+='\n            </div>\n\n            <div class="activity__main__right">\n                <div class="activity__thumbnail">\n                    <a href="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"models"),0),"viewerUrl"),e.opts.autoescape),l+='">\n                        ',l+=n.suppressValue(e.getFilter("image_container").call(t,n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"models"),0),"thumbnails"),72,40,!0,!1),e.opts.autoescape),l+="\n                    </a>\n                </div>\n            </div>\n        </div>\n    </article>\n",o=r,new n.SafeString(l)});t.addExport("like"),t.setVariable("like",m),r+="\n\n\n";var h=n.makeMacro([],["options"],function(i){var r=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var l="";return l+='\n    <article\n        class="activity --notification ',n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"isRead")||(l+="--not-read"),l+='"\n        data-link-to="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"models"),0),"viewerUrl"),e.opts.autoescape),l+='#likes">\n        <div class="activity__icon --like"></div>\n        <div class="activity__main">\n            <div class="activity__main__left">\n                <div class="avatar">\n                    ',l+=n.suppressValue((a=58,s=32,n.callWrap(n.contextOrFrameLookup(t,o,"user_avatar"),"user_avatar",t,[n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"users"),0),"avatars"),{size:30}])),e.opts.autoescape),l+='\n                </div>\n            </div>\n            <div class="activity__main__middle">\n                <div class="activity__title">\n                    ',l+=n.suppressValue((a=63,s=35,n.callWrap(n.contextOrFrameLookup(t,o,"user_name_list"),"user_name_list",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),e.getFilter("fill_null").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"users"),n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"aggregatedUsersCount"))])),e.opts.autoescape),l+="\n                    <span> liked </span>\n                    ",l+=n.suppressValue((a=68,s=31,n.callWrap(n.contextOrFrameLookup(t,o,"model_name"),"model_name",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"models"),0),{withStaffpickFlag:!1,withStaffpickLink:!1,withRestrictedFlag:!1}])),e.opts.autoescape),l+='\n                </div>\n                <time class="activity__time">',l+=n.suppressValue(e.getFilter("time_ago").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"timestamp")),e.opts.autoescape),l+="</time>\n            </div>\n        </div>\n    </article>\n",o=r,new n.SafeString(l)});t.addExport("like_small"),t.setVariable("like_small",h),r+="\n",l?l.rootRenderFunc(e,t,o,n,i):i(null,r)})})})})})})}catch(e){i(n.handleError(e,a,s))}}return{root:e}}()}()},198:function(e,t,o){o(28),o(16),o(48),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/molecules/activities/subscribe.jinja"]=function(){function e(e,t,o,n,i){var a=null,s=null,r="";try{var l=null;e.getTemplate("skfb_front/macros/activities.jinja",!1,"skfb_front/macros/components/molecules/activities/subscribe.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("activity_date"))return void i(new Error("cannot import 'activity_date'"));var c=u.activity_date;t.setVariable("activity_date",c),r+="\n",e.getTemplate("skfb_front/macros/user.jinja",!1,"skfb_front/macros/components/molecules/activities/subscribe.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("user_avatar"))return void i(new Error("cannot import 'user_avatar'"));var c=u.user_avatar;if(t.setVariable("user_avatar",c),!u.hasOwnProperty("user_name_list"))return void i(new Error("cannot import 'user_name_list'"));var d=u.user_name_list;t.setVariable("user_name_list",d),r+="\n",e.getTemplate("skfb_front/macros/collection.jinja",!1,"skfb_front/macros/components/molecules/activities/subscribe.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("collection_name"))return void i(new Error("cannot import 'collection_name'"));var c=u.collection_name;if(t.setVariable("collection_name",c),!u.hasOwnProperty("collection_name_list"))return void i(new Error("cannot import 'collection_name_list'"));var d=u.collection_name_list;t.setVariable("collection_name_list",d),r+="\n\n";var m=n.makeMacro([],["options"],function(i){var r=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var l="";return l+='\n    <article class="activity">\n        <div class="activity__icon --subscribe"></div>\n\n        <div class="activity__main">\n            <div class="activity__main__left">\n                <a href="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"users"),0),"profileUrl"),e.opts.autoescape),l+='">\n                    <div class="avatar" data-action="show-user-summary" data-user="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"users"),0),"uid"),e.opts.autoescape),l+='">\n                        ',l+=n.suppressValue((a=12,s=36,n.callWrap(n.contextOrFrameLookup(t,o,"user_avatar"),"user_avatar",t,[n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"users"),0),"avatars"),{size:40}])),e.opts.autoescape),l+='\n                    </div>\n                </a>\n            </div>\n\n            <div class="activity__main__middle">\n                <div class="activity__title">\n                    ',l+=n.suppressValue((a=19,s=35,n.callWrap(n.contextOrFrameLookup(t,o,"user_name_list"),"user_name_list",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),e.getFilter("fill_null").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"users"),n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"aggregatedUsersCount"))])),e.opts.autoescape),l+="\n\n                    <span> subscribed to </span>\n\n                    ",l+=n.suppressValue((a=26,s=41,n.callWrap(n.contextOrFrameLookup(t,o,"collection_name_list"),"collection_name_list",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),e.getFilter("fill_null").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"collections"),n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"aggregatedCollectionsCount"))])),e.opts.autoescape),l+="\n                </div>\n\n                ",l+=n.suppressValue((a=32,s=30,n.callWrap(n.contextOrFrameLookup(t,o,"activity_date"),"activity_date",t,[n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"timestamp")])),e.opts.autoescape),l+='\n            </div>\n\n            <div class="activity__main__right">\n                <div class="activity__thumbnail">\n                    <a href="',l+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"collection"),"collectionUrl"),e.opts.autoescape),l+='">\n                        ',l+=n.suppressValue(e.getFilter("image_container").call(t,n.memberLookup(n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"collections"),0),"thumbnails"),0),72,40,!0,!1),e.opts.autoescape),l+="\n                    </a>\n                </div>\n            </div>\n        </div>\n    </article>\n",o=r,new n.SafeString(l)});t.addExport("subscribe"),t.setVariable("subscribe",m),r+="\n\n\n";var h=n.makeMacro([],["options"],function(i){var r=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var l="";return l+='\n    <article\n        class="activity --notification ',n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"isRead")||(l+="--not-read"),l+='"\n        data-link-to="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"users"),0),"profileUrl"),e.opts.autoescape),l+='">\n        <div class="activity__icon --subscribe"></div>\n        <div class="activity__main">\n            <div class="activity__main__left">\n                <div class="avatar">\n                    ',l+=n.suppressValue((a=55,s=32,n.callWrap(n.contextOrFrameLookup(t,o,"user_avatar"),"user_avatar",t,[n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"users"),0),"avatars"),{size:30}])),e.opts.autoescape),l+='\n                </div>\n            </div>\n            <div class="activity__main__middle">\n                <div class="activity__title">\n                    ',l+=n.suppressValue((a=60,s=35,n.callWrap(n.contextOrFrameLookup(t,o,"user_name_list"),"user_name_list",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),e.getFilter("fill_null").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"users"),n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"aggregatedUsersCount"))])),e.opts.autoescape),l+="\n                    <span> subscribed to </span>\n                    ",l+=n.suppressValue((a=65,s=41,n.callWrap(n.contextOrFrameLookup(t,o,"collection_name_list"),"collection_name_list",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),e.getFilter("fill_null").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"collections"),n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"aggregatedCollectionsCount"))])),e.opts.autoescape),l+='\n                </div>\n                <time class="activity__time">',l+=n.suppressValue(e.getFilter("time_ago").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"timestamp")),e.opts.autoescape),l+="</time>\n            </div>\n        </div>\n    </article>\n",o=r,new n.SafeString(l)});t.addExport("subscribe_small"),t.setVariable("subscribe_small",h),r+="\n",l?l.rootRenderFunc(e,t,o,n,i):i(null,r)})})})})})})}catch(e){i(n.handleError(e,a,s))}}return{root:e}}()}()},199:function(e,t,o){o(28),o(16),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/molecules/activities/follow.jinja"]=function(){function e(e,t,o,n,i){var a=null,s=null,r="";try{var l=null;e.getTemplate("skfb_front/macros/activities.jinja",!1,"skfb_front/macros/components/molecules/activities/follow.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("activity_date"))return void i(new Error("cannot import 'activity_date'"));var c=u.activity_date;t.setVariable("activity_date",c),r+="\n",e.getTemplate("skfb_front/macros/user.jinja",!1,"skfb_front/macros/components/molecules/activities/follow.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("user_avatar"))return void i(new Error("cannot import 'user_avatar'"));var c=u.user_avatar;if(t.setVariable("user_avatar",c),!u.hasOwnProperty("user_name_list"))return void i(new Error("cannot import 'user_name_list'"));var d=u.user_name_list;t.setVariable("user_name_list",d),r+="\n\n";var m=n.makeMacro([],["options"],function(i){var r=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var l="";if(l+='\n    <article class="activity">\n        <div class="activity__icon --follow"></div>\n\n        <div class="activity__main">\n            <div class="activity__main__left">\n                <a href="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"followingUsers"),0),"profileUrl"),e.opts.autoescape),l+='">\n                    <div class="avatar" data-action="show-user-summary" data-user="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"followingUsers"),0),"uid"),e.opts.autoescape),l+='">\n                        ',l+=n.suppressValue((a=11,s=36,n.callWrap(n.contextOrFrameLookup(t,o,"user_avatar"),"user_avatar",t,[n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"followingUsers"),0),"avatars"),{size:40}])),e.opts.autoescape),l+='\n                    </div>\n                </a>\n            </div>\n\n            <div class="activity__main__middle">\n                <div class="activity__title">\n                    ',l+=n.suppressValue((a=18,s=35,n.callWrap(n.contextOrFrameLookup(t,o,"user_name_list"),"user_name_list",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),e.getFilter("fill_null").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"followingUsers"),n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"aggregatedFollowingUsersCount"))])),e.opts.autoescape),l+="\n\n                    <span> followed </span>\n\n                    ",n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),"uid")==n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"followedUsers"),0),"uid")?l+="\n                        <span>you</span>\n                    ":(l+="\n                        ",l+=n.suppressValue((a=28,s=39,n.callWrap(n.contextOrFrameLookup(t,o,"user_name_list"),"user_name_list",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),e.getFilter("fill_null").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"followedUsers"),n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"aggregatedFollowedUsersCount"))])),e.opts.autoescape),l+="\n                    "),l+="\n                </div>\n\n                ",l+=n.suppressValue((a=35,s=30,n.callWrap(n.contextOrFrameLookup(t,o,"activity_date"),"activity_date",t,[n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"timestamp")])),e.opts.autoescape),l+='\n            </div>\n\n            <div class="activity__main__right">\n                ',n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),"uid")!=n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"followedUsers"),0),"uid")){if(l+='\n                    <div\n                        class="avatar"\n                        data-action="show-user-summary"\n                        data-user="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"followedUsers"),0),"uid"),e.opts.autoescape),l+='">\n                        <a href="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"followedUsers"),0),"profileUrl"),e.opts.autoescape),l+='">\n                            ',l+=n.suppressValue((a=45,s=40,n.callWrap(n.contextOrFrameLookup(t,o,"user_avatar"),"user_avatar",t,[n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"followedUsers"),0),"avatars"),{size:40}])),e.opts.autoescape),l+="\n                        </a>\n                    </div>\n\n                    ",n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"followedUsers"),0),"thumbnails")){l+="\n                        ",o=o.push();var p=e.getFilter("first_n").call(t,n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"followedUsers"),0),"thumbnails"),2);if(p)for(var u=p.length,c=0;c<p.length;c++){var d=p[c];o.set("thumb",d),o.set("loop.index",c+1),o.set("loop.index0",c),o.set("loop.revindex",u-c),o.set("loop.revindex0",u-c-1),o.set("loop.first",0===c),o.set("loop.last",c===u-1),o.set("loop.length",u),l+='\n                            <div class="activity__thumbnail">\n                                <a href="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"followedUsers"),0),"profileUrl"),e.opts.autoescape),l+='/models">\n                                    ',l+=n.suppressValue(e.getFilter("image_container").call(t,d,72,40,!0,!1),e.opts.autoescape),l+="\n                                </a>\n                            </div>\n                        "}o=o.pop(),l+="\n                    "}l+="\n                "}else{if(l+="\n                    ",n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"followingUsers"),0),"thumbnails")){l+="\n                        ",o=o.push();var m=e.getFilter("first_n").call(t,n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"followingUsers"),0),"thumbnails"),2);if(m)for(var h=m.length,f=0;f<m.length;f++){var v=m[f];o.set("thumb",v),o.set("loop.index",f+1),o.set("loop.index0",f),o.set("loop.revindex",h-f),o.set("loop.revindex0",h-f-1),o.set("loop.first",0===f),o.set("loop.last",f===h-1),o.set("loop.length",h),l+='\n                            <div class="activity__thumbnail">\n                                <a href="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"followingUsers"),0),"profileUrl"),e.opts.autoescape),l+='/models">\n                                    ',l+=n.suppressValue(e.getFilter("image_container").call(t,v,72,40,!0,!1),e.opts.autoescape),l+="\n                                </a>\n                            </div>\n                        "}o=o.pop(),l+="\n                    "}l+="\n                "}return l+="\n\n            </div>\n        </div>\n    </article>\n",o=r,new n.SafeString(l)});t.addExport("follow"),t.setVariable("follow",m),r+="\n\n\n";var h=n.makeMacro([],["options"],function(i){var r=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var l="";return l+='\n    <article\n        class="activity --notification ',n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"isRead")||(l+="--not-read"),l+='"\n        data-link-to="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"followingUsers"),0),"profileUrl"),e.opts.autoescape),l+='">\n        <div class="activity__icon --follow"></div>\n        <div class="activity__main">\n            <div class="activity__main__left">\n                <div class="avatar">\n                    ',l+=n.suppressValue((a=84,s=32,n.callWrap(n.contextOrFrameLookup(t,o,"user_avatar"),"user_avatar",t,[n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"followingUsers"),0),"avatars"),{size:30}])),e.opts.autoescape),l+='\n                </div>\n            </div>\n            <div class="activity__main__middle">\n                <div class="activity__title">\n                    ',l+=n.suppressValue((a=89,s=35,n.callWrap(n.contextOrFrameLookup(t,o,"user_name_list"),"user_name_list",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),e.getFilter("fill_null").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"followingUsers"),n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"aggregatedFollowingUsersCount"))])),e.opts.autoescape),l+='\n                    <span> followed you</span>\n                </div>\n                <time class="activity__time">',l+=n.suppressValue(e.getFilter("time_ago").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"timestamp")),e.opts.autoescape),l+="</time>\n            </div>\n        </div>\n    </article>\n",o=r,new n.SafeString(l)});t.addExport("follow_small"),t.setVariable("follow_small",h),r+="\n",l?l.rootRenderFunc(e,t,o,n,i):i(null,r)})})})})}catch(e){i(n.handleError(e,a,s))}}return{root:e}}()}()},200:function(e,t,o){o(28),o(16),o(15),o(48),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/molecules/activities/collect.jinja"]=function(){function e(e,t,o,n,i){var a=null,s=null,r="";try{var l=null;e.getTemplate("skfb_front/macros/activities.jinja",!1,"skfb_front/macros/components/molecules/activities/collect.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("activity_date"))return void i(new Error("cannot import 'activity_date'"));var c=u.activity_date;t.setVariable("activity_date",c),r+="\n",e.getTemplate("skfb_front/macros/user.jinja",!1,"skfb_front/macros/components/molecules/activities/collect.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("user_name"))return void i(new Error("cannot import 'user_name'"));var c=u.user_name;if(t.setVariable("user_name",c),!u.hasOwnProperty("user_avatar"))return void i(new Error("cannot import 'user_avatar'"));var d=u.user_avatar;t.setVariable("user_avatar",d),r+="\n",e.getTemplate("skfb_front/macros/model.jinja",!1,"skfb_front/macros/components/molecules/activities/collect.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("model_name_list"))return void i(new Error("cannot import 'model_name_list'"));var c=u.model_name_list;t.setVariable("model_name_list",c),r+="\n",e.getTemplate("skfb_front/macros/collection.jinja",!1,"skfb_front/macros/components/molecules/activities/collect.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("collection_name"))return void i(new Error("cannot import 'collection_name'"));var c=u.collection_name;t.setVariable("collection_name",c),r+="\n\n\n";var d=n.makeMacro([],["options"],function(i){var r=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var l="";return l+='\n    <article class="activity">\n        <div class="activity__icon --collect"></div>\n\n        <div class="activity__main">\n            <div class="activity__main__left">\n                <a href="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),"profileUrl"),e.opts.autoescape),l+='">\n                    <div class="avatar" data-action="show-user-summary" data-user="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),"uid"),e.opts.autoescape),l+='">\n                        ',l+=n.suppressValue((a=14,s=36,n.callWrap(n.contextOrFrameLookup(t,o,"user_avatar"),"user_avatar",t,[n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),"avatars"),{size:40}])),e.opts.autoescape),l+='\n                    </div>\n                </a>\n            </div>\n\n            <div class="activity__main__middle">\n                <div class="activity__title">\n                    ',l+=n.suppressValue((a=21,s=30,n.callWrap(n.contextOrFrameLookup(t,o,"user_name"),"user_name",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),{withoutBadge:!0}])),e.opts.autoescape),l+="\n\n                    <span> added your model",l+=n.suppressValue(e.getFilter("pluralize").call(t,e.getFilter("length").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"models"))),e.opts.autoescape),l+=" </span>\n\n                    ",l+=n.suppressValue((a=27,s=36,n.callWrap(n.contextOrFrameLookup(t,o,"model_name_list"),"model_name_list",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),e.getFilter("fill_null").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"models"),n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"aggregatedModelsCount"))])),e.opts.autoescape),l+="\n\n                    <span> to the collection </span>\n\n                    ",l+=n.suppressValue((a=34,s=36,n.callWrap(n.contextOrFrameLookup(t,o,"collection_name"),"collection_name",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"collection")])),e.opts.autoescape),l+="\n                </div>\n\n                ",l+=n.suppressValue((a=37,s=30,n.callWrap(n.contextOrFrameLookup(t,o,"activity_date"),"activity_date",t,[n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"timestamp")])),e.opts.autoescape),l+='\n            </div>\n\n            <div class="activity__main__right">\n                <div class="activity__thumbnail">\n                    <a href="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"collection"),"collectionUrl"),e.opts.autoescape),l+='">\n                        ',l+=n.suppressValue(e.getFilter("image_container").call(t,n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"collection"),"thumbnails"),0),72,40,!0,!1),e.opts.autoescape),l+="\n                    </a>\n                </div>\n            </div>\n        </div>\n    </article>\n",o=r,new n.SafeString(l)});t.addExport("collect"),t.setVariable("collect",d),r+="\n\n\n";var m=n.makeMacro([],["options"],function(i){var r=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var l="";return l+='\n    <article\n        class="activity --notification ',n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"isRead")||(l+="--not-read"),l+='"\n        data-link-to="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"collection"),"collectionUrl"),e.opts.autoescape),l+='">\n        <div class="activity__icon --collect"></div>\n        <div class="activity__main">\n            <div class="activity__main__left">\n                <div class="avatar">\n                    ',l+=n.suppressValue((a=60,s=32,n.callWrap(n.contextOrFrameLookup(t,o,"user_avatar"),"user_avatar",t,[n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),"avatars"),{size:30}])),e.opts.autoescape),l+='\n                </div>\n            </div>\n            <div class="activity__main__middle">\n                <div class="activity__title">\n                    ',l+=n.suppressValue((a=65,s=30,n.callWrap(n.contextOrFrameLookup(t,o,"user_name"),"user_name",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),{withoutBadge:!0}])),e.opts.autoescape),l+="\n\n                    <span> added your model",l+=n.suppressValue(e.getFilter("pluralize").call(t,e.getFilter("length").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"models"))),e.opts.autoescape),l+=" </span>\n\n                    ",l+=n.suppressValue((a=71,s=36,n.callWrap(n.contextOrFrameLookup(t,o,"model_name_list"),"model_name_list",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),e.getFilter("fill_null").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"models"),n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"aggregatedModelsCount"))])),e.opts.autoescape),l+="\n\n                    <span> to the collection </span>\n\n                    ",l+=n.suppressValue((a=78,s=36,n.callWrap(n.contextOrFrameLookup(t,o,"collection_name"),"collection_name",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"collection")])),e.opts.autoescape),l+='\n                </div>\n                <time class="activity__time">',l+=n.suppressValue(e.getFilter("time_ago").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"timestamp")),e.opts.autoescape),l+="</time>\n            </div>\n        </div>\n    </article>\n",o=r,new n.SafeString(l)});t.addExport("collect_small"),t.setVariable("collect_small",m),r+="\n",l?l.rootRenderFunc(e,t,o,n,i):i(null,r)})})})})})})})})}catch(e){i(n.handleError(e,a,s))}}return{root:e}}()}()},201:function(e,t,o){o(28),o(16),o(15),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/molecules/activities/staffpick.jinja"]=function(){function e(e,t,o,n,i){var a=null,s=null,r="";try{var l=null;e.getTemplate("skfb_front/macros/activities.jinja",!1,"skfb_front/macros/components/molecules/activities/staffpick.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("activity_date"))return void i(new Error("cannot import 'activity_date'"));var c=u.activity_date;t.setVariable("activity_date",c),r+="\n",e.getTemplate("skfb_front/macros/user.jinja",!1,"skfb_front/macros/components/molecules/activities/staffpick.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("user_name"))return void i(new Error("cannot import 'user_name'"));var c=u.user_name;if(t.setVariable("user_name",c),!u.hasOwnProperty("user_avatar"))return void i(new Error("cannot import 'user_avatar'"));var d=u.user_avatar;t.setVariable("user_avatar",d),r+="\n",e.getTemplate("skfb_front/macros/model.jinja",!1,"skfb_front/macros/components/molecules/activities/staffpick.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("model_name"))return void i(new Error("cannot import 'model_name'"));var c=u.model_name;t.setVariable("model_name",c),r+="\n\n";var d=n.makeMacro([],["options"],function(i){var r=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var l="";return l+='\n    <article class="activity">\n        <div class="activity__icon --staffpick"></div>\n\n        <div class="activity__main">\n            <div class="activity__main__left">\n                <a href="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),"profileUrl"),e.opts.autoescape),l+='">\n                    <div class="avatar" data-action="show-user-summary" data-user="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),"uid"),e.opts.autoescape),l+='">\n                        ',l+=n.suppressValue((a=12,s=36,n.callWrap(n.contextOrFrameLookup(t,o,"user_avatar"),"user_avatar",t,[n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),"avatars"),{size:40}])),e.opts.autoescape),l+='\n                    </div>\n                </a>\n            </div>\n\n            <div class="activity__main__middle">\n                <div class="activity__title">\n                    ',n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),"uid")==n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),"uid")?(l+="\n                        <span>Your model </span>\n\n                        ",l+=n.suppressValue((a=22,s=35,n.callWrap(n.contextOrFrameLookup(t,o,"model_name"),"model_name",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),{withStaffpickFlag:!1,withStaffpickLink:!1,withRestrictedFlag:!1}])),e.opts.autoescape),l+="\n\n                        <span> has been staff picked! Congrats!</span>\n                    "):(l+="\n                        ",l+=n.suppressValue((a=30,s=34,n.callWrap(n.contextOrFrameLookup(t,o,"user_name"),"user_name",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),{withoutBadge:!0}])),e.opts.autoescape),l+="'s model\n\n                        ",l+=n.suppressValue((a=34,s=35,n.callWrap(n.contextOrFrameLookup(t,o,"model_name"),"model_name",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),{withStaffpickFlag:!1,withStaffpickLink:!1,withRestrictedFlag:!1}])),e.opts.autoescape),l+='\n\n                        <span> has been staff picked!</span>\n\n                        <a href="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"viewerUrl"),e.opts.autoescape),l+='#comments">Say Congrats!</a>\n                    '),l+="\n                </div>\n\n                ",l+=n.suppressValue((a=46,s=30,n.callWrap(n.contextOrFrameLookup(t,o,"activity_date"),"activity_date",t,[n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"timestamp")])),e.opts.autoescape),l+='\n            </div>\n\n            <div class="activity__main__right">\n                <div class="activity__thumbnail">\n                    <a href="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"viewerUrl"),e.opts.autoescape),l+='">\n                        ',l+=n.suppressValue(e.getFilter("image_container").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"thumbnails"),72,40,!0,!1),e.opts.autoescape),l+="\n                    </a>\n                </div>\n            </div>\n        </div>\n    </article>\n",o=r,new n.SafeString(l)});t.addExport("staffpick"),t.setVariable("staffpick",d),r+="\n\n\n";var m=n.makeMacro([],["options"],function(i){var r=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var l="";return l+='\n    <article\n        class="activity --notification ',n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"isRead")||(l+="--not-read"),l+='"\n        data-link-to="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"viewerUrl"),e.opts.autoescape),l+='">\n        <div class="activity__icon --staffpick"></div>\n\n        <div class="activity__main">\n            <div class="activity__main__left">\n                <div class="avatar" data-action="show-user-summary" data-user="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),"uid"),e.opts.autoescape),l+='">\n                    ',l+=n.suppressValue((a=70,s=32,n.callWrap(n.contextOrFrameLookup(t,o,"user_avatar"),"user_avatar",t,[n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),"avatars"),{size:30}])),e.opts.autoescape),l+='\n                </div>\n            </div>\n\n            <div class="activity__main__middle">\n                <div class="activity__title">\n                    ',n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),"uid")==n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),"uid")?(l+="\n                        <span>Your model </span>\n\n                        ",l+=n.suppressValue((a=79,s=35,n.callWrap(n.contextOrFrameLookup(t,o,"model_name"),"model_name",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),{withStaffpickFlag:!1,withStaffpickLink:!1,withRestrictedFlag:!1}])),e.opts.autoescape),l+="\n\n                        <span> has been staff picked! Congrats!</span>\n                    "):(l+="\n                        ",l+=n.suppressValue((a=87,s=34,n.callWrap(n.contextOrFrameLookup(t,o,"user_name"),"user_name",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),{withoutBadge:!0}])),e.opts.autoescape),l+="'s model\n\n                        ",l+=n.suppressValue((a=91,s=35,n.callWrap(n.contextOrFrameLookup(t,o,"model_name"),"model_name",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),{withStaffpickFlag:!1,withStaffpickLink:!1,withRestrictedFlag:!1}])),e.opts.autoescape),l+="\n\n                        <span> has been staff picked!</span>\n                    "),l+='\n                </div>\n                <time class="activity__time">',l+=n.suppressValue(e.getFilter("time_ago").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"timestamp")),e.opts.autoescape),l+="</time>\n            </div>\n        </div>\n    </article>\n",o=r,new n.SafeString(l)});t.addExport("staffpick_small"),t.setVariable("staffpick_small",m),r+="\n",l?l.rootRenderFunc(e,t,o,n,i):i(null,r)})})})})})})}catch(e){i(n.handleError(e,a,s))}}return{root:e}}()}()},202:function(e,t){!function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/atoms/star-rating.jinja"]=function(){function e(e,t,o,n,i){var a=null,s=null,r="";try{var l=null,p=n.makeMacro([],["options"],function(i){var r=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var l,p="";return l=e.getFilter("merge").call(t,{components:{}},n.contextOrFrameLookup(t,o,"options")),o.set("options",l,!0),o.topLevel&&t.setVariable("options",l),o.topLevel&&t.addExport("options",l),p+='<div\n        data-ref="container"\n        class="',p+=n.suppressValue(e.getFilter("class_names").call(t,{"c-star-rating":!0,"--interactive":n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"hasClickEvent")}),e.opts.autoescape),p+='">\n        ',p+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"stars"),"c-star-rating__star",(a=11,s=73,n.callWrap(n.contextOrFrameLookup(t,o,"star"),"star",t,[]))),e.opts.autoescape),p+="\n    </div>\n",o=r,new n.SafeString(p)});t.addExport("star_rating"),t.setVariable("star_rating",p),r+="\n\n";var u=n.makeMacro([],["options"],function(i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var s,r="";return s=e.getFilter("merge").call(t,{percentage:1},n.contextOrFrameLookup(t,o,"options")),o.set("options",s,!0),o.topLevel&&t.setVariable("options",s),o.topLevel&&t.addExport("options",s),r+='<svg\n        width="',r+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"size"),e.opts.autoescape),r+='"\n        height="',r+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"size"),e.opts.autoescape),r+='"\n        viewBox="0 0 20 20"\n        xmlns="http://www.w3.org/2000/svg"\n        xmlns:xlink="http://www.w3.org/1999/xlink">\n        <defs>\n            <path d="M19.96 7.86c0-.296-.223-.48-.67-.552l-6.023-.875-2.7-5.458c-.15-.328-.346-.492-.586-.492s-.435.164-.587.492l-2.7 5.458-6.02.875C.222 7.38 0 7.564 0 7.86c0 .168.1.36.3.576l4.367 4.247-1.032 5.998c-.016.113-.024.193-.024.24 0 .168.043.31.127.426.084.117.21.174.378.174.144 0 .304-.047.48-.143l5.386-2.832 5.387 2.832c.168.096.328.143.48.143.16 0 .282-.057.366-.174.083-.115.125-.258.125-.425 0-.103-.004-.183-.012-.24l-1.03-5.997 4.353-4.247c.207-.208.31-.4.31-.576z" id="star',r+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"cid"),e.opts.autoescape),r+='a"/>\n        </defs>\n        <mask id="star',r+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"cid"),e.opts.autoescape),r+='b" fill="#fff">\n            <use xlink:href="#star',r+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"cid"),e.opts.autoescape),r+='a"/>\n        </mask>\n        <rect\n            class="c-star-rating__background-rect"\n            width="20"\n            height="20"\n            stroke="',r+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"backgroundColor"),e.opts.autoescape),r+='"\n            fill="',r+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"backgroundColor"),e.opts.autoescape),r+='"\n            mask="url(#star',r+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"cid"),e.opts.autoescape),r+='b)" />\n        <rect\n            class="c-star-rating__fill-rect"\n            width="',r+=n.suppressValue(20*n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"percentage"),e.opts.autoescape),r+='"\n            height="20"\n            fill="',r+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"color"),e.opts.autoescape),r+='"\n            mask="url(#star',r+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"cid"),e.opts.autoescape),r+='b)" />\n    </svg>\n',o=a,new n.SafeString(r)});t.addExport("star"),t.setVariable("star",u),r+="\n",l?l.rootRenderFunc(e,t,o,n,i):i(null,r)}catch(e){i(n.handleError(e,a,s))}}return{root:e}}()}()},203:function(e,t,o){o(28),o(16),o(15),o(58),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/molecules/activities/review.jinja"]=function(){function e(e,t,o,n,i){var a=null,s=null,r="";try{var l=null;e.getTemplate("skfb_front/macros/activities.jinja",!1,"skfb_front/macros/components/molecules/activities/review.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("activity_date"))return void i(new Error("cannot import 'activity_date'"));var c=u.activity_date;t.setVariable("activity_date",c),r+="\n",e.getTemplate("skfb_front/macros/user.jinja",!1,"skfb_front/macros/components/molecules/activities/review.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("user_name"))return void i(new Error("cannot import 'user_name'"));var c=u.user_name;if(t.setVariable("user_name",c),!u.hasOwnProperty("user_avatar"))return void i(new Error("cannot import 'user_avatar'"));var d=u.user_avatar;t.setVariable("user_avatar",d),r+="\n",e.getTemplate("skfb_front/macros/model.jinja",!1,"skfb_front/macros/components/molecules/activities/review.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("model_name"))return void i(new Error("cannot import 'model_name'"));var c=u.model_name;t.setVariable("model_name",c),r+="\n",e.getTemplate("skfb_front/macros/comments.jinja",!1,"skfb_front/macros/components/molecules/activities/review.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("comment_body"))return void i(new Error("cannot import 'comment_body'"));var c=u.comment_body;t.setVariable("comment_body",c),r+="\n\n";var d=n.makeMacro([],["options"],function(i){var r=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var l="";return l+='\n    <article class="activity">\n        <div class="activity__icon --review"></div>\n\n        <div class="activity__main">\n            <div class="activity__main__left">\n                <a href="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),"profileUrl"),e.opts.autoescape),l+='">\n                    <div class="avatar" data-action="show-user-summary" data-user="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),"uid"),e.opts.autoescape),l+='">\n                        ',l+=n.suppressValue((a=13,s=36,n.callWrap(n.contextOrFrameLookup(t,o,"user_avatar"),"user_avatar",t,[n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),"avatars"),{size:40}])),e.opts.autoescape),l+='\n                    </div>\n                </a>\n            </div>\n\n            <div class="activity__main__middle">\n                <div class="activity__title">\n                    ',l+=n.suppressValue((a=20,s=30,n.callWrap(n.contextOrFrameLookup(t,o,"user_name"),"user_name",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),{withoutBadge:!0}])),e.opts.autoescape),l+="\n                    <span> has published a review on </span>\n                    ",l+=n.suppressValue((a=24,s=31,n.callWrap(n.contextOrFrameLookup(t,o,"model_name"),"model_name",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),{withStaffpickFlag:!1,withStaffpickLink:!1,withRestrictedFlag:!1}])),e.opts.autoescape),l+="\n                </div>\n\n                ",l+=n.suppressValue((a=31,s=30,n.callWrap(n.contextOrFrameLookup(t,o,"activity_date"),"activity_date",t,[n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"timestamp")])),e.opts.autoescape),l+="\n\n                ",l+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"rating")),e.opts.autoescape),l+='\n\n                <div class="activity__body">\n                  ',l+=n.suppressValue((a=36,s=31,n.callWrap(n.contextOrFrameLookup(t,o,"comment_body"),"comment_body",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"review")])),e.opts.autoescape),l+='\n                </div>\n                <div class="activity__actions">\n                    <a href="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"viewerUrl"),e.opts.autoescape),l+='#comments">Reply</a>\n                </div>\n            </div>\n\n            <div class="activity__main__right">\n                <div class="activity__thumbnail">\n                    <a href="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"viewerUrl"),e.opts.autoescape),l+='">\n                        ',l+=n.suppressValue(e.getFilter("image_container").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"thumbnails"),72,40,!0,!1),e.opts.autoescape),l+="\n                    </a>\n                </div>\n            </div>\n        </div>\n    </article>\n",o=r,new n.SafeString(l)});t.addExport("review"),t.setVariable("review",d),r+="\n\n\n";var m=n.makeMacro([],["options"],function(i){var r=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var l="";return l+='\n    <article\n        class="activity --notification ',n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"isRead")||(l+="--not-read"),l+='"\n        data-link-to="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"viewerUrl"),e.opts.autoescape),l+='">\n        <div class="activity__icon --review"></div>\n        <div class="activity__main">\n            <div class="activity__main__left">\n                <div class="avatar">\n                    ',l+=n.suppressValue((a=63,s=32,n.callWrap(n.contextOrFrameLookup(t,o,"user_avatar"),"user_avatar",t,[n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),"avatars"),{size:30}])),e.opts.autoescape),l+='\n                </div>\n            </div>\n            <div class="activity__main__middle">\n                <div class="activity__title">\n                    ',l+=n.suppressValue((a=68,s=30,n.callWrap(n.contextOrFrameLookup(t,o,"user_name"),"user_name",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),{withoutBadge:!0}])),e.opts.autoescape),l+="\n                    <span> has published a review on </span>\n                    ",l+=n.suppressValue((a=72,s=31,n.callWrap(n.contextOrFrameLookup(t,o,"model_name"),"model_name",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),{withStaffpickFlag:!1,withStaffpickLink:!1,withRestrictedFlag:!1}])),e.opts.autoescape),l+='\n                </div>\n                <time class="activity__time">',l+=n.suppressValue(e.getFilter("time_ago").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"timestamp")),e.opts.autoescape),l+="</time>\n            </div>\n        </div>\n    </article>\n",o=r,new n.SafeString(l)});t.addExport("review_small"),t.setVariable("review_small",m),r+="\n",l?l.rootRenderFunc(e,t,o,n,i):i(null,r)})})})})})})})})}catch(e){i(n.handleError(e,a,s))}}return{root:e}}()}()},204:function(e,t,o){o(28),o(16),o(15),o(58),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/molecules/activities/review-reply.jinja"]=function(){function e(e,t,o,n,i){var a=null,s=null,r="";try{var l=null;e.getTemplate("skfb_front/macros/activities.jinja",!1,"skfb_front/macros/components/molecules/activities/review-reply.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("activity_date"))return void i(new Error("cannot import 'activity_date'"));var c=u.activity_date;t.setVariable("activity_date",c),r+="\n",e.getTemplate("skfb_front/macros/user.jinja",!1,"skfb_front/macros/components/molecules/activities/review-reply.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("user_name"))return void i(new Error("cannot import 'user_name'"));var c=u.user_name;if(t.setVariable("user_name",c),!u.hasOwnProperty("user_avatar"))return void i(new Error("cannot import 'user_avatar'"));var d=u.user_avatar;t.setVariable("user_avatar",d),r+="\n",e.getTemplate("skfb_front/macros/model.jinja",!1,"skfb_front/macros/components/molecules/activities/review-reply.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("model_name"))return void i(new Error("cannot import 'model_name'"));var c=u.model_name;t.setVariable("model_name",c),r+="\n",e.getTemplate("skfb_front/macros/comments.jinja",!1,"skfb_front/macros/components/molecules/activities/review-reply.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("comment_body"))return void i(new Error("cannot import 'comment_body'"));var c=u.comment_body;t.setVariable("comment_body",c),r+="\n\n";var d=n.makeMacro([],["options"],function(i){var r=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var l="";return l+='\n    <article class="activity">\n        <div class="activity__icon --review"></div>\n\n        <div class="activity__main">\n            <div class="activity__main__left">\n                <a href="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),"profileUrl"),e.opts.autoescape),l+='">\n                    <div class="avatar" data-action="show-user-summary" data-user="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),"uid"),e.opts.autoescape),l+='">\n                        ',l+=n.suppressValue((a=13,s=36,n.callWrap(n.contextOrFrameLookup(t,o,"user_avatar"),"user_avatar",t,[n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),"avatars"),{size:40}])),e.opts.autoescape),l+='\n                    </div>\n                </a>\n            </div>\n\n            <div class="activity__main__middle">\n                <div class="activity__title">\n                    ',l+=n.suppressValue((a=20,s=30,n.callWrap(n.contextOrFrameLookup(t,o,"user_name"),"user_name",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),{withoutBadge:!0}])),e.opts.autoescape),l+="\n                    <span> has replied to your review on </span>\n                    ",l+=n.suppressValue((a=24,s=31,n.callWrap(n.contextOrFrameLookup(t,o,"model_name"),"model_name",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),{withStaffpickFlag:!1,withStaffpickLink:!1,withRestrictedFlag:!1}])),e.opts.autoescape),l+="\n                </div>\n\n                ",l+=n.suppressValue((a=31,s=30,n.callWrap(n.contextOrFrameLookup(t,o,"activity_date"),"activity_date",t,[n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"timestamp")])),e.opts.autoescape),l+='\n\n                <div class="activity__body">\n                  ',l+=n.suppressValue((a=34,s=31,n.callWrap(n.contextOrFrameLookup(t,o,"comment_body"),"comment_body",t,[{body:n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"review"),"replyBody")}])),e.opts.autoescape),l+='\n                </div>\n            </div>\n\n            <div class="activity__main__right">\n                <div class="activity__thumbnail">\n                    <a href="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"viewerUrl"),e.opts.autoescape),l+='">\n                        ',l+=n.suppressValue(e.getFilter("image_container").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"thumbnails"),72,40,!0,!1),e.opts.autoescape),l+="\n                    </a>\n                </div>\n            </div>\n        </div>\n    </article>\n",o=r,new n.SafeString(l)});t.addExport("review_reply"),t.setVariable("review_reply",d),r+="\n\n";var m=n.makeMacro([],["options"],function(i){var r=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var l="";return l+='\n    <article\n        class="activity --notification ',n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"isRead")||(l+="--not-read"),l+='"\n        data-link-to="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"viewerUrl"),e.opts.autoescape),l+='">\n        <div class="activity__icon --review"></div>\n        <div class="activity__main">\n            <div class="activity__main__left">\n                <div class="avatar">\n                    ',l+=n.suppressValue((a=59,s=32,n.callWrap(n.contextOrFrameLookup(t,o,"user_avatar"),"user_avatar",t,[n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),"avatars"),{size:30}])),e.opts.autoescape),l+='\n                </div>\n            </div>\n            <div class="activity__main__middle">\n                <div class="activity__title">\n                    ',l+=n.suppressValue((a=64,s=30,n.callWrap(n.contextOrFrameLookup(t,o,"user_name"),"user_name",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),{withoutBadge:!0}])),e.opts.autoescape),l+="\n                    <span> has replied to your review on </span>\n                    ",l+=n.suppressValue((a=68,s=31,n.callWrap(n.contextOrFrameLookup(t,o,"model_name"),"model_name",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),{withStaffpickFlag:!1,withStaffpickLink:!1,withRestrictedFlag:!1}])),e.opts.autoescape),l+='\n                </div>\n                <time class="activity__time">',l+=n.suppressValue(e.getFilter("time_ago").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"activity"),"timestamp")),e.opts.autoescape),l+="</time>\n            </div>\n        </div>\n    </article>\n",o=r,new n.SafeString(l)});t.addExport("review_reply_small"),t.setVariable("review_reply_small",m),r+="\n",l?l.rootRenderFunc(e,t,o,n,i):i(null,r)})})})})})})})})}catch(e){i(n.handleError(e,a,s))}}return{root:e}}()}()},205:function(e,t,o){"use strict";var n=o(3),i=o.n(n),a=o(0);o.n(a);t.a={name:"LazyLoading",handleLazyLoading:function(e){e=e||{},Object(a.defaults)(e,{onBeforeLoad:function(){},onAfterLoad:function(){}});var t=function(){this.$(".lazyload").each(function(){var t=i()(this),o=t.attr("data-uri"),n=new Image;n.classList.add("lazyloaded"),n.onload=n.onerror=function(){var o,i=t.width();if(o=n.naturalWidth>i?n.naturalHeight*(i/n.naturalWidth):n.naturalHeight,e.onBeforeLoad(o),t.is(":visible")){var a=function(){t.append(n),t.addClass("loaded").one("transitionend webkittransitionend moztransitionend",function(){t.replaceWith(n),e.onAfterLoad()})}.bind(this);o!==t.outerHeight()?t.css("min-height",o).one("transitionend webkittransitionend moztransitionend",a):a()}else t.replaceWith(n),e.onAfterLoad()},n.src=o})}.bind(this);"complete"===document.readyState?t():i()(window).load(t)}}},206:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(3),i=o.n(n),a=o(0),s=(o.n(a),o(2)),r=o(24),l=o(33),p=o(177);o.n(p);t.default=r.a.extend({template:function(){return s.default.get("skfb_front/popups/resetpass",{})},events:{'click [data-action="open-login"]':"openLogin","submit form":"resetPass"},initialize:function(){r.a.prototype.initialize.apply(this,arguments),this.deferred=i.a.Deferred(),this.promise=this.deferred.promise(),void 0!==this.options.email&&this.$('[name="email"]').val(this.options.email)},openLogin:function(e){if(e.preventDefault(),"/login"===window.location.pathname)return void this.close();var t=o(68).default;this.replaceWith(new t({email:this.$('[name="email"]').val()}))},resetPass:Object(a.throttle)(function(){i.a.post("/login/reset-password",{email:this.$('[name="email"]').val()}).then(function(){var e=new l.default({title:"Password reset",text:"Instructions to reset your password have been sent to your e-mail. Please check your inbox (and spam folder).",buttons:{continue:!0}});this.replaceWith(e).then(function(){e.close()}.bind(this))}.bind(this),function(e){this.automagicErrors(e.responseJSON&&e.responseJSON.detail||"Error while trying to reset your password.")}.bind(this))},1e3),then:function(){return this.promise.then.apply(this.promise,arguments)}})},207:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(3),i=o.n(n),a=o(0),s=(o.n(a),o(2)),r=o(7),l=o(125),p=o(4),u=o(16);o.n(u);t.default=r.a.extend({template:s.default.getFromMacro("skfb_front/macros/user","user_summary"),className:"user-summary hidden",initialize:function(){r.a.prototype.initialize.apply(this,arguments),i()("body").append(this.$el),this.model=new p.a,this.model.on("change",this.render.bind(this))},render:function(){this.$el.html(this.template([p.a.me().toJSON(),this.model.toJSON(),this.userOptions])),!1!==this.userOptions.followButton&&new l.a({el:this.$(".follow-user-button")[0],trackerEvent:"userSummaryFollowButtonClicked",afterFollowAction:this.onUserFollow.bind(this)})},setUser:function(e,t){t=t||{},this.userOptions=t,this.$el.addClass("loading"),this.model.clear({silent:!0}).set({uid:e},{silent:!0}).getSummary().then(function(){this.$el.removeClass("loading")}.bind(this))},onUserFollow:function(e){var t="follow"===e?1:-1,o=this.$(".follow-count span"),n=parseInt(o.text(),10);o.text(n+t)},anchor:function(e){var t=i()(e),o=this.$el.outerWidth(!0),n=i()(window).width(),s=i()(window).height(),r=Object(a.extend)(t.offset(),{width:t.width(),height:t.height()}),l="summary-right",p="summary-bottom",u={left:"auto",right:"auto",top:"auto",bottom:"auto"};this.$el.removeClass("summary-left summary-right summary-top summary-bottom"),r.left+o>n&&(l="summary-left"),r.top-window.scrollY+300>s&&(p="summary-top"),"summary-right"===l?u.left=r.left+r.width/2-22:u.right=n-(r.left+r.width/2)-22,"summary-bottom"===p?u.top=r.top+r.height+7:u.bottom=s-(r.top+r.height/2)+22,this.$el.addClass(l+" "+p),this.$el.css(u)},show:function(){this.$el.off("transitionend webkitTransitionEnd"),this.$el.css({display:"block"}),this.$el.width(),this.$el.removeClass("hidden")},hide:function(){this.$el.addClass("hidden"),this.$el.one("transitionend webkitTransitionEnd",function(){this.$el.css({display:"none"})}.bind(this))},isVisible:function(){return!this.$el.hasClass("hidden")}})},208:function(e,t,o){"use strict";var n=o(0),i=(o.n(n),o(44)),a=o.n(i),s=o(3),r=o.n(s),l=o(76),p=o(57),u=o(14),c=o(7),d=o(23),m=o(127),h=o(12),f=o(68),v=o(105),b=o(121),g=o(122),k=o(43),_=o(37),w=o(242),L=o(20),y=o(243),x=o.n(y),O=o(1),F=o(18);t.a=c.a.extend({displayName:"Header",mixins:[k.a],optionTypes:{searchModel:O.b.model.isRequired},children:{headerNotifications:{selector:".js-header-notifications",viewClass:b.a,shouldCreateChild:function(){return!!this.$(".js-header-notifications").length}},headerCart:{selector:".js-header-cart",viewClass:g.a,shouldCreateChild:function(){return!!this.$(".js-header-cart").length}},storeBanner:{selector:".js-banner",viewClass:w.a,shouldCreateChild:function(){var e=[/^\/store/,/^\/signup/,/^\/login/];return!!this.$(".js-banner").length&&e.every(function(e){return!window.location.pathname.match(e)})},options:function(){return{canOpen:!this.state.isSearchOpen,text:"Shop high-quality 3D models in the Sketchfab Store",backgroundImage:x.a,cta:{viewClass:_.a,options:{text:"shop now",type:"store",iconClassName:"fa fa-shopping-cart",onClick:function(){window.location="/store?ref=topbanner"}}}}}}},events:{'click [data-action="open-search"]':"openSearch",'click [data-action="userMenu"]':"toggleUserMenu",'click [data-action="open-signup"]':"openSignup",'click [data-action="open-login"]':"openLogin",'click [data-action="open-upload"]':"openUpload",'click [data-action="open-signup-upload"]':"openSignupUpload",'click [data-action="open-signup-store-seller"]':"openSignupStoreSeller",'click [data-action="exit-search"]':"onSearchCancel","focus .header-search-form":"onSearchFocus","click .clear":"onClickClear","keyup .value":"onQueryKeyup","input .value":"onQueryInput","focus .value":"onInputFocus","blur .value":"onInputBlur","scroll window":"setScrollClassName",'submit [data-action="search"]':function(e){e.preventDefault()},'submit [data-action="logout"]':"onLogout"},constructor:function(){this.onInputBlur=Object(n.debounce)(this.onInputBlur,200),this.setScrollClassName=Object(n.throttle)(this.setScrollClassName.bind(this),100),c.a.prototype.constructor.apply(this,arguments)},initialize:function(){c.a.prototype.initialize.apply(this,arguments),this.state={isCartOpen:!1,cartItemCount:0,isInputFocused:!1,query:L.b.string("q","")||this.options.searchModel.get("query"),isSearchOpen:!!window.location.pathname.match(/^\/search/)},this.options.searchModel.on("searchStart",this.onSearchStart,this),this.options.searchModel.on("searchStop",this.onSearchStop,this),this.options.searchModel.on("change:query",this.onQueryChange,this),this.render()},viewDidUpdate:function(e,t){this.state.query!==t.query&&this.options.searchModel.set("query",this.state.query)},viewWillUnmount:function(){this.options.searchModel.off("searchStart",this.onSearchStart,this),this.options.searchModel.off("searchStop",this.onSearchStop,this),this.options.searchModel.off("change:query",this.onQueryChange,this)},onLogout:function(e){e.preventDefault(),F.a.logout().then(function(){window.location="/?logged_out=1"})},onQueryChange:function(){var e=this.options.searchModel.get("query");e!==this.state.query&&this.setState({query:e})},onQueryKeyup:function(e){13===e.keyCode&&e.stopPropagation()},onQueryInput:function(e){this.setState({query:e.target.value})},onClickClear:function(e){e.preventDefault(),this.setState({query:""}),this.$(".value").focus()},onInputFocus:function(){this.setState({isInputFocused:!0})},onInputBlur:function(){this.setState({isInputFocused:!1})},setScrollClassName:function(){var e=r()(window).scrollTop();this.$el.toggleClass("--scroll",e>50)},toggleClearQueryButton:function(){this.$(".clear").toggleClass("hidden",""===this.$(".value").val())},toggleUserMenu:function(){this.trigger("toggleMenu")},openSignup:function(e){e.preventDefault(),e.stopPropagation();var t=-1!==window.location.href.indexOf("store");new v.default({shouldExitOnClickOutside:!0,shouldRejectOnCancel:!0,next:t?window.location.href:"/signup/onboarding",usageType:t?u.a.userUsageTypeChoices.buyer:void 0}).open().then(function(e){window.location=e}).catch(function(){})},openSignupUpload:function(e){this.openSignup(e),h.a.headerUploadSignupButtonClicked()},openSignupStoreSeller:function(e){this.openSignup(e),h.a.headerStoreSellerSignupButtonClicked()},openLogin:function(e){e.preventDefault(),new f.default({next:window.location.href}).open().then(function(e){e?window.location=e:window.location.reload(!0)}).catch(Object(d.g)(d.e))},openUpload:function(){m.a.isMaintenance()?m.a.showPopup():(h.a.headerUploadButtonClicked(),Object(p.e)().then(function(e){return(new e).open()}).catch(Object(d.g)(d.e)))},openSearch:function(){this.options.searchModel.trigger("searchStart"),this.$(".value").focus()},onSearchCancel:function(){this.options.searchModel.trigger("searchStop")},onSearchStop:function(e){if(e=e||{},this.$el.removeClass("searching"),this.$(".value").val(""),this.$(".value").blur(),this.toggleClearQueryButton(),this.setState({isSearchOpen:!1}),a.a.any&&this.$el.hide(),!e.reset)if(this.previousLocation)l.a.navigate(this.previousLocation,{trigger:!0,silent:!1});else{var t="/",o=this.options.searchModel.get("type");"models"===o?t+="models/popular":"users"===o?t+="users":"collections"===o&&(t+="collections"),l.a.navigate(t,{trigger:!0,silent:!1})}},onSearchStart:function(){this.$el.addClass("searching"),this.toggleClearQueryButton(),h.a.headerSearchInitiated(this.$(".value").val()),this.setState({isSearchOpen:!0}),a.a.any&&this.$el.show()},onSearchFocus:function(){this.previousLocation="/search"!==window.location.pathname?window.location.pathname:"",this.options.searchModel.trigger("searchStart")},renderInputContent:function(){var e=this.$(".value");if(e.length){var t=e.is(":focus"),o=e[0].selectionStart;e.val(this.state.query),!o||a.a.any||window.innerWidth<=800||t||(e[0].selectionStart=o,e[0].selectionEnd=o),this.toggleClearQueryButton()}},renderCart:function(){this.$(".js-cart-count").toggleClass("--hidden",!this.state.cartItemCount).text(this.state.cartItemCount)},render:function(){this.renderInputContent(),this.renderCart(),this.renderChildren()}})},209:function(e,t,o){"use strict";var n=o(54),i=o.n(n),a=o(9),s=o.n(a),r=o(0),l=(o.n(r),o(6)),p=o(13),u=o(4),c=o(65),d=o(210),m=o(1),h=o(2),f=o(211),v=o(231),b=o(232),g=o(233),k=o(234),_=o(235),w=o(236),L=o(237),y=o(238),x=o(239),O=o(240),F=o(160),C=o(178);t.a=l.a.extend({displayName:"ActivityGrid",optionTypes:{feedType:m.b.oneOf(["notifications","activities","following_activities"]).isRequired,pageSize:m.b.number,itemOptions:m.b.object,shouldHidePagination:m.b.bool,loadMoreOnScroll:m.b.bool},defaultOptions:{pageSize:24,itemOptions:{}},initialize:function(){l.a.prototype.initialize.apply(this,arguments),this.filters=new p.a({feed:this.options.feedType}),this.collection=new d.a([],{initialLoadingState:"next",pageSize:this.options.pageSize,filters:this.filters})},viewDidMount:function(){this.collection.on("afterAdd",this.afterCollectionAdd,this),this.filters.on("change",this.onFiltersChange,this)},viewDidUpdate:function(e){e.feedType!==this.options.feedType&&this.filters.set({feed:this.options.feedType})},viewWillUnmount:function(){this.collection.off("afterAdd",this.afterCollectionAdd,this),this.filters.off("change",this.onFiltersChange,this)},onFiltersChange:function(){this.collection.reset(),this.collection.loadFirstPage()},afterCollectionAdd:function(){c.a.getSingleton().hasNewActivities()&&c.a.seeActivities()},getViewClass:function(e){switch(e.get("verb")){case"comment":return e.get("mentions").includes(u.a.me().get("uid"))?g.a:b.a;case"follow":return w.a;case"subscribe":return _.a;case"like":return k.a;case"collect":return L.a;case"staffpick":return y.a;case"review":return x.a;case"reviewReply":return O.a}},template:function(){var e=this;return h.default.getFromString('\n            <div class="c-activity-list">\n                {{ components.list | component }}\n            </div>\n            ',{components:this.createChildrenComponents({list:{viewClass:F.a,options:{collection:this.collection,render:function(t){return{viewClass:C.a,options:s()({},t,{loadMoreOnScroll:e.options.loadMoreOnScroll,hasPreviousPage:!e.options.shouldHidePagination&&t.hasPreviousPage,hasNextPage:!e.options.shouldHidePagination&&t.hasNextPage,className:"activity-list__grid",cards:[].concat(i()(t.models.map(function(t){return{viewClass:e.getViewClass(t),options:s()({},e.options.itemOptions,{key:t.get("uid"),model:t,isOwnFeed:"following_activities"!==e.options.feedType})}})),i()(Object(r.range)(0,t.isLoading?5:0).map(function(t){return{viewClass:f.a,options:{key:t,type:"notifications"===e.options.feedType?"smallActivity":"activity"}}}))),emptyState:{viewClass:v.a}})}}}}})})}})},210:function(e,t,o){"use strict";var n=o(9),i=o.n(n),a=o(230),s=o(4),r=o(42),l=o(20);t.a=r.a.extend({model:a.a,endpoint:"/feeds",queryParams:function(){return i()({},r.a.prototype.queryParams.call(this),{feed:this.options.filters.get("feed"),user:s.a.me().get("isStaff")?l.b.string("user"):void 0})}})},211:function(e,t,o){"use strict";var n=o(6),i=o(2),a=o(1),s=o(172);o.n(s);t.a=n.a.extend({displayName:"ListItemPlaceholder",optionTypes:{type:a.b.oneOf(["smallCard","comment","smallActivity","activity"]).isRequired},defaultOptions:{type:"smallCard"},template:function(){return i.default.getFromMacro("skfb_front/macros/components/atoms/list-item-placeholder","list_item_placeholder",[{type:this.options.type}])}})},212:function(e,t,o){"use strict";var n=o(41),i=o(2),a=o(1),s=Object(n.a)(function(e){var t=e.count,o=void 0===t?0:t,n=e.title,a=void 0===n?"Shopping Cart":n;return i.default.getFromString('\n        <div class="c-cart-header">\n            <h2 class="c-cart-header__title">{{ title }}</h2>\n            {% if count %}\n                <span class="c-cart-header__count">\n                    {{ count }}\n                </span>\n            {% endif %}\n        </div>\n        ',{title:a,count:o})});s.optionsTypes={count:a.b.number,title:a.b.string},t.a=s},213:function(e,t,o){"use strict";var n=o(9),i=o.n(n),a=o(6),s=o(4),r=o(180),l=o(2),p=o(1),u=o(19),c=o(15);o.n(c);t.a=a.a.extend({displayName:"CardRow",mixins:[u.a],optionTypes:{model:p.b.shape({name:p.b.string.isRequired,viewerUrl:p.b.string.isRequired,thumbnails:p.b.object.isRequired,price:p.b.number.isRequired,isOwned:p.b.bool,inStore:p.b.bool,isDeleted:p.b.bool}).isRequired,onRemove:p.b.func.isRequired,onModelLinkClick:p.b.func,size:p.b.oneOf(["large"])},defaultOptions:{onModelLinkClick:function(){}},events:{'click [data-action="remove"]':function(e){e.stopPropagation(),this.options.onRemove()},'click [data-action="open-model"]:not(.--disabled)':function(e){this.options.onModelLinkClick(e)}},template:function(){return l.default.getFromString('\n                {% from \'skfb_front/macros/model.jinja\' import model_name %}\n\n                <div  class="c-cart-row {{ \'--\' + size if size }} {{ \'--disabled\' if isDisabled }}">\n                    <div class="c-cart-row__thumbnail">\n                        <a href="{{ model.viewerUrl }}" data-action="open-model">\n                            {{ model.thumbnails | image_container(70, 40) }}\n                        </a>\n                    </div>\n\n                    <div class="c-cart-row__content">\n                        <p>\n                            <span data-action="open-model" class="c-cart-row__title {{ \'--deleted\' if model.isDeleted }}">\n                                {{ model_name(authUser, model, {\n                                    \'withStaffpickFlag\' : false,\n                                    \'withRestrictedFlag\' : false\n                                }) }}\n                            </span>\n\n                            {% if model.isDeleted %}\n                                <span class="help">\n                                    <i class="fa fa-question-circle"></i>\n                                    <span class="tooltip tooltip-right">\n                                        This model was deleted\n                                    </span>\n                                </span>\n                            {% endif %}\n\n                            {% if model.inStore == false %}\n                                <span class="help">\n                                    <i class="fa fa-question-circle"></i>\n                                    <span class="tooltip tooltip-right">\n                                        This model is no longer for sale\n                                    </span>\n                                </span>\n                            {% endif %}\n\n                            {% if model.isOwned %}\n                                <br>\n                                <a class="skfb-link"href="{{ model.viewerUrl }}">Model already bought</a>\n                            {% endif %}\n                        </p>\n\n                        <p class="c-cart-row__price">{{ model.price | format_price }}</p>\n                    </div>\n\n                    <div class="c-cart-row__actions">\n                        <button\n                            class="c-cart-row__remove"\n                            data-action="remove">\n                            <i class="icon fa fa-times"></i>\n                        </button>\n                    </div>\n                </div>\n            ',i()({},this.options,{isDisabled:!Object(r.c)(this.options.model),authUser:s.a.me().toJSON()}))}})},214:function(e,t,o){"use strict";var n=o(41),i=o(2),a=o(1),s=o(37),r=Object(n.a)(function(e){var t=e.size,o=void 0===t?"normal":t,n=e.createChildrenComponents;return i.default.getFromString('\n        <div class="c-cart-empty-state">\n            <div class="c-cart-empty-state__image --{{ size }}"></div>\n            <p class="c-cart-empty-state__text">Your cart is empty</p>\n            <a href="/store/search">\n                {{ components.button | component }}\n            </a>\n        </div>\n        ',{size:o,components:n({button:{viewClass:s.a,options:{text:"browse store models",type:"store",size:"large"}}})})});r.prototype.optionTypes={size:a.b.oneOf(["normal","large"])},t.a=r},215:function(e,t,o){"use strict";var n=o(44),i=o.n(n),a=o(7),s=o(76),r=o(1),l=o(122),p=o(121);t.a=a.a.extend({displayName:"ResponsiveHeader",optionTypes:{searchModel:r.b.model.isRequired},children:{headerNotifications:{selector:".js-responsive-header-notifications",viewClass:p.a,options:{hasPopin:!1}},headerCart:{selector:".js-responsive-header-cart",viewClass:l.a,shouldCreateChild:function(){return!!this.$(".js-responsive-header-cart").length},options:function(){return{hasPopin:!1}}}},events:{'click [data-action="open-search"]':"openSearch",'click [data-action="close-search"]':"closeSearch",'submit [data-action="search"]':"search","input .search-field":"onQueryKeyup","click .clear":"onClickClear"},initialize:function(){a.a.prototype.initialize.apply(this,arguments),this.options.searchModel.on("change:query",this.onQueryChange,this),this.options.searchModel.on("searchStart",this.onSearchStart,this),this.options.searchModel.on("searchStop",this.onSearchStop,this),this.render()},onClickClear:function(e){e.preventDefault(),this.options.searchModel.set("query",""),this.$(".search-field").focus()},onQueryChange:function(){var e=this.$(".search-field"),t=this.options.searchModel.get("query"),o=e[0].selectionStart;e.val()!==t&&(i.a.any||window.innerWidth<=800)&&e.val(t),o&&i.a.any&&(e[0].selectionStart=o,e[0].selectionEnd=o),this.toggleClearQueryButton()},toggleClearQueryButton:function(){this.$(".clear").toggleClass("hidden",""===this.$(".search-field").val())},openSearch:function(){this.$(".search-field").val("").focus(),this.options.searchModel?this.options.searchModel.trigger("searchStart"):(this.$el.addClass("searchmode"),this.$(".search-field").focus())},onSearchStop:function(){this.$el.removeClass("searchmode")},onSearchStart:function(){this.$el.addClass("searchmode"),(i.a.any&&window.innerWidth<=800||window.innerWidth<=800)&&this.$(".search-field").focus()},onQueryKeyup:function(){if((i.a.any&&window.innerWidth<=800||window.innerWidth<=800)&&this.options.searchModel){var e=this.$(".search-field").val();e!==this.options.searchModel.get("query")&&this.options.searchModel.set("query",e)}},closeSearch:function(e){if(!this.options.searchModel)return void this.$el.removeClass("searchmode");if(!s.a.hasPrevious()){e.preventDefault(),e.stopPropagation();var t="/",o=this.options.searchModel.get("type");return"models"===o?t+="models/popular":"users"===o?t+="users":"collections"===o&&(t+="collections"),document.location=t,!1}this.options.searchModel.trigger("searchStop")},search:function(e){if(this.options.searchModel)return this.$(".search-field").blur(),e.preventDefault(),!1},render:function(){this.renderChildren()}})},218:function(e,t,o){"use strict";var n=o(39),i=o.n(n),a=o(0),s=(o.n(a),o(3)),r=o.n(s),l=o(7),p=o(67),u=o(1);t.a=l.a.extend({displayName:"FormMenu",optionTypes:{name:u.b.string.isRequired,openingClassName:u.b.string.isRequired,defaultLabelValue:u.b.string,updateLabelOnChange:u.b.bool,closeOnChange:u.b.bool,updateMultipleLabel:u.b.bool},defaultOptions:{openingClassName:"expanded",updateLabelOnChange:!1,closeOnChange:!1,updateMultipleLabel:!1,defaultLabelValue:""},labelValues:{},initialize:function(){l.a.prototype.initialize.apply(this,arguments),"function"==typeof this.options.formatLabelValue&&(this.formatLabelValue=this.options.formatLabelValue),"object"===i()(this.options.formatLabelValue)&&(this.labelValues=this.options.formatLabelValue),this.model&&this.options.name&&this.model.on("change:"+this.options.name,Object(p.a)(function(){this.options.updateLabelOnChange&&this.setLabel(this.model.get(this.options.name)),this.options.updateMultipleLabel&&this.setMultipleLabel(),this.options.closeOnChange&&this.close()},this)),this.$el.addClass("js-menu-"+this.options.name)},isOpen:function(){return!!this.$el.hasClass(this.options.openingClassName)},open:function(){this.$el.addClass(this.options.openingClassName)},close:function(){this.$el.removeClass(this.options.openingClassName)},toggle:function(e){void 0===e&&(e=!this.isOpen()),e?this.open():this.close()},formatLabelValue:function(e){return this.labelValues[e]||e||this.options.defaultLabelValue},setLabel:function(e){void 0!==e&&null!==e||(e=""),e=this.formatLabelValue(e),this.$(".name label").text(e).toggleClass("is-filled",!!e)},setMultipleLabel:function(){var e=this.$(".menu").find("li"),t=[];Object(a.each)(e,function(e){this.model.get(this.options.name).indexOf(r()(e).data("value"))>-1&&t.push(r()(e).find(".label").text().trim())}.bind(this));var o=this.options.defaultLabelValue;o=t.length>2?Object(a.map)(t.slice(0,2)).join(", ")+" and "+(t.length-2)+" other":0!==t.length?Object(a.map)(t).join(", "):this.options.defaultLabelValue,this.$(".name label").text(o).toggleClass("is-filled",!!t.length)}})},219:function(e,t,o){(function(o,n){var i,a,s={domainThreshold:2,secondLevelThreshold:2,topLevelThreshold:2,defaultDomains:["msn.com","bellsouth.net","telus.net","comcast.net","optusnet.com.au","earthlink.net","qq.com","sky.com","icloud.com","mac.com","sympatico.ca","googlemail.com","att.net","xtra.co.nz","web.de","cox.net","gmail.com","ymail.com","aim.com","rogers.com","verizon.net","rocketmail.com","google.com","optonline.net","sbcglobal.net","aol.com","me.com","btinternet.com","charter.net","shaw.ca"],defaultSecondLevelDomains:["yahoo","hotmail","mail","live","outlook","gmx"],defaultTopLevelDomains:["com","com.au","com.tw","ca","co.nz","co.uk","de","fr","it","ru","net","org","edu","gov","jp","nl","kr","se","eu","ie","co.il","us","at","be","dk","hk","es","gr","ch","no","cz","in","net","net.au","info","biz","mil","co.jp","sg","hu"],run:function(e){e.domains=e.domains||s.defaultDomains,e.secondLevelDomains=e.secondLevelDomains||s.defaultSecondLevelDomains,e.topLevelDomains=e.topLevelDomains||s.defaultTopLevelDomains,e.distanceFunction=e.distanceFunction||s.sift3Distance;var t=function(e){return e},o=e.suggested||t,n=e.empty||t,i=s.suggest(s.encodeEmail(e.email),e.domains,e.secondLevelDomains,e.topLevelDomains,e.distanceFunction);return i?o(i):n()},suggest:function(e,t,o,n,i){e=e.toLowerCase();var a=this.splitEmail(e);if(o&&n&&-1!==o.indexOf(a.secondLevelDomain)&&-1!==n.indexOf(a.topLevelDomain))return!1;var s=this.findClosestDomain(a.domain,t,i,this.domainThreshold);if(s)return s!=a.domain&&{address:a.address,domain:s,full:a.address+"@"+s};var r=this.findClosestDomain(a.secondLevelDomain,o,i,this.secondLevelThreshold),l=this.findClosestDomain(a.topLevelDomain,n,i,this.topLevelThreshold);if(a.domain){var s=a.domain,p=!1;if(r&&r!=a.secondLevelDomain&&(s=s.replace(a.secondLevelDomain,r),p=!0),l&&l!=a.topLevelDomain&&(s=s.replace(a.topLevelDomain,l),p=!0),1==p)return{address:a.address,domain:s,full:a.address+"@"+s}}return!1},findClosestDomain:function(e,t,o,n){n=n||this.topLevelThreshold;var i,a=99,s=null;if(!e||!t)return!1;o||(o=this.sift3Distance);for(var r=0;r<t.length;r++){if(e===t[r])return e;i=o(e,t[r]),i<a&&(a=i,s=t[r])}return a<=n&&null!==s&&s},sift3Distance:function(e,t){if(null==e||0===e.length)return null==t||0===t.length?0:t.length;if(null==t||0===t.length)return e.length;for(var o=0,n=0,i=0,a=0;o+n<e.length&&o+i<t.length;){if(e.charAt(o+n)==t.charAt(o+i))a++;else{n=0,i=0;for(var s=0;s<5;s++){if(o+s<e.length&&e.charAt(o+s)==t.charAt(o)){n=s;break}if(o+s<t.length&&e.charAt(o)==t.charAt(o+s)){i=s;break}}}o++}return(e.length+t.length)/2-a},splitEmail:function(e){var t=e.trim().split("@");if(t.length<2)return!1;for(var o=0;o<t.length;o++)if(""===t[o])return!1;var n=t.pop(),i=n.split("."),a="",s="";if(0==i.length)return!1;if(1==i.length)s=i[0];else{a=i[0];for(var o=1;o<i.length;o++)s+=i[o]+".";s=s.substring(0,s.length-1)}return{topLevelDomain:s,secondLevelDomain:a,domain:n,address:t.join("@")}},encodeEmail:function(e){var t=encodeURI(e);return t=t.replace("%20"," ").replace("%25","%").replace("%5E","^").replace("%60","`").replace("%7B","{").replace("%7C","|").replace("%7D","}")}};void 0!==e&&e.exports&&(e.exports=s),i=[],void 0!==(a=function(){return s}.apply(t,i))&&(e.exports=a),"undefined"!=typeof window&&o&&function(e){e.fn.mailcheck=function(e){var t=this;if(e.suggested){var o=e.suggested;e.suggested=function(e){o(t,e)}}if(e.empty){var n=e.empty;e.empty=function(){n.call(null,t)}}e.email=this.val(),s.run(e)}}(n)}).call(t,o(3),o(3))},22:function(e,t,o){"use strict";var n,i=o(14),a=o(0),s=(o.n(a),o(259)),r=o.n(s),l=o(400),p=o(73),u=o(20),c=o(220),d=o(100),m=o(4),h=function(e){if(null!==e&&void 0!==e)return"+Infinity"===e||"Infinity"===e?1/0:"-Infinity"===e?-1/0:e},f=function(){var e={};for(var t in r.a){var o=r.a[t],n=h(o.defaultValue),i=void 0;if(void 0!==o.alias)for(var s in o.alias)if(void 0!==(i=u.b[o.type](s)))break;e[Object(a.camelCase)(t)]=void 0!==i?i:u.b[o.type](t,n)}return e},v=function(){if(n)return n;if(window.prefetchedData.embedOptions){n=window.prefetchedData.embedOptions;for(var e in n)n[e]=h(n[e])}else n=f();try{m.a.me().get("isStaff")&&void 0===n.webgl2&&(n.webgl2=!0)}catch(e){console.warn("Prefetching failure while trying to reach User.me(). This is probably because this code has been run in a non web context where prefetchdata are unusable.")}if(n.apiId=u.b.string("api_id",void 0),n.uiInspector){var t=Object(l.a)();n.uiInspector=-1===i.a.inspectorBlacklist.indexOf(t)}n.annotationCycleAutostart=void 0!==n.annotationCycle,n.annotationCycleDuration=5e3,void 0!==n.annotationCycle&&(n.annotationCycleDuration=1e3*n.annotationCycle,delete n.annotationCycle),(n.cardboard||n.annotation||Object(p.a)())&&(n.camera=!1),n.stats&&(n.continuousRender=!0),n.processOptions&&Object(d.a)(!0),n.processOptions&&(n.processMaterial=!0),n.stats&&(n.webglTimerGpu=!1);var o=!n.apiVersion||"1.1.0"===n.apiVersion,a=o&&!n.materialShowcase,s=!Object(d.a)()&&!Object(p.a)()&&a;if(void 0===n.mergeMaterials&&(n.mergeMaterials=s),void 0===n.graphOptimizer&&(n.graphOptimizer=s),void 0===n.materialPacking&&(n.materialPacking=a),void 0===n.imageCompression&&(n.imageCompression=!Object(p.a)()),n.shadowAtlas=n.shadowAtlas&&!Object(p.a)(),void 0===n.drsMin){var r=Math.max(1,Math.min(1.5,window.devicePixelRatio||0));n.drsMin=1/r}return n.sssKernel%2==0&&n.sssKernel++,n.sssHalfKernel=1+(n.sssKernel>>1),Object(c.a)(n),n.zoct=u.b.bool("zoct",!1),n.zq=u.b.bool("zq",!0),n.zw=u.b.bool("zw",!0),n.zz=u.b.bool("zz",!Object(p.a)()),n.zratio=u.b.number("zratio",100),void 0===n.forceTriangles&&(n.forceTriangles=-1!==navigator.userAgent.indexOf("Firefox/62.0")),n};t.a=v},220:function(e,t,o){"use strict";var n=function(e){var t=e||{};return window.location&&window.location.hash?(window.location.hash.substr(1).split(",").forEach(function(e){var o=e.split("="),n=o[0],i=o[1];if("debug3d"===n&&(t.debug3D=!0),"stats"===n&&(t.stats=!0),n.match("material_"))switch(n=n.substr(9)){case"showcase":t.materialShowcase=void 0===i?t.materialShowcase:"0"!==i;break;case"names":t.materialNames=i;break;case"normal":t.materialNormal=i;break;case"emissive":t.materialEmissive=i;break;case"transparency":t.materialTransparency=i;break;case"diffuse":t.materialDiffuse=i;break;case"metalness":t.materialMetalness=i;break;case"roughness":t.materialRoughness=i;break;case"glossiness":t.materialGlossiness=i;break;case"specular":t.materialSpecular=i;break;case"cavity":t.materialCavity=i;break;case"f0":t.materialF0=i;break;case"ao":t.materialAO=i;break;case"displacement":t.materialDisplacement=i;break;case"displacement_factor":t.materialDisplacementFactor=void 0===i?t.materialDisplacementFactor:Number(i)}}),t):t};t.a=n},221:function(e,t,o){o(17),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/popups/email-confirmation.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null;e.getTemplate("skfb_front/layouts/popup.jinja",!0,"skfb_front/popups/email-confirmation.jinja",!1,function(r,l){if(r)return void i(r);s=l;for(var p in s.blocks)t.addBlock(p,s.blocks[p]);a+="\n\n";var u;u="E-mail verification",o.set("popupTitle",u,!0),o.topLevel&&t.setVariable("popupTitle",u),o.topLevel&&t.addExport("popupTitle",u),a+="\n";var c;c="popup-email-verification",o.set("popupClass",c,!0),o.topLevel&&t.setVariable("popupClass",c),o.topLevel&&t.addExport("popupClass",c),a+="\n\n",(s?function(e,t,o,n,i){i("")}:t.getBlock("popup_content"))(e,t,o,n,function(r,l){if(r)return void i(r);a+=l,a+="\n\n",(s?function(e,t,o,n,i){i("")}:t.getBlock("popup_footer"))(e,t,o,n,function(r,l){if(r)return void i(r);a+=l,a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)})})})}catch(e){i(n.handleError(e,null,null))}}function t(e,t,o,n,i){var a="";try{var o=o.push(!0);a+='\n\n    <div class="icon-wrapper">\n        <i class="fa fa-envelope"></i>\n    </div>\n    <div class="text">\n        <p>',a+=n.suppressValue(n.contextOrFrameLookup(t,o,"reason"),e.opts.autoescape),a+=".</p>\n        <p>If you haven't received your confirmation mail at <strong>",a+=n.suppressValue(n.contextOrFrameLookup(t,o,"email"),e.opts.autoescape),a+="</strong>, request a new one.</p>\n    </div>\n\n",i(null,a)}catch(e){i(n.handleError(e,null,null))}}function o(e,t,o,n,i){var a="";try{var o=o.push(!0);a+='\n\n    <div class="actions">\n        <button class="button btn-medium btn-tertiary" data-action="cancel">Cancel</button>\n        <button class="button btn-medium btn-primary" data-action="validate">Send me a new mail</button>\n    </div>\n\n',i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{b_popup_content:t,b_popup_footer:o,root:e}}()}()},224:function(e,t,o){"use strict";var n=o(40),i=o.n(n),a=o(70),s=o.n(a),r=o(0),l=(o.n(r),o(26)),p=o(35),u=s()("routeCallbackKey");t.a={name:"WithRouteEvents",constructor:function(){var e=this;this[u]={hash:{},onHashChange:function(){window.location.hash&&e[u].hash[window.location.hash]&&e[u].hash[window.location.hash](window.location.hash)}},this.events=Object(l.c)(this.events,function(t,o){var n=Object(p.c)(o);if("route"!==n.eventName)return i()({},o,t);if("string"==typeof t&&!e[t])throw new Error("WithRouteEvents error: "+e.displayName+". "+t+" is not defined.");if(!n.selector.match("#"))throw new Error("WithRouteEvents error: "+e.displayName+". "+n.selector+" is not supported. Currently only #s are supported.");return e[u].hash[n.selector]=Object(r.isFunction)(t)?t.bind(e):e[t].bind(e),{}})},initialize:function(){this[u].onHashChange()},viewDidMount:function(){window.addEventListener("hashchange",this[u].onHashChange,!1)},viewWillUnmount:function(){window.removeEventListener("hashchange",this[u].onHashChange,!1)}}},225:function(e,t,o){"use strict";var n=o(44),i=o.n(n),a=o(3),s=o.n(a),r=o(207);t.a={name:"UserSummary",constructor:function(){this.enabled=!i.a.any,this.enabled&&(this.userSummary=new r.default,this.userSummaryOnBodyClick=this.userSummaryOnBodyClick.bind(this),this.userSummaryOnClick=this.userSummaryOnClick.bind(this),this.userSummaryEnterElement=this.userSummaryEnterElement.bind(this),this.userSummaryLeaveElement=this.userSummaryLeaveElement.bind(this),this.userSummaryEnterUserSummary=this.userSummaryEnterUserSummary.bind(this),this.userSummaryLeaveUserSummary=this.userSummaryLeaveUserSummary.bind(this))},delegateUserSummary:function(){if(this.enabled){var e=s()("body");e.on("click",this.userSummaryOnBodyClick),e.on("click",".user-summary",this.userSummaryOnClick),e.on("mouseenter",'[data-action="show-user-summary"][data-user]',this.userSummaryEnterElement),e.on("mouseleave",'[data-action="show-user-summary"][data-user]',this.userSummaryLeaveElement),e.on("mouseenter",".user-summary",this.userSummaryEnterUserSummary),e.on("mouseleave",".user-summary",this.userSummaryLeaveUserSummary)}},undelegateUserSummary:function(){if(this.enabled){var e=s()("body");e.off("click",this.userSummaryOnBodyClick),e.off("click",".user-summary",this.userSummaryOnClick),e.off("mouseenter",'[data-action="show-user-summary"][data-user]',this.userSummaryEnterElement),e.off("mouseleave",'[data-action="show-user-summary"][data-user]',this.userSummaryLeaveElement),e.off("mouseenter",".user-summary",this.userSummaryEnterUserSummary),e.off("mouseleave",".user-summary",this.userSummaryLeaveUserSummary)}},isUserSummaryVisible:function(){return!(!this._inAvatar&&!this._inUserSummary)},userSummaryToggleUserSummary:function(){this.isUserSummaryVisible()?this.userSummary.show():this.userSummary.hide()},userSummaryOnBodyClick:function(){this.isUserSummaryVisible()||this.userSummary.hide()},userSummaryOnClick:function(e){e.stopPropagation()},userSummaryEnterElement:function(e){clearTimeout(this.userSummaryLeaveElementTimeout);var t=s()(e.currentTarget),o=t.data("user"),n=this._getAnchor(t),i=this,a=function(){i._inAvatar=!0,i._inUserSummary=!1,i.userSummary.setUser(o,this.userSummaryOptions),i.userSummary.anchor(n),i.userSummaryToggleUserSummary()};this.userSummary.isVisible()&&o===this.userSummary.model.get("uid")||(this.userSummaryTimeout=setTimeout(a.bind(this),300)),this.userSummary.isVisible()&&(this.userSummaryTimeout=setTimeout(function(){this._inAvatar=!0,this._inUserSummary=!1,this.userSummaryToggleUserSummary(),i.userSummary.anchor(n)}.bind(this),300))},userSummaryLeaveElement:function(){this.userSummaryLeaveElementTimeout=setTimeout(function(){clearTimeout(this.userSummaryTimeout),this._inAvatar=!1,this.userSummaryToggleUserSummary()}.bind(this),100)},userSummaryEnterUserSummary:function(){clearTimeout(this.userSummaryLeaveElementTimeout),this._inUserSummary=!0,this._inAvatar=!1,this.userSummaryToggleUserSummary()},userSummaryLeaveUserSummary:function(){this.userSummaryLeaveElementTimeout=setTimeout(function(){this._inUserSummary=!1,this.userSummaryToggleUserSummary()}.bind(this),100)},_getAnchor:function(e){var t=e.find("[data-user-summary-anchor]"),o=e.data("user-summary-anchor-class"),n=!!o;return t.length?t[0]:n?s()(o)[0]:e[0]}}},226:function(e,t,o){"use strict";var n=o(77),i=o.n(n),a=o(14),s=o(170);t.a={name:"VrLink",initializeVrLink:function(e){if(Object(s.a)())return void this.removeVrLink();var t,o=this._makeQuery(e);t="/vr-launcher?model="+a.a.vr.launcherUid+"&vr_link_navigation=1#"+o,this.$(".vr-link-container").html(['<a href="'+t+'" class="button btn-medium btn-important">','   <i class="custom-icons icon-vr-icon"></i> View in VR',"</a>"].join(""))},_makeQuery:function(e){var t="";return t=e.user?this._getQuery("user",e.user):e.collection?this._getQuery("collection",e.collection):e.categories&&e.categories.length?this._getQuery("category",e.categories[0].uid)+"&extra="+e.categories[0].slug:"query="+this.createJsonUrlParam(e),e.cursor&&(t+="&cursor="+e.cursor),t},createJsonUrlParam:function(e){for(var t in e){var o=e[t];(!o||Array.isArray(o)&&!o.length)&&delete e[t]}return encodeURIComponent(i()(e))},_getQuery:function(e,t){return e+"?resourceIdentifier="+t},removeVrLink:function(){this.$(".vr-link-container").empty()}}},227:function(e,t,o){"use strict";var n=o(5),i=o.n(n),a=o(0),s=(o.n(a),o(228)),r=o.n(s),l=o(4),p=o(14),u=Object(a.memoize)(function(){return r.a.connect(p.a.getstream.apiKey,null,p.a.getstream.appId,{location:p.a.getstream.location})}),c=Object(a.memoize)(function(){var e=l.a.me().get("streamFeedsCredentials").filter(function(e){return"notifications"===e.feedName})[0];return u().feed(e.feedName,e.feedId,e.token)}),d=Object(a.memoize)(function(){var e=l.a.me().get("streamFeedsCredentials").filter(function(e){return"models"===e.feedName})[0];return u().feed(e.feedName,e.feedId,e.token)});t.a={subscribeToActivities:function(){if(!l.a.me().isAuthenticated())return i.a.reject();var e=c();return e.subscribe.apply(e,arguments)},subscribeToModels:function(){if(!l.a.me().isAuthenticated())return i.a.reject();var e=d();return e.subscribe.apply(e,arguments)}}},228:function(e,t){!function(o,n){"object"==typeof t&&"object"==typeof e?e.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof t?t.stream=n():o.stream=n()}(this,function(){return function(e){function t(n){if(o[n])return o[n].exports;var i=o[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var o={};return t.m=e,t.c=o,t.p="dist/",t(0)}([function(e,t,o){(function(t){"use strict";function n(e,o,n,a){if(void 0!==t&&t.env.STREAM_URL&&!e){var s=/https\:\/\/(\w+)\:(\w+)\@([\w-]*).*\?app_id=(\d+)/.exec(t.env.STREAM_URL);e=s[1],o=s[2];var r=s[3];n=s[4],void 0===a&&(a={}),"getstream"!==r&&"stream-io-api"!==r&&(a.location=r)}return new i(e,o,n,a)}var i=o(2),a=o(5),s=o(7),r=o(3);e.exports.connect=n,e.exports.errors=a,e.exports.request=r,e.exports.signing=s,e.exports.Client=i}).call(t,o(1))},function(e,t){function o(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(e){if(u===setTimeout)return setTimeout(e,0);if((u===o||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function a(e){if(c===clearTimeout)return clearTimeout(e);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{return c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}function s(){f&&m&&(f=!1,m.length?h=m.concat(h):v=-1,h.length&&r())}function r(){if(!f){var e=i(s);f=!0;for(var t=h.length;t;){for(m=h,h=[];++v<t;)m&&m[v].run();v=-1,t=h.length}m=null,f=!1,a(e)}}function l(e,t){this.fun=e,this.array=t}function p(){}var u,c,d=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:o}catch(e){u=o}try{c="function"==typeof clearTimeout?clearTimeout:n}catch(e){c=n}}();var m,h=[],f=!1,v=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];h.push(new l(e,t)),1!==h.length||f||i(r)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=p,d.addListener=p,d.once=p,d.off=p,d.removeListener=p,d.removeAllListeners=p,d.emit=p,d.prependListener=p,d.prependOnceListener=p,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,o){(function(t){"use strict";var n=o(3),i=o(4),a=o(7),s=o(5),r=o(6),l=o(9),p=o(11),u=o(9),c=o(15),d=o(16),m=function(){this.initialize.apply(this,arguments)};if(m.prototype={baseUrl:"https://api.stream-io-api.com/api/",baseAnalyticsUrl:"https://analytics.stream-io-api.com/analytics/",initialize:function(e,o,n,i){this.apiKey=e,this.apiSecret=o,this.appId=n,this.options=i||{},this.version=this.options.version||"v1.0",this.fayeUrl=this.options.fayeUrl||"https://faye.getstream.io/faye",this.fayeClient=null,this.group=this.options.group||"unspecified",this.subscriptions={},this.expireTokens=!!this.options.expireTokens&&this.options.expireTokens,this.location=this.options.location;var a=this.options.protocol||"https";if(this.location&&(this.baseUrl=a+"://"+this.location+"-api.stream-io-api.com/api/"),void 0!==t&&t.env.LOCAL&&(this.baseUrl="http://localhost:8000/api/"),void 0!==t&&t.env.LOCAL_FAYE&&(this.fayeUrl="http://localhost:9999/faye/"),void 0!==t&&t.env.STREAM_BASE_URL&&(this.baseUrl=t.env.STREAM_BASE_URL),void 0!==t&&t.env.STREAM_ANALYTICS_BASE_URL&&(this.baseAnalyticsUrl=t.env.STREAM_ANALYTICS_BASE_URL),this.handlers={},this.browser="undefined"!=typeof window,this.node=!this.browser,this.browser&&this.apiSecret)throw new s.FeedError("You are publicly sharing your private key. Dont use the private key while in the browser.")},on:function(e,t){this.handlers[e]=t},off:function(e){void 0===e?this.handlers={}:delete this.handlers[e]},send:function(){var e=Array.prototype.slice.call(arguments),t=e[0];e=e.slice(1),this.handlers[t]&&this.handlers[t].apply(this,e)},wrapPromiseTask:function(e,t,o){var n=this,i=this.wrapCallback(e);return function(e,a,r){e?o(new s.StreamApiError(""+e,r,a)):/^2/.test(""+a.statusCode)?t(r):o(new s.StreamApiError(JSON.stringify(r)+" with HTTP status code "+a.statusCode,r,a)),i.call(n,e,a,r)}},wrapCallback:function(e){function t(){var t=Array.prototype.slice.call(arguments),n=["response"].concat(t);o.send.apply(o,n),void 0!==e&&e.apply(o,t)}var o=this;return t},userAgent:function(){return"stream-javascript-client-"+(this.node?"node":"browser")+"-unknown"},getReadOnlyToken:function(e,t){return this.feed(e,t).getReadOnlyToken()},getReadWriteToken:function(e,t){return this.feed(e,t).getReadWriteToken()},feed:function(e,t,o,n,l){if(l=l||{},!e||!t)throw new s.FeedError('Please provide a feed slug and user id, ie client.feed("user", "1")');if(-1!==e.indexOf(":"))throw new s.FeedError('Please initialize the feed using client.feed("user", "1") not client.feed("user:1")');if(r.validateFeedSlug(e),r.validateUserId(t),!this.apiSecret&&!o)throw new s.FeedError("Missing token, in client side mode please provide a feed secret");if(this.apiSecret&&!o){var p=""+e+t;o=l.readOnly?this.getReadOnlyToken(e,t):a.sign(this.apiSecret,p)}return new i(this,e,t,o,n)},enrichUrl:function(e){return this.baseUrl+this.version+"/"+e},enrichKwargs:function(e){e.url=this.enrichUrl(e.url),void 0===e.qs&&(e.qs={}),e.qs.api_key=this.apiKey,e.qs.location=this.group,e.json=!0;var t=e.signature||this.signature;return e.headers={},a.isJWTSignature(t)?(e.headers["stream-auth-type"]="jwt",t=t.split(" ").reverse()[0]):e.headers["stream-auth-type"]="simple",e.headers.Authorization=t,e.headers["X-Stream-Client"]=this.userAgent(),e.withCredentials=!1,e},signActivity:function(e){return this.signActivities([e])[0]},signActivities:function(e){if(!this.apiSecret)return e;for(var t=0;t<e.length;t++){for(var o=e[t],n=o.to||[],i=[],a=0;a<n.length;a++){var s=n[a],r=s.split(":")[0],l=s.split(":")[1],p=this.feed(r,l).token,u=s+" "+p;i.push(u)}o.to=i}return e},getFayeAuthorization:function(){var e=this.apiKey,t=this;return{incoming:function(e,t){t(e)},outgoing:function(o,n){if(o.subscription&&t.subscriptions[o.subscription]){var i=t.subscriptions[o.subscription];o.ext={user_id:i.userId,api_key:e,signature:i.token}}n(o)}}},getFayeClient:function(){if(null===this.fayeClient){this.fayeClient=new d.Client(this.fayeUrl);var e=this.getFayeAuthorization();this.fayeClient.addExtension(e)}return this.fayeClient},get:function(e,t){return new p(function(o,i){this.send("request","get",e,t),e=this.enrichKwargs(e),e.method="GET";var a=this.wrapPromiseTask(t,o,i);n(e,a)}.bind(this))},post:function(e,t){return new p(function(o,i){this.send("request","post",e,t),e=this.enrichKwargs(e),e.method="POST";var a=this.wrapPromiseTask(t,o,i);n(e,a)}.bind(this))},delete:function(e,t){return new p(function(o,i){this.send("request","delete",e,t),e=this.enrichKwargs(e),e.method="DELETE";var a=this.wrapPromiseTask(t,o,i);n(e,a)}.bind(this))},updateActivities:function(e,t){if(!(e instanceof Array))throw new TypeError("The activities argument should be an Array");var o=a.JWTScopeToken(this.apiSecret,"activities","*",{feedId:"*",expireTokens:this.expireTokens}),n={activities:e};return this.post({url:"activities/",body:n,signature:o},t)},updateActivity:function(e){return this.updateActivities([e])}},u&&(m.prototype.createRedirectUrl=function(e,t,o){var n=c.parse(e);if(!(n.host||n.hostname&&n.port||n.isUnix))throw new s.MissingSchemaError('Invalid URI: "'+c.format(n)+'"');var i=a.JWTScopeToken(this.apiSecret,"redirect_and_track","*",{userId:t,expireTokens:this.expireTokens}),l=this.baseAnalyticsUrl+"redirect/",p={auth_type:"jwt",authorization:i,url:e,api_key:this.apiKey,events:JSON.stringify(o)};return l+"?"+r.rfc3986(u.stringify(p,null,null,{}))}),l)for(var h in l)l.hasOwnProperty(h)&&(m.prototype[h]=l[h]);e.exports=m}).call(t,o(1))},function(e,t){function o(e,t){if("function"!=typeof t)throw new Error("Bad callback given: "+t);if(!e)throw new Error("No options given");var s=e.onResponse;if(e="string"==typeof e?{uri:e}:JSON.parse(JSON.stringify(e)),e.onResponse=s,e.verbose&&(o.log=a()),e.url&&(e.uri=e.url,delete e.url),!e.uri&&""!==e.uri)throw new Error("options.uri is a required argument");if("string"!=typeof e.uri)throw new Error("options.uri must be a string");for(var r=["proxy","_redirectsFollowed","maxRedirects","followRedirect"],p=0;p<r.length;p++)if(e[r[p]])throw new Error("options."+r[p]+" is not supported");if(e.callback=t,e.method=e.method||"GET",e.headers=e.headers||{},e.body=e.body||null,e.timeout=e.timeout||o.DEFAULT_TIMEOUT,e.headers.host)throw new Error("Options.headers.host is not supported");e.json&&(e.headers.accept=e.headers.accept||"application/json","GET"!==e.method&&(e.headers["content-type"]="application/json"),"boolean"!=typeof e.json?e.body=JSON.stringify(e.json):"string"!=typeof e.body&&null!==e.body&&(e.body=JSON.stringify(e.body)));var u=function(e){var t=[];for(var o in e)e.hasOwnProperty(o)&&t.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return t.join("&")};if(e.qs){var c="string"==typeof e.qs?e.qs:u(e.qs);-1!==e.uri.indexOf("?")?e.uri=e.uri+"&"+c:e.uri=e.uri+"?"+c}if(e.form){if("string"==typeof e.form)throw"form name unsupported";if("POST"===e.method){var d=(e.encoding||"application/x-www-form-urlencoded").toLowerCase();switch(e.headers["content-type"]=d,d){case"application/x-www-form-urlencoded":e.body=u(e.form).replace(/%20/g,"+");break;case"multipart/form-data":var m=function(e){var t={};t.boundry="-------------------------------"+Math.floor(1e9*Math.random());var o=[];for(var n in e)e.hasOwnProperty(n)&&o.push("--"+t.boundry+'\nContent-Disposition: form-data; name="'+n+'"\n\n'+e[n]+"\n");return o.push("--"+t.boundry+"--"),t.body=o.join(""),t.length=t.body.length,t.type="multipart/form-data; boundary="+t.boundry,t}(e.form);e.body=m.body,e.headers["content-type"]=m.type;break;default:throw new Error("unsupported encoding:"+d)}}}return e.onResponse=e.onResponse||i,!0===e.onResponse&&(e.onResponse=t,e.callback=i),!e.headers.authorization&&e.auth&&(e.headers.authorization="Basic "+l(e.auth.username+":"+e.auth.password)),n(e)}function n(e){function t(){c=!0;var t=new Error("ETIMEDOUT");return t.code="ETIMEDOUT",t.duration=e.timeout,o.log.error("Timeout",{id:l._id,milliseconds:e.timeout}),e.callback(t,l)}function n(e){if(c)return o.log.debug("Ignoring timed out state change",{state:l.readyState,id:l.id});o.log.debug("State change",{state:l.readyState,id:l.id,timed_out:c}),1===l.readyState?o.log.debug("Request started",{id:l.id}):2===l.readyState?i():3===l.readyState?(i(),a()):4===l.readyState&&(i(),a(),s())}function i(){if(!f.response){if(f.response=!0,o.log.debug("Got response",{id:l.id,status:l.status}),clearTimeout(l.timeoutTimer),l.statusCode=l.status,d&&0==l.statusCode){var t=new Error("CORS request rejected: "+e.uri);return t.cors="rejected",f.loading=!0,f.end=!0,e.callback(t,l)}e.onResponse(null,l)}}function a(){f.loading||(f.loading=!0,o.log.debug("Response body loading",{id:l.id}))}function s(){if(!f.end){if(f.end=!0,o.log.debug("Request done",{id:l.id}),l.body=l.responseText,e.json)try{l.body=JSON.parse(l.responseText)}catch(t){return e.callback(t,l)}e.callback(null,l,l.body)}}var l=new p,c=!1,d=r(e.uri),m="withCredentials"in l;if(u+=1,l.seq_id=u,l.id=u+": "+e.method+" "+e.uri,l._id=l.id,d&&!m){var h=new Error("Browser does not support cross-origin request: "+e.uri);return h.cors="unsupported",e.callback(h,l)}l.timeoutTimer=setTimeout(t,e.timeout);var f={response:!1,loading:!1,end:!1};l.onreadystatechange=n,l.open(e.method,e.uri,!0),d&&(l.withCredentials=!!e.withCredentials);for(var v in e.headers)l.setRequestHeader(v,e.headers[v]);return l.send(e.body),l}function i(){}function a(){var e,t,o={},n=["trace","debug","info","warn","error"];for(t=0;t<n.length;t++)e=n[t],o[e]=i,"undefined"!=typeof console&&console&&console[e]&&(o[e]=s(console,e));return o}function s(e,t){function o(o,n){return"object"==typeof n&&(o+=" "+JSON.stringify(n)),e[t].call(e,o)}return o}function r(e){if(!window.location)return!1;var t,o=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/;try{t=location.href}catch(e){t=document.createElement("a"),t.href="",t=t.href}var n=o.exec(t.toLowerCase())||[],i=o.exec(e.toLowerCase());return!(!i||i[1]==n[1]&&i[2]==n[2]&&(i[3]||("http:"===i[1]?80:443))==(n[3]||("http:"===n[1]?80:443)))}function l(e){var t,o,n,i,a,s,r,l,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u=0,c=0,d="",m=[];if(!e)return e;do{t=e.charCodeAt(u++),o=e.charCodeAt(u++),n=e.charCodeAt(u++),l=t<<16|o<<8|n,i=l>>18&63,a=l>>12&63,s=l>>6&63,r=63&l,m[c++]=p.charAt(i)+p.charAt(a)+p.charAt(s)+p.charAt(r)}while(u<e.length);switch(d=m.join(""),e.length%3){case 1:d=d.slice(0,-2)+"==";break;case 2:d=d.slice(0,-1)+"="}return d}var p=XMLHttpRequest;if(!p)throw new Error("missing XMLHttpRequest");o.log={trace:i,debug:i,info:i,warn:i,error:i};Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var o,n;if(null===this)throw new TypeError(" this is null or not defined");var i=Object(this),a=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(o=t),n=0;n<a;){var s;n in i&&(s=i[n],e.call(o,s,n,i)),n++}});var u=0;o.withCredentials=!1,o.DEFAULT_TIMEOUT=18e4,o.defaults=function(e,t){var n=function(t){return function(o,n){o="string"==typeof o?{uri:o}:JSON.parse(JSON.stringify(o));for(var i in e)void 0===o[i]&&(o[i]=e[i]);return t(o,n)}},i=n(o);return i.get=n(o.get),i.post=n(o.post),i.put=n(o.put),i.head=n(o.head),i},["get","put","post","head"].forEach(function(e){var t=e.toUpperCase();o[e.toLowerCase()]=function(e){"string"==typeof e?e={method:t,uri:e}:(e=JSON.parse(JSON.stringify(e)),e.method=t);var n=[e].concat(Array.prototype.slice.apply(arguments,[1]));return o.apply(this,n)}}),o.couch=function(e,t){function n(e,o,n){if(e)return t(e,o,n);if((o.statusCode<200||o.statusCode>299)&&n.error){e=new Error("CouchDB error: "+(n.error.reason||n.error.error));for(var i in n)e[i]=n[i];return t(e,o,n)}return t(e,o,n)}return"string"==typeof e&&(e={uri:e}),e.json=!0,e.body&&(e.json=e.body),delete e.body,t=t||i,o(e,n)},e.exports=o},function(e,t,o){"use strict";var n=o(5),i=o(6),a=o(7),s=function(){this.initialize.apply(this,arguments)};s.prototype={initialize:function(e,t,o,n){this.client=e,this.slug=t,this.userId=o,this.id=this.slug+":"+this.userId,this.token=n,this.feedUrl=this.id.replace(":","/"),this.feedTogether=this.id.replace(":",""),this.signature=this.feedTogether+" "+this.token,this.notificationChannel="site-"+this.client.appId+"-feed-"+this.feedTogether},addActivity:function(e,t){return e=this.client.signActivity(e),this.client.post({url:"feed/"+this.feedUrl+"/",body:e,signature:this.signature},t)},removeActivity:function(e,t){var o=e.foreignId?e.foreignId:e,n={};return e.foreignId&&(n.foreign_id="1"),this.client.delete({url:"feed/"+this.feedUrl+"/"+o+"/",qs:n,signature:this.signature},t)},addActivities:function(e,t){e=this.client.signActivities(e);var o={activities:e};return this.client.post({url:"feed/"+this.feedUrl+"/",body:o,signature:this.signature},t)},follow:function(e,t,o,n){i.validateFeedSlug(e),i.validateUserId(t);var a,s=arguments[arguments.length-1];n=s.call?s:void 0;var r=e+":"+t;o&&!o.call&&void 0!==o.limit&&null!==o.limit&&(a=o.limit);var l={target:r};return void 0!==a&&null!==a&&(l.activity_copy_limit=a),this.client.post({url:"feed/"+this.feedUrl+"/following/",body:l,signature:this.signature},n)},unfollow:function(e,t,o,n){var a={},s={};"function"==typeof o&&(n=o),"object"==typeof o&&(a=o),"boolean"==typeof a.keepHistory&&a.keepHistory&&(s.keep_history="1"),i.validateFeedSlug(e),i.validateUserId(t);var r=e+":"+t;return this.client.delete({url:"feed/"+this.feedUrl+"/following/"+r+"/",qs:s,signature:this.signature},n)},following:function(e,t){return void 0!==e&&e.filter&&(e.filter=e.filter.join(",")),this.client.get({url:"feed/"+this.feedUrl+"/following/",qs:e,signature:this.signature},t)},followers:function(e,t){return void 0!==e&&e.filter&&(e.filter=e.filter.join(",")),this.client.get({url:"feed/"+this.feedUrl+"/followers/",qs:e,signature:this.signature},t)},get:function(e,t){return e&&e.mark_read&&e.mark_read.join&&(e.mark_read=e.mark_read.join(",")),e&&e.mark_seen&&e.mark_seen.join&&(e.mark_seen=e.mark_seen.join(",")),this.client.get({url:"feed/"+this.feedUrl+"/",qs:e,signature:this.signature},t)},getFayeClient:function(){return this.client.getFayeClient()},subscribe:function(e){if(!this.client.appId)throw new n.SiteError("Missing app id, which is needed to subscribe, use var client = stream.connect(key, secret, appId);");return this.client.subscriptions["/"+this.notificationChannel]={token:this.token,userId:this.notificationChannel},this.getFayeClient().subscribe("/"+this.notificationChannel,e)},getReadOnlyToken:function(){var e=""+this.slug+this.userId;return a.JWTScopeToken(this.client.apiSecret,"*","read",{feedId:e,expireTokens:this.client.expireTokens})},getReadWriteToken:function(){var e=""+this.slug+this.userId;return a.JWTScopeToken(this.client.apiSecret,"*","*",{feedId:e,expireTokens:this.client.expireTokens})},updateActivityToTargets:function(e,t,o,n,i){if(!e)throw new Error("Missing `foreign_id` parameter!");if(!t)throw new Error("Missing `time` parameter!");if(!o&&!n&&!i)throw new Error('Requires you to provide at least one parameter for `new_targets`, `added_targets`, or `removed_targets` - example: `updateActivityToTargets("foreignID:1234", new Date(), [new_targets...], [added_targets...], [removed_targets...])`');if(o&&(n||i))throw new Error("Can't include add_targets or removed_targets if you're also including new_targets");if(n&&i)for(var a=0;a<n.length;a++)for(var s=0;s<i.length;s++)if(i[s]==n[a])throw new Error("Can't have the same feed ID in added_targets and removed_targets.");var r={foreign_id:e,time:t};return o&&(r.new_targets=o),n&&(r.added_targets=n),i&&(r.removed_targets=i),this.client.post({url:"feed_targets/"+this.feedUrl+"/activity_to_targets/",signature:this.signature,body:r})}},e.exports=s},function(e,t){"use strict";function o(e,t){this.message=e,Error.call(this,this.message),i?Error.captureStackTrace(this,t):this.stack=a?(new Error).stack:""}var n=e.exports,i="function"==typeof Error.captureStackTrace,a=!!(new Error).stack;n._Abstract=o,o.prototype=new Error,n.FeedError=function(e){o.call(this,e)},n.FeedError.prototype=new o,n.SiteError=function(e){o.call(this,e)},n.SiteError.prototype=new o,n.MissingSchemaError=function(e){o.call(this,e)},n.MissingSchemaError.prototype=new o,n.StreamApiError=function(e,t,n){this.error=t,this.response=n,o.call(this,e)},n.StreamApiError.prototype=new o},function(e,t,o){"use strict";function n(e){var t=e.split(":");if(2!==t.length)throw new r.FeedError("Invalid feedId, expected something like user:1 got "+e);var o=t[0],n=t[1];return i(o),a(n),e}function i(e){if(!l.test(e))throw new r.FeedError("Invalid feedSlug, please use letters, numbers or _ got: "+e);return e}function a(e){if(!l.test(e))throw new r.FeedError("Invalid userId, please use letters, numbers or _ got: "+e);return e}function s(e){return e.replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}var r=o(5),l=/^[\w-]+$/;t.validateFeedId=n,t.validateFeedSlug=i,t.validateUserId=a,t.rfc3986=s},function(e,t,o){"use strict";function n(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/^=+/,"").replace(/=+$/,"")}function i(e){try{return d.atob(r(e))}catch(e){if("InvalidCharacterError"===e.name)return;throw e}}function a(e){if("object"==typeof e)return e;try{return JSON.parse(e)}catch(e){return}}function s(e){var t=e.length%4;if(!t)return e;for(var o=4-t;o--;)e+="=";return e}function r(e){return s(e).replace(/\-/g,"+").replace(/_/g,"/")}function l(e){return a(i(e.split(".",1)[0]))}var p=o(8),u=o(9),c=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/,d=o(10);t.headerFromJWS=l,t.sign=function(e,t){var o=new p.createHash("sha1").update(e).digest();return n(p.createHmac("sha1",o).update(t).digest("base64"))},t.JWTScopeToken=function(e,t,o,n){var i=n||{},a=!i.expireTokens||!i.expireTokens,s={resource:t,action:o};return i.feedId&&(s.feed_id=i.feedId),i.userId&&(s.user_id=i.userId),u.sign(s,e,{algorithm:"HS256",noTimestamp:a})},t.isJWTSignature=function(e){var t=e.split(" ")[1]||e;return c.test(t)&&!!l(t)}},function(e,t){},function(e,t){"use strict"},function(e,t,o){!function(){function e(e){this.message=e}var o=t,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.prototype=new Error,e.prototype.name="InvalidCharacterError",o.btoa||(o.btoa=function(t){for(var o,i,a=String(t),s=0,r=n,l="";a.charAt(0|s)||(r="=",s%1);l+=r.charAt(63&o>>8-s%1*8)){if((i=a.charCodeAt(s+=.75))>255)throw new e("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");o=o<<8|i}return l}),o.atob||(o.atob=function(t){var o=String(t).replace(/[=]+$/,"");if(o.length%4==1)throw new e("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,a,s=0,r=0,l="";a=o.charAt(r++);~a&&(i=s%4?64*i+a:a,s++%4)?l+=String.fromCharCode(255&i>>(-2*s&6)):0)a=n.indexOf(a);return l})}()},function(e,t,o){"use strict";var n=o(12);e.exports=n},function(e,t,o){"use strict";var n=o(13),i=function(e){return e},a=function(e){throw e},s=function(e){if(this._state=0,this._onFulfilled=[],this._onRejected=[],"function"==typeof e){var t=this;e(function(e){c(t,e)},function(e){m(t,e)})}};s.prototype.then=function(e,t){var o=new s;return r(this,e,o),l(this,t,o),o},s.prototype.catch=function(e){return this.then(null,e)};var r=function(e,t,o){"function"!=typeof t&&(t=i);var n=function(e){p(t,e,o)};0===e._state?e._onFulfilled.push(n):1===e._state&&n(e._value)},l=function(e,t,o){"function"!=typeof t&&(t=a);var n=function(e){p(t,e,o)};0===e._state?e._onRejected.push(n):2===e._state&&n(e._reason)},p=function(e,t,o){n(function(){u(e,t,o)})},u=function(e,t,o){var n;try{n=e(t)}catch(e){return m(o,e)}n===o?m(o,new TypeError("Recursive promise chain detected")):c(o,n)},c=function(e,t){var o,n,i=!1;try{if(o=typeof t,"function"!=typeof(n=null!==t&&("function"===o||"object"===o)&&t.then))return d(e,t);n.call(t,function(t){i^(i=!0)&&c(e,t)},function(t){i^(i=!0)&&m(e,t)})}catch(t){if(!(i^(i=!0)))return;m(e,t)}},d=function(e,t){if(0===e._state){e._state=1,e._value=t,e._onRejected=[];for(var o,n=e._onFulfilled;o=n.shift();)o(t)}},m=function(e,t){if(0===e._state){e._state=2,e._reason=t,e._onFulfilled=[];for(var o,n=e._onRejected;o=n.shift();)o(t)}};s.resolve=function(e){return new s(function(t,o){t(e)})},s.reject=function(e){return new s(function(t,o){o(e)})},s.all=function(e){return new s(function(t,o){var n,i=[],a=e.length;if(0===a)return t(i);for(n=0;n<a;n++)!function(e,n){s.resolve(e).then(function(e){i[n]=e,0==--a&&t(i)},o)}(e[n],n)})},s.race=function(e){return new s(function(t,o){for(var n=0,i=e.length;n<i;n++)s.resolve(e[n]).then(t,o)})},s.deferred=s.pending=function(){var e={};return e.promise=new s(function(t,o){e.resolve=t,e.reject=o}),e},e.exports=s},function(e,t,o){"use strict";function n(){if(l.length)throw l.shift()}function i(e){var t;t=r.length?r.pop():new a,t.task=e,s(t)}function a(){this.task=null}var s=o(14),r=[],l=[],p=s.makeRequestCallFromTimer(n);e.exports=i,a.prototype.call=function(){try{this.task.call()}catch(e){i.onerror?i.onerror(e):(l.push(e),p())}finally{this.task=null,r[r.length]=this}}},function(e,t){(function(t){"use strict";function o(e){s.length||(a(),r=!0),s[s.length]=e}function n(){for(;l<s.length;){var e=l;if(l+=1,s[e].call(),l>p){for(var t=0,o=s.length-l;t<o;t++)s[t]=s[t+l];s.length-=l,l=0}}s.length=0,l=0,r=!1}function i(e){return function(){function t(){clearTimeout(o),clearInterval(n),e()}var o=setTimeout(t,0),n=setInterval(t,50)}}e.exports=o;var a,s=[],r=!1,l=0,p=1024,u=void 0!==t?t:self,c=u.MutationObserver||u.WebKitMutationObserver;a="function"==typeof c?function(e){var t=1,o=new c(e),n=document.createTextNode("");return o.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}(n):i(n),o.requestFlush=a,o.makeRequestCallFromTimer=i}).call(t,function(){return this}())},function(e,t){},function(e,t,o){"use strict";var n=o(17),i=o(18),a={VERSION:n.VERSION,Client:o(20),Scheduler:o(45)};i.wrapper=a,e.exports=a},function(e,t){e.exports={VERSION:"1.2.4",BAYEUX_VERSION:"1.0",ID_LENGTH:160,JSONP_CALLBACK:"jsonpcallback",CONNECTION_TYPES:["long-polling","cross-origin-long-polling","callback-polling","websocket","eventsource","in-process"],MANDATORY_CONNECTION_TYPES:["long-polling","callback-polling","in-process"]}},function(e,t,o){"use strict";var n=o(19),i={LOG_LEVELS:{fatal:4,error:3,warn:2,info:1,debug:0},writeLog:function(e,t){var o=i.logger||(i.wrapper||i).logger;if(o){var a=Array.prototype.slice.apply(e),s="[Faye",r=this.className,l=a.shift().replace(/\?/g,function(){try{return n(a.shift())}catch(e){return"[Object]"}});r&&(s+="."+r),s+="] ","function"==typeof o[t]?o[t](s+l):"function"==typeof o&&o(s+l)}}};for(var a in i.LOG_LEVELS)!function(e){i[e]=function(){this.writeLog(arguments,e)}}(a);e.exports=i},function(e,t){"use strict";e.exports=function(e){return JSON.stringify(e,function(e,t){return this[e]instanceof Array?this[e]:t})}},function(e,t,o){(function(t){"use strict";var n=o(13),i=o(21),a=(o(12),o(23)),s=o(24),r=o(25),l=o(17),p=o(22),u=o(26),c=o(27),d=o(18),m=o(28),h=o(30),f=o(32),v=o(46),b=o(47),g=o(48),k=o(49),_=i({className:"Client",UNCONNECTED:1,CONNECTING:2,CONNECTED:3,DISCONNECTED:4,HANDSHAKE:"handshake",RETRY:"retry",NONE:"none",CONNECTION_TIMEOUT:60,DEFAULT_ENDPOINT:"/bayeux",INTERVAL:0,initialize:function(e,o){this.info("New client created for ?",e),o=o||{},u(o,["interval","timeout","endpoints","proxy","retry","scheduler","websocketExtensions","tls","ca"]),this._channels=new h.Set,this._dispatcher=f.create(this,e||this.DEFAULT_ENDPOINT,o),this._messageId=0,this._state=this.UNCONNECTED,this._responseCallbacks={},this._advice={reconnect:this.RETRY,interval:1e3*(o.interval||this.INTERVAL),timeout:1e3*(o.timeout||this.CONNECTION_TIMEOUT)},this._dispatcher.timeout=this._advice.timeout/1e3,this._dispatcher.bind("message",this._receiveMessage,this),r.Event&&void 0!==t.onbeforeunload&&r.Event.on(t,"beforeunload",function(){s.indexOf(this._dispatcher._disabled,"autodisconnect")<0&&this.disconnect()},this)},addWebsocketExtension:function(e){return this._dispatcher.addWebsocketExtension(e)},disable:function(e){return this._dispatcher.disable(e)},setHeader:function(e,t){return this._dispatcher.setHeader(e,t)},handshake:function(e,o){if(this._advice.reconnect!==this.NONE&&this._state===this.UNCONNECTED){this._state=this.CONNECTING;var i=this;this.info("Initiating handshake with ?",a.stringify(this._dispatcher.endpoint)),this._dispatcher.selectTransport(l.MANDATORY_CONNECTION_TYPES),this._sendMessage({channel:h.HANDSHAKE,version:l.BAYEUX_VERSION,supportedConnectionTypes:this._dispatcher.getConnectionTypes()},{},function(a){a.successful?(this._state=this.CONNECTED,this._dispatcher.clientId=a.clientId,this._dispatcher.selectTransport(a.supportedConnectionTypes),this.info("Handshake successful: ?",this._dispatcher.clientId),this.subscribe(this._channels.getKeys(),!0),e&&n(function(){e.call(o)})):(this.info("Handshake unsuccessful"),t.setTimeout(function(){i.handshake(e,o)},1e3*this._dispatcher.retry),this._state=this.UNCONNECTED)},this)}},connect:function(e,t){if(this._advice.reconnect!==this.NONE&&this._state!==this.DISCONNECTED){if(this._state===this.UNCONNECTED)return this.handshake(function(){this.connect(e,t)},this);this.callback(e,t),this._state===this.CONNECTED&&(this.info("Calling deferred actions for ?",this._dispatcher.clientId),this.setDeferredStatus("succeeded"),this.setDeferredStatus("unknown"),this._connectRequest||(this._connectRequest=!0,this.info("Initiating connection for ?",this._dispatcher.clientId),this._sendMessage({channel:h.CONNECT,clientId:this._dispatcher.clientId,connectionType:this._dispatcher.connectionType},{},this._cycleConnection,this)))}},disconnect:function(){if(this._state===this.CONNECTED){this._state=this.DISCONNECTED,this.info("Disconnecting ?",this._dispatcher.clientId);var e=new g;return this._sendMessage({channel:h.DISCONNECT,clientId:this._dispatcher.clientId},{},function(t){t.successful?(this._dispatcher.close(),e.setDeferredStatus("succeeded")):e.setDeferredStatus("failed",v.parse(t.error))},this),this.info("Clearing channel listeners for ?",this._dispatcher.clientId),this._channels=new h.Set,e}},subscribe:function(e,t,o){if(e instanceof Array)return s.map(e,function(e){return this.subscribe(e,t,o)},this);var n=new k(this,e,t,o),i=!0===t;return this._channels.hasSubscription(e)&&!i?(this._channels.subscribe([e],n),n.setDeferredStatus("succeeded"),n):(this.connect(function(){this.info("Client ? attempting to subscribe to ?",this._dispatcher.clientId,e),i||this._channels.subscribe([e],n),this._sendMessage({channel:h.SUBSCRIBE,clientId:this._dispatcher.clientId,subscription:e},{},function(t){if(!t.successful)return n.setDeferredStatus("failed",v.parse(t.error)),this._channels.unsubscribe(e,n);var o=[].concat(t.subscription);this.info("Subscription acknowledged for ? to ?",this._dispatcher.clientId,o),n.setDeferredStatus("succeeded")},this)},this),n)},unsubscribe:function(e,t){if(e instanceof Array)return s.map(e,function(e){return this.unsubscribe(e,t)},this);this._channels.unsubscribe(e,t)&&this.connect(function(){this.info("Client ? attempting to unsubscribe from ?",this._dispatcher.clientId,e),this._sendMessage({channel:h.UNSUBSCRIBE,clientId:this._dispatcher.clientId,subscription:e},{},function(e){if(e.successful){var t=[].concat(e.subscription);this.info("Unsubscription acknowledged for ? from ?",this._dispatcher.clientId,t)}},this)},this)},publish:function(e,t,o){u(o||{},["attempts","deadline"]);var n=new g;return this.connect(function(){this.info("Client ? queueing published message to ?: ?",this._dispatcher.clientId,e,t),this._sendMessage({channel:e,data:t,clientId:this._dispatcher.clientId},o,function(e){e.successful?n.setDeferredStatus("succeeded"):n.setDeferredStatus("failed",v.parse(e.error))},this)},this),n},_sendMessage:function(e,t,o,n){e.id=this._generateMessageId();var i=this._advice.timeout?1.2*this._advice.timeout/1e3:1.2*this._dispatcher.retry;this.pipeThroughExtensions("outgoing",e,null,function(e){e&&(o&&(this._responseCallbacks[e.id]=[o,n]),this._dispatcher.sendMessage(e,i,t||{}))},this)},_generateMessageId:function(){return this._messageId+=1,this._messageId>=Math.pow(2,32)&&(this._messageId=0),this._messageId.toString(36)},_receiveMessage:function(e){var t,o=e.id;void 0!==e.successful&&(t=this._responseCallbacks[o],delete this._responseCallbacks[o]),this.pipeThroughExtensions("incoming",e,null,function(e){e&&(e.advice&&this._handleAdvice(e.advice),this._deliverMessage(e),t&&t[0].call(t[1],e))},this)},_handleAdvice:function(e){p(this._advice,e),this._dispatcher.timeout=this._advice.timeout/1e3,this._advice.reconnect===this.HANDSHAKE&&this._state!==this.DISCONNECTED&&(this._state=this.UNCONNECTED,this._dispatcher.clientId=null,this._cycleConnection())},_deliverMessage:function(e){e.channel&&void 0!==e.data&&(this.info("Client ? calling listeners for ? with ?",this._dispatcher.clientId,e.channel,e.data),this._channels.distributeMessage(e))},_cycleConnection:function(){this._connectRequest&&(this._connectRequest=null,this.info("Closed connection for ?",this._dispatcher.clientId));var e=this;t.setTimeout(function(){e.connect()},this._advice.interval)}});p(_.prototype,c),p(_.prototype,m),p(_.prototype,d),p(_.prototype,b),e.exports=_}).call(t,function(){return this}())},function(e,t,o){"use strict";var n=o(22);e.exports=function(e,t){"function"!=typeof e&&(t=e,e=Object);var o=function(){return this.initialize?this.initialize.apply(this,arguments)||this:this},i=function(){};return i.prototype=e.prototype,o.prototype=new i,n(o.prototype,t),o}},function(e,t){"use strict";e.exports=function(e,t,o){if(!t)return e;for(var n in t)t.hasOwnProperty(n)&&(e.hasOwnProperty(n)&&!1===o||e[n]!==t[n]&&(e[n]=t[n]));return e}},function(e,t){"use strict";e.exports={isURI:function(e){return e&&e.protocol&&e.host&&e.path},isSameOrigin:function(e){return e.protocol===location.protocol&&e.hostname===location.hostname&&e.port===location.port},parse:function(e){if("string"!=typeof e)return e;var t,o,n,i,a,s,r={},l=function(t,o){e=e.replace(o,function(e){return r[t]=e,""}),r[t]=r[t]||""};for(l("protocol",/^[a-z]+\:/i),l("host",/^\/\/[^\/\?#]+/),/^\//.test(e)||r.host||(e=location.pathname.replace(/[^\/]*$/,"")+e),l("pathname",/^[^\?#]*/),l("search",/^\?[^#]*/),l("hash",/^#.*/),r.protocol=r.protocol||location.protocol,r.host?(r.host=r.host.substr(2),t=r.host.split(":"),r.hostname=t[0],r.port=t[1]||""):(r.host=location.host,r.hostname=location.hostname,r.port=location.port),r.pathname=r.pathname||"/",r.path=r.pathname+r.search,o=r.search.replace(/^\?/,""),n=o?o.split("&"):[],s={},i=0,a=n.length;i<a;i++)t=n[i].split("="),s[decodeURIComponent(t[0]||"")]=decodeURIComponent(t[1]||"");return r.query=s,r.href=this.stringify(r),r},stringify:function(e){var t=e.protocol+"//"+e.hostname;return e.port&&(t+=":"+e.port),t+=e.pathname+this.queryString(e.query)+(e.hash||"")},queryString:function(e){var t=[];for(var o in e)e.hasOwnProperty(o)&&t.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return 0===t.length?"":"?"+t.join("&")}}},function(e,t){"use strict";e.exports={commonElement:function(e,t){for(var o=0,n=e.length;o<n;o++)if(-1!==this.indexOf(t,e[o]))return e[o];return null},indexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var o=0,n=e.length;o<n;o++)if(e[o]===t)return o;return-1},map:function(e,t,o){if(e.map)return e.map(t,o);var n=[];if(e instanceof Array)for(var i=0,a=e.length;i<a;i++)n.push(t.call(o||null,e[i],i));else for(var s in e)e.hasOwnProperty(s)&&n.push(t.call(o||null,s,e[s]));return n},filter:function(e,t,o){if(e.filter)return e.filter(t,o);for(var n=[],i=0,a=e.length;i<a;i++)t.call(o||null,e[i],i)&&n.push(e[i]);return n},asyncEach:function(e,t,o,n){var i=e.length,a=-1,s=0,r=!1,l=function(){if(s-=1,(a+=1)===i)return o&&o.call(n);t(e[a],u)},p=function(){if(!r){for(r=!0;s>0;)l();r=!1}},u=function(){s+=1,p()};u()}}},function(e,t){(function(t){"use strict";var o={_registry:[],on:function(e,t,o,n){var i=function(){o.call(n)};e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent("on"+t,i),this._registry.push({_element:e,_type:t,_callback:o,_context:n,_handler:i})},detach:function(e,t,o,n){for(var i,a=this._registry.length;a--;)i=this._registry[a],e&&e!==i._element||t&&t!==i._type||o&&o!==i._callback||n&&n!==i._context||(i._element.removeEventListener?i._element.removeEventListener(i._type,i._handler,!1):i._element.detachEvent("on"+i._type,i._handler),this._registry.splice(a,1),i=null)}};void 0!==t.onunload&&o.on(t,"unload",o.detach,o),e.exports={Event:o}}).call(t,function(){return this}())},function(e,t,o){"use strict";var n=o(24);e.exports=function(e,t){for(var o in e)if(n.indexOf(t,o)<0)throw new Error("Unrecognized option: "+o)}},function(e,t,o){(function(t){"use strict";var n=o(12);e.exports={then:function(e,t){var o=this;return this._promise||(this._promise=new n(function(e,t){o._resolve=e,o._reject=t})),0===arguments.length?this._promise:this._promise.then(e,t)},callback:function(e,t){return this.then(function(o){e.call(t,o)})},errback:function(e,t){return this.then(null,function(o){e.call(t,o)})},timeout:function(e,o){this.then();var n=this;this._timer=t.setTimeout(function(){n._reject(o)},1e3*e)},setDeferredStatus:function(e,o){this._timer&&t.clearTimeout(this._timer),this.then(),"succeeded"===e?this._resolve(o):"failed"===e?this._reject(o):delete this._promise}}}).call(t,function(){return this}())},function(e,t,o){"use strict";var n=o(22),i=o(29),a={countListeners:function(e){return this.listeners(e).length},bind:function(e,t,o){var n=Array.prototype.slice,i=function(){t.apply(o,n.call(arguments))};return this._listeners=this._listeners||[],this._listeners.push([e,t,o,i]),this.on(e,i)},unbind:function(e,t,o){this._listeners=this._listeners||[];for(var n,i=this._listeners.length;i--;)n=this._listeners[i],n[0]===e&&(!t||n[1]===t&&n[2]===o)&&(this._listeners.splice(i,1),this.removeListener(e,n[3]))}};n(a,i.prototype),a.trigger=a.emit,e.exports=a},function(e,t){function o(e,t){if(e.indexOf)return e.indexOf(t);for(var o=0;o<e.length;o++)if(t===e[o])return o;return-1}function n(){}var i="function"==typeof Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};e.exports=n,n.prototype.emit=function(e){if("error"===e&&(!this._events||!this._events.error||i(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var t=this._events[e];if(!t)return!1;if("function"==typeof t){switch(arguments.length){case 1:t.call(this);break;case 2:t.call(this,arguments[1]);break;case 3:t.call(this,arguments[1],arguments[2]);break;default:var o=Array.prototype.slice.call(arguments,1);t.apply(this,o)}return!0}if(i(t)){for(var o=Array.prototype.slice.call(arguments,1),n=t.slice(),a=0,s=n.length;a<s;a++)n[a].apply(this,o);return!0}return!1},n.prototype.addListener=function(e,t){if("function"!=typeof t)throw new Error("addListener only takes instances of Function");return this._events||(this._events={}),this.emit("newListener",e,t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){var o=this;return o.on(e,function n(){o.removeListener(e,n),t.apply(this,arguments)}),this},n.prototype.removeListener=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[e])return this;var n=this._events[e];if(i(n)){var a=o(n,t);if(a<0)return this;n.splice(a,1),0==n.length&&delete this._events[e]}else this._events[e]===t&&delete this._events[e];return this},n.prototype.removeAllListeners=function(e){return 0===arguments.length?(this._events={},this):(e&&this._events&&this._events[e]&&(this._events[e]=null),this)},n.prototype.listeners=function(e){return this._events||(this._events={}),this._events[e]||(this._events[e]=[]),i(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]}},function(e,t,o){"use strict";var n=o(21),i=o(22),a=o(28),s=o(31),r=n({initialize:function(e){this.id=this.name=e},push:function(e){this.trigger("message",e)},isUnused:function(){return 0===this.countListeners("message")}});i(r.prototype,a),i(r,{HANDSHAKE:"/meta/handshake",CONNECT:"/meta/connect",SUBSCRIBE:"/meta/subscribe",UNSUBSCRIBE:"/meta/unsubscribe",DISCONNECT:"/meta/disconnect",META:"meta",SERVICE:"service",expand:function(e){var t=this.parse(e),o=["/**",e],n=t.slice();n[n.length-1]="*",o.push(this.unparse(n));for(var i=1,a=t.length;i<a;i++)n=t.slice(0,i),n.push("**"),o.push(this.unparse(n));return o},isValid:function(e){return s.CHANNEL_NAME.test(e)||s.CHANNEL_PATTERN.test(e)},parse:function(e){return this.isValid(e)?e.split("/").slice(1):null},unparse:function(e){return"/"+e.join("/")},isMeta:function(e){var t=this.parse(e);return t?t[0]===this.META:null},isService:function(e){var t=this.parse(e);return t?t[0]===this.SERVICE:null},isSubscribable:function(e){return this.isValid(e)?!this.isMeta(e)&&!this.isService(e):null},Set:n({initialize:function(){this._channels={}},getKeys:function(){var e=[];for(var t in this._channels)e.push(t);return e},remove:function(e){delete this._channels[e]},hasSubscription:function(e){return this._channels.hasOwnProperty(e)},subscribe:function(e,t){for(var o,n=0,i=e.length;n<i;n++){o=e[n];(this._channels[o]=this._channels[o]||new r(o)).bind("message",t)}},unsubscribe:function(e,t){var o=this._channels[e];return!!o&&(o.unbind("message",t),!!o.isUnused()&&(this.remove(e),!0))},distributeMessage:function(e){for(var t=r.expand(e.channel),o=0,n=t.length;o<n;o++){var i=this._channels[t[o]];i&&i.trigger("message",e)}}})}),e.exports=r},function(e,t){"use strict";e.exports={CHANNEL_NAME:/^\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+(\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+)*$/,CHANNEL_PATTERN:/^(\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+)*\/\*{1,2}$/,ERROR:/^([0-9][0-9][0-9]:(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*(,(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*)*:(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*|[0-9][0-9][0-9]::(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*)$/,VERSION:/^([0-9])+(\.(([a-z]|[A-Z])|[0-9])(((([a-z]|[A-Z])|[0-9])|\-|\_))*)*$/}},function(e,t,o){(function(t){"use strict";var n=o(21),i=o(23),a=o(33),s=o(22),r=o(18),l=o(28),p=o(34),u=o(45),c=n({className:"Dispatcher",MAX_REQUEST_SIZE:2048,DEFAULT_RETRY:5,UP:1,DOWN:2,initialize:function(e,t,o){this._client=e,this.endpoint=i.parse(t),this._alternates=o.endpoints||{},this.cookies=a.CookieJar&&new a.CookieJar,this._disabled=[],this._envelopes={},this.headers={},this.retry=o.retry||this.DEFAULT_RETRY,this._scheduler=o.scheduler||u,this._state=0,this.transports={},this.wsExtensions=[],this.proxy=o.proxy||{},"string"==typeof this._proxy&&(this._proxy={origin:this._proxy});var n=o.websocketExtensions;if(n){n=[].concat(n);for(var s=0,r=n.length;s<r;s++)this.addWebsocketExtension(n[s])}this.tls=o.tls||{},this.tls.ca=this.tls.ca||o.ca;for(var l in this._alternates)this._alternates[l]=i.parse(this._alternates[l]);this.maxRequestSize=this.MAX_REQUEST_SIZE},endpointFor:function(e){return this._alternates[e]||this.endpoint},addWebsocketExtension:function(e){this.wsExtensions.push(e)},disable:function(e){this._disabled.push(e)},setHeader:function(e,t){this.headers[e]=t},close:function(){var e=this._transport;delete this._transport,e&&e.close()},getConnectionTypes:function(){return p.getConnectionTypes()},selectTransport:function(e){p.get(this,e,this._disabled,function(e){this.debug("Selected ? transport for ?",e.connectionType,i.stringify(e.endpoint)),e!==this._transport&&(this._transport&&this._transport.close(),this._transport=e,this.connectionType=e.connectionType)},this)},sendMessage:function(e,t,o){o=o||{};var n,i=e.id,a=o.attempts,s=o.deadline&&(new Date).getTime()+1e3*o.deadline,r=this._envelopes[i];r||(n=new this._scheduler(e,{timeout:t,interval:this.retry,attempts:a,deadline:s}),r=this._envelopes[i]={message:e,scheduler:n}),this._sendEnvelope(r)},_sendEnvelope:function(e){if(this._transport&&!e.request&&!e.timer){var o=e.message,n=e.scheduler,i=this;if(!n.isDeliverable())return n.abort(),void delete this._envelopes[o.id];e.timer=t.setTimeout(function(){i.handleError(o)},1e3*n.getTimeout()),n.send(),e.request=this._transport.sendMessage(o)}},handleResponse:function(e){var o=this._envelopes[e.id];void 0!==e.successful&&o&&(o.scheduler.succeed(),delete this._envelopes[e.id],t.clearTimeout(o.timer)),this.trigger("message",e),this._state!==this.UP&&(this._state=this.UP,this._client.trigger("transport:up"))},handleError:function(e,o){var n=this._envelopes[e.id],i=n&&n.request,a=this;if(i){i.then(function(e){e&&e.abort&&e.abort()});var s=n.scheduler;s.fail(),t.clearTimeout(n.timer),n.request=n.timer=null,o?this._sendEnvelope(n):n.timer=t.setTimeout(function(){n.timer=null,a._sendEnvelope(n)},1e3*s.getInterval()),this._state!==this.DOWN&&(this._state=this.DOWN,this._client.trigger("transport:down"))}}});c.create=function(e,t,o){return new c(e,t,o)},s(c.prototype,l),s(c.prototype,r),e.exports=c}).call(t,function(){return this}())},function(e,t){"use strict";e.exports={}},function(e,t,o){"use strict";var n=o(35);n.register("websocket",o(37)),n.register("eventsource",o(41)),n.register("long-polling",o(42)),n.register("cross-origin-long-polling",o(43)),n.register("callback-polling",o(44)),e.exports=n},function(e,t,o){(function(t){"use strict";var n=o(21),i=o(33).Cookie,a=o(12),s=o(23),r=o(24),l=o(22),p=o(18),u=o(36),c=o(30),d=l(n({className:"Transport",DEFAULT_PORTS:{"http:":80,"https:":443,"ws:":80,"wss:":443},MAX_DELAY:0,batching:!0,initialize:function(e,t){this._dispatcher=e,this.endpoint=t,this._outbox=[],this._proxy=l({},this._dispatcher.proxy),this._proxy.origin||(this._proxy.origin=this._findProxy())},close:function(){},encode:function(e){return""},sendMessage:function(e){return this.debug("Client ? sending message to ?: ?",this._dispatcher.clientId,s.stringify(this.endpoint),e),this.batching?(this._outbox.push(e),this._flushLargeBatch(),e.channel===c.HANDSHAKE?this._publish(.01):(e.channel===c.CONNECT&&(this._connectMessage=e),this._publish(this.MAX_DELAY))):a.resolve(this.request([e]))},_makePromise:function(){var e=this;this._requestPromise=this._requestPromise||new a(function(t){e._resolvePromise=t})},_publish:function(e){return this._makePromise(),this.addTimeout("publish",e,function(){this._flush(),delete this._requestPromise},this),this._requestPromise},_flush:function(){this.removeTimeout("publish"),this._outbox.length>1&&this._connectMessage&&(this._connectMessage.advice={timeout:0}),this._resolvePromise(this.request(this._outbox)),this._connectMessage=null,this._outbox=[]},_flushLargeBatch:function(){if(!(this.encode(this._outbox).length<this._dispatcher.maxRequestSize)){var e=this._outbox.pop();this._makePromise(),this._flush(),e&&this._outbox.push(e)}},_receive:function(e){if(e){e=[].concat(e),this.debug("Client ? received from ? via ?: ?",this._dispatcher.clientId,s.stringify(this.endpoint),this.connectionType,e);for(var t=0,o=e.length;t<o;t++)this._dispatcher.handleResponse(e[t])}},_handleError:function(e,t){e=[].concat(e),this.debug("Client ? failed to send to ? via ?: ?",this._dispatcher.clientId,s.stringify(this.endpoint),this.connectionType,e);for(var o=0,n=e.length;o<n;o++)this._dispatcher.handleError(e[o])},_getCookies:function(){var e=this._dispatcher.cookies,t=s.stringify(this.endpoint);return e?r.map(e.getCookiesSync(t),function(e){return e.cookieString()}).join("; "):""},_storeCookies:function(e){var t,o=this._dispatcher.cookies,n=s.stringify(this.endpoint);if(e&&o){e=[].concat(e);for(var a=0,r=e.length;a<r;a++)t=i.parse(e[a]),o.setCookieSync(t,n)}},_findProxy:function(){if(void 0!==t){var e=this.endpoint.protocol;if(e){var o,n,i=e.replace(/:$/,"").toLowerCase()+"_proxy",a=i.toUpperCase(),s=t.env;return"http_proxy"===i&&s.REQUEST_METHOD?(o=Object.keys(s).filter(function(e){return/^http_proxy$/i.test(e)}),1===o.length?o[0]===i&&void 0===s[a]&&(n=s[i]):o.length>1&&(n=s[i]),n=n||s["CGI_"+a]):(n=s[i]||s[a])&&!s[i]&&console.warn("The environment variable "+a+" is discouraged. Use "+i+"."),n}}}}),{get:function(e,t,o,n,i){var a=e.endpoint;r.asyncEach(this._transports,function(a,s){var l=a[0],p=a[1],u=e.endpointFor(l);return r.indexOf(o,l)>=0?s():r.indexOf(t,l)<0?(p.isUsable(e,u,function(){}),s()):void p.isUsable(e,u,function(t){if(!t)return s();var o=p.hasOwnProperty("create")?p.create(e,u):new p(e,u);n.call(i,o)})},function(){throw new Error("Could not find a usable connection type for "+s.stringify(a))})},register:function(e,t){this._transports.push([e,t]),t.prototype.connectionType=e},getConnectionTypes:function(){return r.map(this._transports,function(e){return e[0]})},_transports:[]});l(d.prototype,p),l(d.prototype,u),e.exports=d}).call(t,o(1))},function(e,t){(function(t){"use strict";e.exports={addTimeout:function(e,o,n,i){if(this._timeouts=this._timeouts||{},!this._timeouts.hasOwnProperty(e)){var a=this;this._timeouts[e]=t.setTimeout(function(){delete a._timeouts[e],n.call(i)},1e3*o)}},removeTimeout:function(e){this._timeouts=this._timeouts||{};var o=this._timeouts[e];o&&(t.clearTimeout(o),delete this._timeouts[e])},removeAllTimeouts:function(){this._timeouts=this._timeouts||{};for(var e in this._timeouts)this.removeTimeout(e)}}}).call(t,function(){return this}())},function(e,t,o){(function(t){"use strict";var n=o(21),i=o(12),a=o(38),s=o(23),r=o(25),l=o(39),p=o(22),u=o(19),c=o(40),d=o(27),m=o(35),h=p(n(m,{UNCONNECTED:1,CONNECTING:2,CONNECTED:3,batching:!1,isUsable:function(e,t){this.callback(function(){e.call(t,!0)}),this.errback(function(){e.call(t,!1)}),this.connect()},request:function(e){this._pending=this._pending||new a;for(var t=0,o=e.length;t<o;t++)this._pending.add(e[t]);var n=this,s=new i(function(t,o){n.callback(function(o){o&&1===o.readyState&&(o.send(u(e)),t(o))}),n.connect()});return{abort:function(){s.then(function(e){e.close()})}}},connect:function(){if(!h._unloaded&&(this._state=this._state||this.UNCONNECTED,this._state===this.UNCONNECTED)){this._state=this.CONNECTING;var e=this._createSocket();if(!e)return this.setDeferredStatus("failed");var t=this;e.onopen=function(){e.headers&&t._storeCookies(e.headers["set-cookie"]),t._socket=e,t._state=t.CONNECTED,t._everConnected=!0,t._ping(),t.setDeferredStatus("succeeded",e)};var o=!1;e.onclose=e.onerror=function(){if(!o){o=!0;var n=t._state===t.CONNECTED;e.onopen=e.onclose=e.onerror=e.onmessage=null,delete t._socket,t._state=t.UNCONNECTED,t.removeTimeout("ping");var i=t._pending?t._pending.toArray():[];delete t._pending,n||t._everConnected?(t.setDeferredStatus("unknown"),t._handleError(i,n)):t.setDeferredStatus("failed")}},e.onmessage=function(e){var o;try{o=JSON.parse(e.data)}catch(e){}if(o){o=[].concat(o);for(var n=0,i=o.length;n<i;n++)void 0!==o[n].successful&&t._pending.remove(o[n]);t._receive(o)}}}},close:function(){this._socket&&this._socket.close()},_createSocket:function(){var e=h.getSocketUrl(this.endpoint),t=this._dispatcher.headers,o=this._dispatcher.wsExtensions,n=this._getCookies(),i=this._dispatcher.tls,a={extensions:o,headers:t,proxy:this._proxy,tls:i};return""!==n&&(a.headers.Cookie=n),c.create(e,[],a)},_ping:function(){this._socket&&1===this._socket.readyState&&(this._socket.send("[]"),this.addTimeout("ping",this._dispatcher.timeout/2,this._ping,this))}}),{PROTOCOLS:{"http:":"ws:","https:":"wss:"},create:function(e,t){var o=e.transports.websocket=e.transports.websocket||{};return o[t.href]=o[t.href]||new this(e,t),o[t.href]},getSocketUrl:function(e){return e=l(e),e.protocol=this.PROTOCOLS[e.protocol],s.stringify(e)},isUsable:function(e,t,o,n){this.create(e,t).isUsable(o,n)}});p(h.prototype,d),r.Event&&void 0!==t.onbeforeunload&&r.Event.on(t,"beforeunload",function(){h._unloaded=!0}),e.exports=h}).call(t,function(){return this}())},function(e,t,o){"use strict";var n=o(21);e.exports=n({initialize:function(){this._index={}},add:function(e){var t=void 0!==e.id?e.id:e;return!this._index.hasOwnProperty(t)&&(this._index[t]=e,!0)},forEach:function(e,t){for(var o in this._index)this._index.hasOwnProperty(o)&&e.call(t,this._index[o])},isEmpty:function(){for(var e in this._index)if(this._index.hasOwnProperty(e))return!1;return!0},member:function(e){for(var t in this._index)if(this._index[t]===e)return!0;return!1},remove:function(e){var t=void 0!==e.id?e.id:e,o=this._index[t];return delete this._index[t],o},toArray:function(){var e=[];return this.forEach(function(t){e.push(t)}),e}})},function(e,t){"use strict";var o=function(e){var t,n,i;if(e instanceof Array){for(t=[],n=e.length;n--;)t[n]=o(e[n]);return t}if("object"==typeof e){t=null===e?null:{};for(i in e)t[i]=o(e[i]);return t}return e};e.exports=o},function(e,t){(function(t){"use strict";var o=t.MozWebSocket||t.WebSocket;e.exports={create:function(e,t,n){return"function"!=typeof o?null:new o(e)}}}).call(t,function(){return this}())},function(e,t,o){(function(t){"use strict";var n=o(21),i=o(23),a=o(39),s=o(22),r=o(27),l=o(35),p=o(42),u=s(n(l,{initialize:function(e,o){if(l.prototype.initialize.call(this,e,o),!t.EventSource)return this.setDeferredStatus("failed");this._xhr=new p(e,o),o=a(o),o.pathname+="/"+e.clientId;var n=new t.EventSource(i.stringify(o)),s=this;n.onopen=function(){s._everConnected=!0,s.setDeferredStatus("succeeded")},n.onerror=function(){s._everConnected?s._handleError([]):(s.setDeferredStatus("failed"),n.close())},n.onmessage=function(e){var t;try{t=JSON.parse(e.data)}catch(e){}t?s._receive(t):s._handleError([])},this._socket=n},close:function(){this._socket&&(this._socket.onopen=this._socket.onerror=this._socket.onmessage=null,this._socket.close(),delete this._socket)},isUsable:function(e,t){this.callback(function(){e.call(t,!0)}),this.errback(function(){e.call(t,!1)})},encode:function(e){return this._xhr.encode(e)},request:function(e){return this._xhr.request(e)}}),{isUsable:function(e,t,o,n){if(!e.clientId)return o.call(n,!1);p.isUsable(e,t,function(i){if(!i)return o.call(n,!1);this.create(e,t).isUsable(o,n)},this)},create:function(e,t){var o=e.transports.eventsource=e.transports.eventsource||{},n=e.clientId,s=a(t);return s.pathname+="/"+(n||""),s=i.stringify(s),o[s]=o[s]||new this(e,t),o[s]}});s(u.prototype,r),e.exports=u}).call(t,function(){return this}())},function(e,t,o){(function(t){"use strict";var n=o(21),i=o(23),a=o(25),s=o(22),r=o(19),l=o(35),p=s(n(l,{encode:function(e){return r(e)},request:function(e){var o,n=this.endpoint.href,i=this;if(t.XMLHttpRequest)o=new XMLHttpRequest;else{if(!t.ActiveXObject)return this._handleError(e);o=new ActiveXObject("Microsoft.XMLHTTP")}o.open("POST",n,!0),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Pragma","no-cache"),o.setRequestHeader("X-Requested-With","XMLHttpRequest");var s=this._dispatcher.headers;for(var r in s)s.hasOwnProperty(r)&&o.setRequestHeader(r,s[r]);var l=function(){o.abort()};return void 0!==t.onbeforeunload&&a.Event.on(t,"beforeunload",l),o.onreadystatechange=function(){if(o&&4===o.readyState){var n=null,s=o.status,r=o.responseText,p=s>=200&&s<300||304===s||1223===s;if(void 0!==t.onbeforeunload&&a.Event.detach(t,"beforeunload",l),o.onreadystatechange=function(){},o=null,!p)return i._handleError(e);try{n=JSON.parse(r)}catch(e){}n?i._receive(n):i._handleError(e)}},o.send(this.encode(e)),o}}),{isUsable:function(e,t,o,n){var a="ReactNative"===navigator.product||i.isSameOrigin(t);o.call(n,a)}});e.exports=p}).call(t,function(){return this}())},function(e,t,o){(function(t){"use strict";var n=o(21),i=o(38),a=o(23),s=o(22),r=o(19),l=o(35),p=s(n(l,{encode:function(e){return"message="+encodeURIComponent(r(e))},request:function(e){var o,n=t.XDomainRequest?XDomainRequest:XMLHttpRequest,i=new n,s=++p._id,r=this._dispatcher.headers,l=this;if(i.open("POST",a.stringify(this.endpoint),!0),i.setRequestHeader){i.setRequestHeader("Pragma","no-cache");for(o in r)r.hasOwnProperty(o)&&i.setRequestHeader(o,r[o])}var u=function(){if(!i)return!1;p._pending.remove(s),i.onload=i.onerror=i.ontimeout=i.onprogress=null,i=null};return i.onload=function(){var t;try{t=JSON.parse(i.responseText)}catch(e){}u(),t?l._receive(t):l._handleError(e)},i.onerror=i.ontimeout=function(){u(),l._handleError(e)},i.onprogress=function(){},n===t.XDomainRequest&&p._pending.add({id:s,xhr:i}),i.send(this.encode(e)),i}}),{_id:0,_pending:new i,isUsable:function(e,o,n,i){if(a.isSameOrigin(o))return n.call(i,!1);if(t.XDomainRequest)return n.call(i,o.protocol===location.protocol);if(t.XMLHttpRequest){var s=new XMLHttpRequest;return n.call(i,void 0!==s.withCredentials)}return n.call(i,!1)}});e.exports=p}).call(t,function(){return this}())},function(e,t,o){(function(t){"use strict";var n=o(21),i=o(23),a=o(39),s=o(22),r=o(19),l=o(35),p=s(n(l,{encode:function(e){var t=a(this.endpoint);return t.query.message=r(e),t.query.jsonp="__jsonp"+p._cbCount+"__",i.stringify(t)},request:function(e){var o=document.getElementsByTagName("head")[0],n=document.createElement("script"),s=p.getCallbackName(),l=a(this.endpoint),u=this;l.query.message=r(e),l.query.jsonp=s;var c=function(){if(!t[s])return!1;t[s]=void 0;try{delete t[s]}catch(e){}n.parentNode.removeChild(n)};return t[s]=function(e){c(),u._receive(e)},n.type="text/javascript",n.src=i.stringify(l),o.appendChild(n),n.onerror=function(){c(),u._handleError(e)},{abort:c}}}),{_cbCount:0,getCallbackName:function(){return this._cbCount+=1,"__jsonp"+this._cbCount+"__"},isUsable:function(e,t,o,n){o.call(n,!0)}});e.exports=p}).call(t,function(){return this}())},function(e,t,o){"use strict";var n=o(22),i=function(e,t){this.message=e,this.options=t,this.attempts=0};n(i.prototype,{getTimeout:function(){return this.options.timeout},getInterval:function(){return this.options.interval},isDeliverable:function(){var e=this.options.attempts,t=this.attempts,o=this.options.deadline,n=(new Date).getTime();return!(void 0!==e&&t>=e)&&!(void 0!==o&&n>o)},send:function(){this.attempts+=1},succeed:function(){},fail:function(){},abort:function(){}}),e.exports=i},function(e,t,o){"use strict";var n=o(21),i=o(31),a=n({initialize:function(e,t,o){this.code=e,this.params=Array.prototype.slice.call(t),this.message=o},toString:function(){return this.code+":"+this.params.join(",")+":"+this.message}});a.parse=function(e){if(e=e||"",!i.ERROR.test(e))return new a(null,[],e);var t=e.split(":"),o=parseInt(t[0]),n=t[1].split(","),e=t[2];return new a(o,n,e)};var s={versionMismatch:[300,"Version mismatch"],conntypeMismatch:[301,"Connection types not supported"],extMismatch:[302,"Extension mismatch"],badRequest:[400,"Bad request"],clientUnknown:[401,"Unknown client"],parameterMissing:[402,"Missing required parameter"],channelForbidden:[403,"Forbidden channel"],channelUnknown:[404,"Unknown channel"],channelInvalid:[405,"Invalid channel"],extUnknown:[406,"Unknown extension"],publishFailed:[407,"Failed to publish"],serverError:[500,"Internal server error"]};for(var r in s)!function(e){a[e]=function(){return new a(s[e][0],arguments,s[e][1]).toString()}}(r);e.exports=a},function(e,t,o){"use strict";var n=o(22),i=o(18),a={addExtension:function(e){this._extensions=this._extensions||[],this._extensions.push(e),e.added&&e.added(this)},removeExtension:function(e){if(this._extensions)for(var t=this._extensions.length;t--;)this._extensions[t]===e&&(this._extensions.splice(t,1),e.removed&&e.removed(this))},pipeThroughExtensions:function(e,t,o,n,i){if(this.debug("Passing through ? extensions: ?",e,t),!this._extensions)return n.call(i,t);var a=this._extensions.slice(),s=function(t){if(!t)return n.call(i,t);var r=a.shift();if(!r)return n.call(i,t);var l=r[e];if(!l)return s(t);l.length>=3?r[e](t,o,s):r[e](t,s)};s(t)}};n(a,i),e.exports=a},function(e,t,o){"use strict";var n=o(21),i=o(27);e.exports=n(i)},function(e,t,o){"use strict";var n=o(21),i=o(22),a=o(27),s=n({initialize:function(e,t,o,n){this._client=e,this._channels=t,this._callback=o,this._context=n,this._cancelled=!1},withChannel:function(e,t){return this._withChannel=[e,t],this},apply:function(e,t){var o=t[0];this._callback&&this._callback.call(this._context,o.data),this._withChannel&&this._withChannel[0].call(this._withChannel[1],o.channel,o.data)},cancel:function(){this._cancelled||(this._client.unsubscribe(this._channels,this),this._cancelled=!0)},unsubscribe:function(){this.cancel()}});i(s.prototype,a),e.exports=s}])})},229:function(e,t,o){"use strict";var n=o(6),i=o(2),a=o(1),s=o(209);t.a=n.a.extend({displayName:"NotificationsPopin",optionTypes:{isOpen:a.b.bool.isRequired},template:function(){return this.options.isOpen?i.default.getFromString('\n                <div class="header-action-icon__popin --open" data-action="stop-propagation">\n                    <div class="header-notifications__scrollable js-scrollable">\n                        {{ components.grid | component }}\n                    </div>\n                    <div class="header-notifications__see-all">\n                        <a href="/feed/activity?feed=activities">See all notifications</a>\n                    </div>\n                </div>\n            ',{components:this.createChildrenComponents({grid:{viewClass:s.a,options:{feedType:"notifications",itemOptions:{isSmall:!0},shouldHidePagination:!0,pageSize:10}}})}):""}})},230:function(e,t,o){"use strict";var n=o(13),i=o(64),a=o(192),s=o(59),r=o(4),l=o(193),p=o(0);o.n(p);t.a=n.a.extend({defaults:{verb:"",obj:{},actor:{},target:{},extraContext:{},actorModel:new n.a,objModel:new n.a,targetModel:new n.a},initialize:function(e){switch(n.a.prototype.initialize.apply(this,arguments),e.verb){case"upload":this.setUploadModels(e);break;case"collection":this.setCollectionModels(e);break;case"collect":this.setCollectModels(e);break;case"comment":this.setCommentModels(e);break;case"mention":this.setMentionModels(e);break;case"follow":this.setFollowModels(e);break;case"subscribe":this.setSubscribeModels(e);break;case"like":this.setLikeModels(e);break;case"staffpick":this.setStaffpickModels(e);break;case"review":this.setReviewModels(e);break;case"reviewReply":this.setReviewReplyModels(e)}},setUploadModels:function(e){this.set("actorModel",new r.a(e.actor)),this.set("objModel",new s.a(Object(p.extend)({},e.obj,{user:e.actor,recentlyStaffpicked:e.extraContext.recentlyStaffpicked})))},setCollectionModels:function(e){this.set("actorModel",new r.a(e.actor)),this.set("objModel",new i.a(Object(p.extend)({},e.obj,{user:e.actor})))},setCollectModels:function(e){this.set("actorModel",new r.a(e.actor)),this.set("objModel",new s.a(e.obj)),this.set("targetModel",new i.a(Object(p.extend)({},e.target,{user:e.actor})))},setCommentModels:function(e){this.set("objModel",new l.a(e.obj)),this.set("actorModel",new r.a(e.actor)),this.set("targetModel",new s.a(e.target))},setMentionModels:function(e){this.set("objModel",new l.a(e.obj)),this.set("actorModel",new r.a(e.actor)),this.set("targetModel",new r.a(e.target))},setFollowModels:function(e){this.set("actorModel",new r.a(e.actor)),this.set("targetModel",new r.a(e.target))},setSubscribeModels:function(e){this.set("actorModel",new r.a(e.actor)),this.set("targetModel",new i.a(e.target))},setLikeModels:function(e){this.set("actorModel",new r.a(e.actor)),this.set("targetModel",new s.a(e.target))},setStaffpickModels:function(e){this.set("objModel",new s.a(e.obj)),this.set("actorModel",new r.a(e.actor))},setReviewModels:function(e){this.set("objModel",new a.a(e.obj)),this.set("actorModel",new r.a(e.actor)),this.set("targetModel",new s.a(e.target))},setReviewReplyModels:function(e){this.set("objModel",new a.a(e.obj)),this.set("actorModel",new r.a(e.actor)),this.set("targetModel",new s.a(e.target))},getAggregatedActors:function(){var e=this.get("extraContext").activities||[];return[this.get("actorModel").toJSON()].concat(e.map(function(e){return e.actor}))},getAggregatedTargets:function(){var e=this.get("extraContext").activities||[];return[this.get("targetModel").toJSON()].concat(e.map(function(e){return e.target}))},getAggregatedObjs:function(){var e=this.get("extraContext").activities||[];return[this.get("objModel").toJSON()].concat(e.map(function(e){return e.obj}))}})},231:function(e,t,o){"use strict";var n=o(41),i=o(2),a=o(194);o.n(a);t.a=Object(n.a)(function(){return i.default.getFromMacro("skfb_front/macros/components/molecules/empty-states/notifications-empty-state","notifications_empty_state",[])})},232:function(e,t,o){"use strict";var n=o(6),i=o(4),a=o(2),s=o(30),r=o(19),l=o(1),p=o(195);o.n(p);t.a=n.a.extend({displayName:"CommentActivity",mixins:[r.a,s.a],optionTypes:{model:l.b.modelShape({objModel:l.b.model.isRequired,actorModel:l.b.model.isRequired,targetModel:l.b.model.isRequired,timestamp:l.b.string.isRequired}).isRequired,isSmall:l.b.bool},template:function(){return a.default.getFromMacro("skfb_front/macros/components/molecules/activities/comment",this.options.isSmall?"comment_small":"comment",[{authUser:i.a.me().toJSON(),activity:{timestamp:this.model.get("timestamp"),isSeen:this.model.get("isSeen"),isRead:this.model.get("isRead")},comment:this.model.get("objModel").toJSON(),user:this.model.get("actorModel").toJSON(),model:this.model.get("targetModel").toJSON()}])}})},233:function(e,t,o){"use strict";var n=o(6),i=o(4),a=o(2),s=o(19),r=o(30),l=o(1),p=o(196);o.n(p);t.a=n.a.extend({displayName:"MentionActivity",mixins:[s.a,r.a],optionTypes:{model:l.b.modelShape({timestamp:l.b.string.isRequired,objModel:l.b.model.isRequired,actorModel:l.b.model.isRequired,targetModel:l.b.model.isRequired}).isRequired,isSmall:l.b.bool},template:function(){return a.default.getFromMacro("skfb_front/macros/components/molecules/activities/mention",this.options.isSmall?"mention_small":"mention",[{authUser:i.a.me().toJSON(),activity:{timestamp:this.model.get("timestamp"),isSeen:this.model.get("isSeen"),isRead:this.model.get("isRead")},comment:this.model.get("objModel").toJSON(),user:this.model.get("actorModel").toJSON(),model:this.model.get("targetModel").toJSON()}])}})},234:function(e,t,o){"use strict";var n=o(6),i=o(4),a=o(2),s=o(19),r=o(30),l=o(1),p=o(197);o.n(p);t.a=n.a.extend({displayName:"LikeActivity",mixins:[s.a,r.a],optionTypes:{model:l.b.modelShape({extraContext:l.b.shape({count:l.b.number.isRequired}).isRequired,actorModel:l.b.model.isRequired,targetModel:l.b.model.isRequired,timestamp:l.b.string.isRequired}).isRequired,isSmall:l.b.bool,isOwnFeed:l.b.bool},template:function(){var e=this.model.get("extraContext"),t=this.options.isOwnFeed?this.model.getAggregatedActors():[this.model.get("actorModel").toJSON()],o=this.options.isOwnFeed?[this.model.get("targetModel").toJSON()]:this.model.getAggregatedTargets();return a.default.getFromMacro("skfb_front/macros/components/molecules/activities/like",this.options.isSmall?"like_small":"like",[{authUser:i.a.me().toJSON(),activity:{timestamp:this.model.get("timestamp"),isSeen:this.model.get("isSeen"),isRead:this.model.get("isRead"),aggregatedUsersCount:this.options.isOwnFeed?e.count:1,aggregatedModelsCount:this.options.isOwnFeed?1:e.count},users:t,models:o}])}})},235:function(e,t,o){"use strict";var n=o(6),i=o(4),a=o(2),s=o(19),r=o(30),l=o(1),p=o(198);o.n(p);t.a=n.a.extend({displayName:"SubscribeActivity",mixins:[s.a,r.a],optionTypes:{model:l.b.modelShape({targetModel:l.b.model.isRequired,actorModel:l.b.model.isRequired,extraContext:l.b.shape({count:l.b.number.isRequired}).isRequired,timestamp:l.b.string.isRequired}).isRequired,isSmall:l.b.bool,isOwnFeed:l.b.bool},viewDidMount:function(){this.model.get("targetModel").on("change:thumbnails",this.forceUpdate,this)},viewWillUnmount:function(){this.model.get("targetModel").off("change:thumbnails",this.forceUpdate,this)},template:function(){var e=this.model.get("extraContext"),t=this.options.isOwnFeed?this.model.getAggregatedActors():[this.model.get("actorModel").toJSON()],o=this.options.isOwnFeed?[this.model.get("targetModel").toJSON()]:this.model.getAggregatedTargets();return a.default.getFromMacro("skfb_front/macros/components/molecules/activities/subscribe",this.options.isSmall?"subscribe_small":"subscribe",[{authUser:i.a.me().toJSON(),activity:{timestamp:this.model.get("timestamp"),isSeen:this.model.get("isSeen"),isRead:this.model.get("isRead"),aggregatedUsersCount:this.options.isOwnFeed?e.count:1,aggregatedCollectionsCount:this.options.isOwnFeed?1:e.count},users:t,collections:o}])}})},236:function(e,t,o){"use strict";var n=o(6),i=o(4),a=o(2),s=o(19),r=o(30),l=o(1),p=o(199);o.n(p);t.a=n.a.extend({displayName:"FollowActivity",mixins:[s.a,r.a],optionTypes:{model:l.b.modelShape({actorModel:l.b.model.isRequired,targetModel:l.b.model.isRequired}).isRequired,isSmall:l.b.bool,isOwnFeed:l.b.bool},viewDidMount:function(){this.model.get("targetModel").on("change:thumbnails",this.forceUpdate,this),this.model.get("actorModel").on("change:thumbnails",this.forceUpdate,this)},viewWillUnmount:function(){this.model.get("targetModel").off("change:thumbnails",this.forceUpdate,this),this.model.get("actorModel").off("change:thumbnails",this.forceUpdate,this)},template:function(){var e=this.model.get("extraContext"),t=this.options.isOwnFeed?this.model.getAggregatedActors():[this.model.get("actorModel").toJSON()],o=this.options.isOwnFeed?[this.model.get("targetModel").toJSON()]:this.model.getAggregatedTargets();return a.default.getFromMacro("skfb_front/macros/components/molecules/activities/follow",this.options.isSmall?"follow_small":"follow",[{authUser:i.a.me().toJSON(),activity:{timestamp:this.model.get("timestamp"),isSeen:this.model.get("isSeen"),isRead:this.model.get("isRead"),aggregatedFollowingUsersCount:this.options.isOwnFeed?e.count:1,aggregatedFollowedUsersCount:this.options.isOwnFeed?1:e.count},followingUsers:t,followedUsers:o}])}})},237:function(e,t,o){"use strict";var n=o(6),i=o(4),a=o(2),s=o(19),r=o(30),l=o(1),p=o(200);o.n(p);t.a=n.a.extend({displayName:"CollectActivity",mixins:[s.a,r.a],optionTypes:{model:l.b.modelShape({objModel:l.b.model.isRequired,actorModel:l.b.model.isRequired,targetModel:l.b.model.isRequired,extraContext:l.b.shape({count:l.b.number.isRequired}).isRequired}).isRequired,isSmall:l.b.bool,isOwnFeed:l.b.bool},viewDidMount:function(){this.model.get("targetModel").on("change:thumbnails",this.forceUpdate,this)},viewWillUnmount:function(){this.model.get("targetModel").off("change:thumbnails",this.forceUpdate,this)},template:function(){var e=this.model.get("extraContext"),t=this.options.isOwnFeed?this.model.getAggregatedObjs():[this.model.get("objModel").toJSON()];return a.default.getFromMacro("skfb_front/macros/components/molecules/activities/collect",this.options.isSmall?"collect_small":"collect",[{authUser:i.a.me().toJSON(),activity:{timestamp:this.model.get("timestamp"),isSeen:this.model.get("isSeen"),isRead:this.model.get("isRead"),aggregatedModelsCount:this.options.isOwnFeed?e.count:1},user:this.model.get("actorModel").toJSON(),models:t,collection:this.model.get("targetModel").toJSON()}])}})},238:function(e,t,o){"use strict";var n=o(6),i=o(4),a=o(2),s=o(19),r=o(30),l=o(1),p=o(201);o.n(p);t.a=n.a.extend({displayName:"StaffpickActivity",mixins:[s.a,r.a],optionTypes:{model:l.b.modelShape({timestamp:l.b.string.isRequired,objModel:l.b.model.isRequired,actorModel:l.b.model.isRequired}).isRequired,isSmall:l.b.bool},template:function(){return a.default.getFromMacro("skfb_front/macros/components/molecules/activities/staffpick",this.options.isSmall?"staffpick_small":"staffpick",[{authUser:i.a.me().toJSON(),activity:{timestamp:this.model.get("timestamp"),isSeen:this.model.get("isSeen"),isRead:this.model.get("isRead")},model:this.model.get("objModel").toJSON(),user:this.model.get("actorModel").toJSON()}])}})},239:function(e,t,o){"use strict";var n=o(6),i=o(4),a=o(2),s=o(19),r=o(30),l=o(1),p=o(141),u=o(203);o.n(u);t.a=n.a.extend({displayName:"ReviewActivity",mixins:[s.a,r.a],optionTypes:{model:l.b.modelShape({objModel:l.b.model.isRequired,actorModel:l.b.model.isRequired,targetModel:l.b.model.isRequired,timestamp:l.b.string.isRequired}).isRequired,isSmall:l.b.bool},template:function(){return a.default.getFromMacro("skfb_front/macros/components/molecules/activities/review",this.options.isSmall?"review_small":"review",[{authUser:i.a.me().toJSON(),activity:{timestamp:this.model.get("timestamp"),isSeen:this.model.get("isSeen"),isRead:this.model.get("isRead")},review:this.model.get("objModel").toJSON(),user:this.model.get("actorModel").toJSON(),model:this.model.get("targetModel").toJSON(),components:this.createChildrenComponents({rating:{viewClass:p.a,options:{value:this.model.get("objModel").get("averageRating"),size:"small"}}})}])}})},240:function(e,t,o){"use strict";var n=o(6),i=o(4),a=o(2),s=o(19),r=o(30),l=o(1),p=o(204);o.n(p);t.a=n.a.extend({displayName:"ReviewReplyActivity",mixins:[s.a,r.a],optionTypes:{model:l.b.modelShape({objModel:l.b.model.isRequired,actorModel:l.b.model.isRequired,targetModel:l.b.model.isRequired,timestamp:l.b.string.isRequired}).isRequired,isSmall:l.b.bool},template:function(){return a.default.getFromMacro("skfb_front/macros/components/molecules/activities/review-reply",this.options.isSmall?"review_reply_small":"review_reply",[{authUser:i.a.me().toJSON(),activity:{timestamp:this.model.get("timestamp"),isSeen:this.model.get("isSeen"),isRead:this.model.get("isRead")},review:this.model.get("objModel").toJSON(),user:this.model.get("actorModel").toJSON(),model:this.model.get("targetModel").toJSON()}])}})},241:function(e,t,o){"use strict";o.d(t,"a",function(){return p}),o.d(t,"b",function(){return u});var n=o(77),i=o.n(n),a=o(5),s=o.n(a),r=function(e){return localStorage.getItem(e)},l=function(e,t){return localStorage.setItem(e,t)},p=function(e){return s.a.try(function(){return JSON.parse(r(e))})},u=function(e,t){return l(e,i()(t))}},242:function(e,t,o){"use strict";var n=o(5),i=o.n(n),a=o(3),s=o.n(a),r=o(6),l=o(2),p=o(1),u=o(49),c=o(43),d=o(103);t.a=r.a.extend({displayName:"Banner",mixins:[c.a],optionTypes:{text:p.b.string.isRequired,cta:p.b.component.isRequired,backgroundImage:p.b.string,canOpen:p.b.bool},events:{"resize window":"onResize",'click [data-action="close"]':function(){this.setState({isOpen:!1});u.a.set("store_banner_closed","true",{expires:6048e5})}},initialize:function(){r.a.prototype.initialize.apply(this,arguments),this.onResize=this.onResize.bind(this),this.state={isOpen:!1,isSmallScreen:Object(d.b)()}},viewDidMount:function(){var e=this;i.a.delay(500).then(function(){return!u.a.get("store_banner_closed")}).then(function(t){t&&e.setState({isOpen:!0})})},onResize:function(){this.setState({isSmallScreen:Object(d.b)()})},template:function(){var e=this.state.isOpen&&this.options.canOpen&&!this.state.isSmallScreen;return s()("body").toggleClass("--with-banner",e),l.default.getFromString('\n                <div\n                    class="c-banner {{ \'--open\' if isOpen }}"\n                    data-ref="banner">\n                    <div class="c-banner__background" style="background-image: url({{ options.backgroundImage }})"></div>\n                    <div class="c-banner__container">\n                        <span class="c-banner__text">{{ options.text }}</span>\n                        {{ components.cta | component }}\n                        <button class="c-banner__close" data-action="close"><i class="icon fa fa-times"></i></button>\n                    </div>\n                </div>\n            ',{isOpen:e,options:this.options,components:this.createChildrenComponents({cta:this.options.cta})})}})},243:function(e,t,o){e.exports=o.p+"store-banner-background-07d4d64458917df94be051a76334f2bc.jpg"},244:function(e,t,o){"use strict";var n=o(7),i=o(18),a=o(245),s=o(53);t.a=n.a.extend({mixins:[Object(a.a)('[data-action="toggle-accordion"]','[data-type="accordion-panel"]'),Object(s.a)(".responsive-navigation.slided")],events:{'submit [data-action="logout"]':"onLogout"},onLogout:function(e){e.preventDefault(),i.a.logout().then(function(){window.location="/?logged_out=1"})}})},245:function(e,t,o){"use strict";var n=o(54),i=o.n(n),a=o(70),s=o.n(a),r=o(29),l=s()("WithAccordions");t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'[data-action="toggle-accordion"]',t=arguments[1];return{name:"WithAccordions",constructor:function(){this[l]={unsubscribe:r.d}},afterViewDidMount:function(){var o=document.querySelectorAll(e);this[l].unsubscribe=[].concat(i()(o)).reduce(function(e,o){var n=t?o.querySelector(t):o.nextElementSibling;n.classList.add("js-accordion-panel");var i=function(){o.classList.toggle("--active"),n.style.maxHeight?n.style.maxHeight=null:n.style.maxHeight=n.scrollHeight+"px"};return o.addEventListener("click",i),function(){o.removeEventListener("click",i),e()}},r.d)},beforeViewWillUnmount:function(){this[l].unsubscribe()}}}},246:function(e,t,o){"use strict";var n=o(7),i=o(4),a=o(65);t.a=n.a.extend({state:{unseenNotifCount:0,documentTitle:document.title},initialize:function(){this.unseenModel=a.a.getSingleton(),this.unseenModel.on("change:activitiesCount",this.updateUnseenNotifCount,this)},updateUnseenNotifCount:function(){this.setState({unseenNotifCount:this.unseenModel.get("activitiesCount")})},renderNotif:function(){var e=this.state.unseenNotifCount;return e&&i.a.me().canAccessFeature("newsfeed_v2")?"("+e+") ":""},render:function(){document.title=this.renderNotif()+this.state.documentTitle}})},247:function(e,t,o){"use strict";var n=o(7);t.a=n.a.extend({})},248:function(e,t,o){"use strict";var n=(o(142),o(25)),i=o.n(n),a=o(3),s=(o.n(a),o(389)),r=(o.n(s),o(76)),l=(o(390),o(12));t.a={unpack:function(e){new e,i.a.history.start({pushState:!0,hashChange:!1});var t={};r.a.listen(function(e){t[e]||l.a.pageView(),t[e]=!0})}}},250:function(e,t){!function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/partials/model-settings.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s,r=null;s="?utm_source=website&amp;utm_campaign=properties_hints",o.set("anchor",s,!0),o.topLevel&&t.setVariable("anchor",s),o.topLevel&&t.addExport("anchor",s),a+='\n\n<div class="form-col-layout">\n\n    <div class="form-field">\n        <label class="form-label" for="name">Model name</label>\n        <div class="form-content">\n            <input id="name" class="form-input" name="name" data-error-for="name" value="',a+=n.suppressValue(n.contextOrFrameLookup(t,o,"filename"),e.opts.autoescape),a+='" tabindex="1" />\n            <div class="form-error" data-error-for="name"></div>\n        </div>\n    </div>\n\n    <div class="form-field">\n        <label class="form-label" for="description">\n            Description\n        </label>\n        <div class="form-content">\n            <div class="markdown-editor">\n                <div class="mode-wrapper">\n                    <div class="mode-info">\n                       <p class="info"><span class="count">1024</span> characters left</p>\n                    </div>\n                    <ul class="mode">\n                        <li><a id="mode-edit" data-value="edit" data-action="change-mode" class="edit active">edit</a></li>\n                        <li><a id="mode-preview" data-value="preview" data-action="change-mode" class="preview">preview</a></li>\n                    </ul>\n                </div>\n                <div class="textarea-wrapper">\n                    <textarea id="description" class="form-input" name="description" data-error-for="description" tabindex="2" maxlength="1024"></textarea>\n                </div>\n                <div class="markdown-wrapper">\n                    <div class="markdown-rendered-content"></div>\n                </div>\n            </div>\n            <div class="form-error" data-error-for="description"></div>\n        </div>\n    </div>\n\n    <div class="form-field">\n        <label class="form-label" for="categories">\n            Categories\n            <span class="sublabel">Max 2 categories</span>\n        </label>\n        <div class="form-dropdown-toggle categories">\n            <span class="dropdown-label name" for="categories">\n                <label id="categories" class="items-selected">Select categories</label>\n            </span>\n            <div class="menu column">\n            </div>\n        </div>\n    </div>\n\n    <div class="form-field">\n        <label class="form-label" for="tags">Tags</label>\n        <div class="form-content tags">\n            <label class="form-listbox" for="tags">\n                <textarea id="tags" class="input" autocomplete="off" placeholder="Add another" tabindex="4"></textarea>\n            </label>\n\n            <div class="suggested-tags">\n                Suggested tags:\n            </div>\n            <div class="form-error" data-error-for="tags"></div>\n        </div>\n    </div>\n\n</div>\n\n\n<div class="form-col-border-left form-col-layout">\n\n    <div class="private-limit-container"></div>\n\n    <div class="form-field">\n        <label class="form-label">\n            Private model <a href="https://help.sketchfab.com/hc/en-us/articles/115000422206-Private-Models',a+=n.suppressValue(n.contextOrFrameLookup(t,o,"anchor"),e.opts.autoescape),a+='" target="_blank" class="help"><i class="fa fa-question-circle"></i></a>\n        </label>\n        <div class="form-content">\n            <div class="form-onoff-wrapper">\n                <input id="private" class="form-onoff" type="checkbox" name="private" />\n                <label class="form-onoff-actor" for="private"></label>\n                <div class="on">\n                    <div class="form-field">\n                        <input id="password" type="password" class="form-input" name="password" value="" placeholder="Optional password" tabindex="5"/>\n                    </div>\n                </div>\n            </div>\n\n            <div class="form-error" data-error-for="private"></div>\n            <div class="form-error" data-error-for="password"></div>\n\n        </div>\n    </div>\n\n    <div class="form-field">\n\n        <label class="form-label">\n            Allow texture inspection\n            <a href="https://help.sketchfab.com/hc/en-us/articles/115004862686-Inspector',a+=n.suppressValue(n.contextOrFrameLookup(t,o,"anchor"),e.opts.autoescape),a+='" target="_blank" class="help">\n                <i class="fa fa-question-circle"></i>\n                <div class="tooltip tooltip-down">\n                    Allow people to inspect unwrapped textures in Model Inspector\n                </div>\n            </a>\n        </label>\n\n        <div id="is-downloadable-info" class="form-field info --hidden">\n            Note: Downloadable (free or paid) models must be inspectable.\n        </div>\n\n        <div class="form-content">\n            <div class="form-onoff-wrapper">\n                <input id="inspectable" class="form-onoff" type="checkbox" name="inspectable" />\n                <label class="form-onoff-actor" for="inspectable"></label>\n            </div>\n        </div>\n\n    </div>\n\n    <div class="form-field age-restricted">\n\n        <label class="form-label">\n            Age-restricted content\n            <a href="https://help.sketchfab.com/hc/en-us/articles/214867883-Age-Restricted-Content',a+=n.suppressValue(n.contextOrFrameLookup(t,o,"anchor"),e.opts.autoescape),a+='" target="_blank" class="help">\n                <i class="fa fa-question-circle"></i>\n                <div class="tooltip tooltip-down restricted">\n                    Content that is not appropriate for all audiences, like nudity or suggestive content.<br/>\n                    Click for content guidelines\n                </div>\n            </a>\n        </label>\n\n        <div class="form-content">\n            <div class="form-onoff-wrapper">\n                <input id="restricted" class="form-onoff" type="checkbox" name="restricted" />\n                <label class="form-onoff-actor" for="restricted"></label>\n            </div>\n        </div>\n\n    </div>\n\n    <div class="form-field discoverability">\n        <label class="form-label">Discoverability <span class="thumbs-up"></span></label>\n        <div class="progression small">\n            <div class="progressbar">\n                <div class="status status-danger" style="width:10%;">\n                </div>\n            </div>\n        </div>\n        <div class="description">\n            Write a good description, add categories and tags to help your model get discovered.\n            <br><a href="https://help.sketchfab.com/hc/en-us/articles/210273623-Discoverability',a+=n.suppressValue(n.contextOrFrameLookup(t,o,"anchor"),e.opts.autoescape),a+='" target="_blank">More tips to get exposure</a>\n        </div>\n    </div>\n\n    <div class="form-field info">\n        Note: Download options have been moved to the "Manage this model" section of the model page.\n    </div>\n</div>\n',r?r.rootRenderFunc(e,t,o,n,i):i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{root:e}}()}()},252:function(e,t,o){"use strict";var n=o(0),i=(o.n(n),o(13)),a=o(59),s=o(42),r=o(1);t.a=s.a.extend({displayName:"ModelCollection",optionTypes:{filters:r.b.modelShape({categories:r.b.arrayOf(r.b.oneOfType([r.b.string.isRequired,r.b.shape({uid:r.b.string.isRequired}).isRequired]).isRequired),downloadable:r.b.bool,staffpicked:r.b.bool,animated:r.b.bool,sound:r.b.bool,pbr:r.b.bool,rigged:r.b.bool,user:r.b.string,collection:r.b.string,account:r.b.string,likeBy:r.b.string,sortBy:r.b.string,tags:r.b.arrayOf(r.b.string.isRequired),date:r.b.string,fileFormats:r.b.arrayOf(r.b.string.isRequired),licenses:r.b.arrayOf(r.b.string.isRequired),faceCount:r.b.string,minFaceCount:r.b.string,maxFaceCount:r.b.string,minPrice:r.b.string,maxPrice:r.b.string,private:r.b.bool,restricted:r.b.bool,minRating:r.b.number}).isRequired},model:a.a,endpoint:"/models",defaultOptions:function(){return{filters:new i.a}},queryParams:function(){var e=this.options.filters.get("status");e=Array.isArray(e)?e[0]:e;var t={published:!0,draft:!1}[e],o=-1!==["draft","published",void 0].indexOf(e)?"succeeded":e,i=(this.options.filters.get("categories")||[]).map(function(e){return"string"==typeof e?e:e.uid});return Object(n.extend)({},s.a.prototype.queryParams.call(this),{user:this.options.filters.get("user"),collection:this.options.filters.get("collection"),account:this.options.filters.get("account"),liked_by:this.options.filters.get("likedBy"),sort_by:this.options.filters.get("sortBy"),tags:this.options.filters.get("tags"),date:this.options.filters.get("date"),categories:i,file_formats:this.options.filters.get("fileFormats"),licenses:this.options.filters.get("licenses"),face_count:this.options.filters.get("faceCount"),min_face_count:this.options.filters.get("minFaceCount"),max_face_count:this.options.filters.get("maxFaceCount"),min_price:this.options.filters.get("minPrice"),max_price:this.options.filters.get("maxPrice"),in_store:this.options.filters.get("inStore"),min_rating:this.options.filters.get("minRating"),downloadable:this.options.filters.get("downloadable"),staffpicked:this.options.filters.get("staffpicked"),animated:this.options.filters.get("animated"),sound:this.options.filters.get("sound"),pbr:this.options.filters.get("pbr"),rigged:this.options.filters.get("rigged"),published:t,processing_status:o,published_since:this.options.filters.get("published_since"),private:this.options.filters.get("private")||null,restricted:this.options.filters.get("restricted"),search:this.options.filters.get("query")})}})},256:function(e,t,o){"use strict";var n=o(9),i=o.n(n),a=o(4),s=o(2),r=o(12),l=o(23),p=o(63),u=o(1),c=o(57),d=o(149),m=o(123),h=o(155),f=o(257),v=o(258),b=o(37),g=o(306);o.n(g);t.a=f.a.extend({displayName:"ModelPreviewPopup",optionTypes:{model:u.b.model.isRequired},children:{likeButton:{selector:".like-button",viewClass:d.a,options:function(){return{trackerEvent:"modelPreviewFavoriteButtonClicked",popoverElement:this.$el.find(".popover"),model:this.options.model}}},downloadButton:{selector:".js-download-button",viewClass:v.a,shouldCreateChild:function(){return this.options.model.get("inStore")||this.options.model.get("isDownloadable")},options:function(){var e=this;return{model:this.options.model,render:function(t){var o=t.isModelInCart,n=t.isModelOwned,a=t.wasJustAdded,s=t.onAddToCart;return e.options.model.get("inStore")&&!n?{viewClass:b.a,options:i()({text:o?a?"Added to your cart!":"go to checkout":"Add to cart ("+Object(p.g)(e.options.model.get("price"))+")",type:"store",onClick:function(){o?window.location="/store/cart":s()}},o&&a?{iconClassName:"fa fa-check",iconAttrs:{style:{animation:"scaleIn .3s ease"}}}:{iconClassName:""})}:n?{viewClass:b.a,options:{text:"Download",type:"secondary",onClick:function(){return e.openDownloadPopup()}}}:[]}}}}},events:{'click [data-action="open-share-popup"]':"openSharePopup",'click [data-action="open-collection-popup"]':"openCollectionPopup",'click [data-action="goto-model"]':"goToModel",'click [data-action="go-to-comments"]':"goToComments"},initialize:function(){f.a.prototype.initialize.apply(this,arguments),this.options.model.on("change:likeCount",function(){this.updateLikeCount()}.bind(this)),this.render()},viewDidMount:function(){var e=this;this.renderChildren(),this.options.model.fetch({allowPrefetching:!1}).then(function(){return e.renderChildren()})},viewDidUpdate:function(){this.renderChildren()},open:function(){var e=f.a.prototype.open.apply(this,arguments);return this.$("iframe").focus(),e},openDownloadPopup:function(){var e=this;a.a.me().isAuthenticated()?(r.a.modelPreviewDownloadButtonClicked(this.options.model.get("uid")),this.options.model.fetch().then(function(){Object(c.b)().then(function(t){return new t({model:e.options.model}).open()}).catch(Object(l.g)(l.e))})):a.a.authenticate(function(){window.location.reload(!0)})},openCollectionPopup:function(){r.a.modelPreviewCollectionButtonClicked(this.options.model.get("uid")),new h.a({model:this.options.model}).open(),this.$(".add-to.user-guide .tooltip").addClass("hidden")},openSharePopup:function(){r.a.modelPreviewShareButtonClicked(this.options.model.get("uid")),new m.a({model:this.options.model}).open()},updateLikeCount:function(){this.$(".likes .count").text(this.options.model.get("likeCount"))},goToModel:function(e){return r.a.wrapLink(e,r.a.modelPreviewViewModelButtonClicked(this.options.model.get("uid")))},goToComments:function(e){return r.a.wrapLink(e,r.a.modelPreviewCommentsButtonClicked(this.options.model.get("uid"),this.options.model.get("commentCount")))},_close:function(){return r.a.modelPreviewClosePopupButtonClicked(this.options.model.get("uid")),f.a.prototype._close.apply(this,arguments)},template:function(){return s.default.get("skfb_front/popups/model-preview",{authUser:a.a.me().toJSON(),model:this.options.model.toJSON()})}})},257:function(e,t,o){"use strict";var n=o(0),i=(o.n(n),o(3)),a=o.n(i),s=o(24);t.a=s.a.extend({template:null,events:{"click .button":"clickEvent"},constructor:function(){this.lazyResize=Object(n.debounce)(this.setPopupSize,50),this.resizeHandler=function(){this.lazyResize()}.bind(this),s.a.prototype.constructor.apply(this,arguments)},initialize:function(){s.a.prototype.initialize.apply(this,arguments),this.lazyResize()},setElement:function(){s.a.prototype.setElement.apply(this,arguments),this.onViewerStartLoading()},onViewerStartLoading:function(){this._pollViewerIframeDocumentContent(function(e){e.addEventListener("keydown",this.onKeyDown.bind(this),!0)}.bind(this))},_pollViewerIframeDocumentContent:function(e){"function"==typeof e&&(clearInterval(this._pollViewerIframeDocumentContentInterval),this._pollViewerIframeDocumentContentInterval=setInterval(function(){var t=this.$(".viewer"),o=t.length&&t[0].contentWindow;if(o){var n=o.document;n.body&&n.body.innerHTML.length&&(clearInterval(this._pollViewerIframeDocumentContentInterval),e(n))}}.bind(this),50))},open:function(){var e=s.a.prototype.open.apply(this,arguments);return this.setPopupSize(),e},setPopupSize:function(){var e,t,o=this.$el.find(".popup"),n=this.$el.find(".popup-header").height(),i=this.$el.find(".popup-footer").height(),r=a()(window).width(),l=a()(window).height(),p=o.width(),u=o.height()+n+i,c=r/l;r>800&&(c>1.6?(u=.7*l,e=u+n+i,t=1.6*u):(p=.7*r,e=p/1.6+n+i,t=p),(u<400||p<640)&&(e=400+n+i,t=640),o.height(Math.ceil(e)),o.width(Math.ceil(t))),s.a.prototype.center.apply(this,arguments)}})},258:function(e,t,o){"use strict";var n=o(9),i=o.n(n),a=o(14),s=o(6),r=o(4),l=o(2),p=o(457),u=o(415),c=o(12),d=o(1),m=o(23),h=o(119),f=o(60),v=o(37),b=o(145);t.a=s.a.extend({displayName:"AddToCartContainer",mixins:[f.a],optionTypes:{model:d.b.model.isRequired,render:d.b.func.isRequired,className:d.b.string},defaultOptions:function(){return{className:"",authUser:r.a.me()}},state:{isModelInCart:!1,wasJustAdded:!1},events:{"change:purchases this.options.authUser":"forceUpdate"},viewDidMount:function(){var e=this;this._unsubscribeFromCart=h.e(function(t){e.setState({isModelInCart:t.some(function(t){return t.uid===e.options.model.get("uid")})})}),this.options.authUser.getHasPurchased(this.options.model.get("uid"))},viewWillUnmount:function(){this._unsubscribeFromCart()},removeWasJustAdded:function(){this.setState({wasJustAdded:!1})},openCartLimitReachedPopup:function(){return new b.a({title:"Cart limit reached",text:"You have reached the limit of "+a.a.storeCartMaxSize+" models you can put in one cart. Please proceed to checkout before adding new models to your cart.",renderButtons:function(e){return[{viewClass:v.a,options:{key:"cancel",text:"Cancel",type:"tertiary",onClick:e.cancel}},{viewClass:v.a,options:{key:"checkout",text:"checkout now",type:"store",onClick:function(){window.location="/store/cart"}}}]}}).open()},trackAddToCart:function(){var e=this.options.model.get("uid"),t=this.options.model.get("price")/100;p.a.recordAddToCart({product_id:e}),u.a.trackAddToCart({content_ids:[e],value:t}),c.a.storeModelAddedToCart(e,t)},template:function(){var e=this,t=this.options,o=t.className,n=t.render,a=t.model,s=t.authUser;return l.default.getFromString("{{ components.child | component(className) }}",{className:o,components:this.createChildrenComponents({child:n(i()({},this.state,{isModelOwned:s.hasPurchased(a.get("uid")),onAddToCart:function(){e.setState({isModelInCart:!0,wasJustAdded:!0}),h.a(a.toJSON()).then(function(){return e.trackAddToCart()}).catch(Object(m.f)(m.b,e.openCartLimitReachedPopup.bind(e)))},onRemoveFromCart:function(){e.setState({isModelInCart:!1,wasJustAdded:!1}),h.d(a.toJSON())}}))})})}})},259:function(e,t){e.exports={allow_swift_shader:{type:"bool",defaultValue:!1,values:"0, 1",share:"private",help:"Allow swift shader software rendering."},animation_autoplay:{type:"bool",defaultValue:!0,values:"0, 1",share:"private",help:"Automatically play animations when the viewer starts."},anisotropy:{type:"bool",defaultValue:!0,values:"0, 1",share:"private",help:"If we activate anisotropy when trilinear is chosen."},annotation:{type:"number",defaultValue:0,values:"[1, 50]",share:"public",help:"Setting to [1, 50] will automatically load that annotation when the viewer starts."},annotation_cycle:{type:"number",defaultValue:null,values:"+X",share:"public",help:"Setting to any number will start the Autopilot cycle with that duration, in seconds, at each annotation."},annotations_visible:{type:"bool",defaultValue:null,values:"0, 1",share:"public",help:"Setting to 0 will hide annotations by default."},api_hook_env:{type:"string",defaultValue:null,values:"prod, dev, staging, local",share:"private",help:"Viewer Api Debug."},api_version:{type:"string",defaultValue:null,values:"string",share:"private",help:"The version of the viewer API."},arkit:{type:"bool",defaultValue:!1,values:"0, 1",share:"private",help:"Initialize the viewer in ARKit mode"},arkit_debug:{type:"bool",defaultValue:!1,values:"0, 1",share:"private",help:"Enter in debug mode for ar to debug in a desktop browser"},async_image:{type:"bool",defaultValue:!1,values:"0, 1",share:"shared",help:"Loads png and jpg in asynchronous (memory overhead for now so disabled by default)."},async_shader:{type:"number",defaultValue:0,values:"+X",share:"shared",help:"Compile Shaders asynchronously, specify number of frame waiting for compilation, 0 to disable, 3 to enable at minimum"},autospin:{type:"number",defaultValue:0,values:"+/-X",share:"public",help:"Setting to any number will cause the model to automatically spin around the z-axis after loading. The greater the number, the faster the spin. A negative number will reverse the spin direction."},autostart:{type:"bool",defaultValue:!1,values:"0, 1",share:"public",help:"Setting to 1 will make the model load immediately once the page is ready, rather than waiting for a user to click the Play button."},camera:{type:"bool",defaultValue:!0,values:"0, 1",share:"public",help:"Setting to 0 will skip the initial animation that occurs when a model is loaded, and immediately show the model in its default position."},camera_constraints:{type:"bool",defaultValue:!0,values:"0, 1",share:"shared",help:"Enable / Disable camera limits"},camera_easing:{type:"number",defaultValue:null,values:"0..1",share:"private",help:"0 means no easing."},camera_eye:{type:"vec3",defaultValue:null,values:"X,Y,Z",share:"private",help:"Forces position of the camera."},camera_follow_bones:{type:"number",defaultValue:0,values:"0, 1, 2",share:"private",help:"1: translate eye 2: focus eye. You need to double-click the model on an animated part first."},camera_target:{type:"vec3",defaultValue:null,values:"0, 1",share:"private",help:"Forces the target of the camera."},cardboard:{type:"number",defaultValue:0,values:"0, 1, 2",share:"public",help:"Start in VR Mode automatically."},carmel:{type:"bool",defaultValue:!1,values:"0, 1",share:"private",help:"If we are in the carmel context."},clean_shader:{type:"bool",defaultValue:!1,values:"0, 1",share:"private",help:"Pre-process the shader to resolve the define statement."},ui_color:{type:"string",defaultValue:"",values:"",share:"private",limited_to:"ent",help:"The primary color of the ui."},continuous_render:{type:"bool",defaultValue:!1,values:"0, 1",share:"private",help:"Redraw continuously."},convert_vertex_color_8bit:{type:"bool",defaultValue:!0,values:"0, 1",share:"private",help:"Converts vertex color in 8bit."},debug3d:{type:"bool",defaultValue:!1,values:"0, 1",share:"private",help:"Open a dat.gui panel to debug 3d stuffs."},depth_mipmap:{type:"bool",defaultValue:0,values:"+X",share:"private",help:"Uses depth mipmap."},dof_attenuate_distance:{type:"bool",defaultValue:!0,values:"0, 1",share:"private",help:"Attenuates dof effect when we unzoom."},dof_attenuate_speed:{type:"bool",defaultValue:!1,values:"0, 1",share:"private",help:"Attenuates dof effect when we move the camera."},dof_res:{type:"number",defaultValue:2,values:"+X",share:"private",help:"Resolution divider of dof postprocess (2 means half resolution)."},dof_sticky:{type:"bool",defaultValue:!1,values:"0, 1",share:"private",help:"If the dof focus point sticks on the same place."},dof_transition:{type:"bool",defaultValue:!0,values:"0, 1",share:"private",help:"If there is a transition when changing the dof focus point."},double_click:{type:"bool",defaultValue:!0,values:"0, 1",share:"shared",help:"If we allow double-click (focus constraint)."},download_picture:{type:"bool",defaultValue:!1,values:"0, 1",share:"private",help:"Download the thumbnail on Save View."},drs:{type:"bool",defaultValue:!0,values:"0, 1",share:"private",help:"Enables dynamic resolution scaling."},drs_ratio:{type:"number",defaultValue:1,values:"+X",share:"private",help:"Speeds at which we reduce the resolution."},drs_fps:{type:"number",defaultValue:15,values:"0..1",share:"private",help:"Minimum before reducing the resolution."},drs_min:{type:"number",defaultValue:null,values:"0..1",share:"private",help:"Minimum resoluton rate allowed, by default value is (1.0 / canvasPixelRatio)."},drs_test:{type:"bool",defaultValue:!1,values:"0, 1",share:"private",help:"Alternates between 2 drs values (for debugging purpose)."},epsilon_alpha:{type:"number",defaultValue:1e-5,values:"0..1",share:"private",help:"GPU workaround bug with epsilon alpha discard threshold."},float_rtt:{type:"number",defaultValue:2,values:"0, 1, 2",share:"private",help:"0 : force 8bit, 1 force float if supported, 2 : depends (dynamic)."},force_controller:{type:"string",defaultValue:"",values:"vive, daydream, oculus, windows",share:"private",help:"Force display of controller (debug)."},force_controller_orientation:{type:"number",defaultValue:-.5,values:"-2..2",share:"private",help:"Rotates the controller when set: -2 is -2PI, 2 is 2PI"},force_controller_ray_orientation:{type:"number",defaultValue:-.075,values:"-2..2",share:"private",help:"Rotates the teleport ray when set: -2 is -2PI, 2 is 2PI"},force_ms:{type:"number",defaultValue:0,values:"+X",share:"private",help:"Forces framerate with a setTimeout (in ms, 0 means requestAnimationFrame)."},force_triangles:{type:"bool",defaultValue:null,values:"0, 1",share:"private",help:"Forces merge of TRIANGLE and TRIANGLE_STRIP."},fps_speed:{type:"number",defaultValue:5,values:"+X",share:"public",help:"Set the default walk speed in First-Person."},fxaa:{type:"bool",defaultValue:null,values:"0, 1",share:"private",help:"Uses fxaa."},grain_speed:{type:"number",defaultValue:64,values:"+X",share:"private",help:"Grain animation speed, in ms."},graph_optimizer:{type:"bool",defaultValue:null,values:"+X",share:"private",help:"Optimizes mesh (merge and bake geometries, etc), disabled by default in some cases (editor, api, processing)."},image_compression:{type:"bool",defaultValue:null,values:"0, 1",share:"shared",help:"Use the full resolution, original textures (false in editor, true in viewer)."},internal:{type:"bool",defaultValue:!1,values:"0, 1",share:"private",help:"Allows us to use limited parameters on whitelisted domains (e.g. hide the watermark on sketchfab.com)."},is_app:{type:"bool",defaultValue:!1,values:"0, 1",share:"private",help:"If we are in the mobile app context."},keep_empty_geometries:{type:"bool",defaultValue:!1,values:"0, 1",share:"private",help:"If we want to keep the empty geometries in the scene graph instead of removing them."},material_ao:{type:"string",defaultValue:null,values:"0, 1",share:"private",help:"override ao channel for material given by material_names option."},material_cavity:{type:"string",defaultValue:null,values:"0, 1",share:"private",help:"override cavity channel for material given by material_names option."},material_diffuse:{type:"string",defaultValue:null,values:"0, 1",share:"private",help:"override diffuse channel for material given by material_names option."},material_displacement:{type:"string",defaultValue:null,values:"0, 1",share:"private",help:"override displacement channel for material given by material_names option."},material_displacement_factor:{type:"number",defaultValue:null,values:"+X",share:"private",help:"override displacement factor channel for material given by material_names option."},material_emissive:{type:"string",defaultValue:null,values:"0, 1",share:"private",help:"override emissive channel for material given by material_names option."},material_f0:{type:"string",defaultValue:null,values:"0, 1",share:"private",help:"override f0 channel for material given by material_names option."},material_glossiness:{type:"string",defaultValue:null,values:"0, 1",share:"private",help:"override glossiness channel for material given by material_names option."},material_metalness:{type:"string",defaultValue:null,values:"0, 1",share:"private",help:"override metalness channel for material given by material_names option."},material_names:{type:"string",defaultValue:"main_material",values:"0, 1",share:"private",help:"Multiple names are separated with ; For example material_names=mat1;mat2."},material_normal:{type:"string",defaultValue:null,values:"0, 1",share:"private",help:"override normal channel for material given by material_names option."},material_packing:{type:"bool",defaultValue:null,values:"0, 1",share:"private",help:"Pack texture materials."},material_roughness:{type:"string",defaultValue:null,values:"0, 1",share:"private",help:"override roughness channel for material given by material_names option."},material_showcase:{type:"bool",defaultValue:!1,values:"0, 1",share:"private",help:"Enables material showcase."},material_specular:{type:"string",defaultValue:null,values:"0, 1",share:"private",help:"override specular channel for material given by material_names option."},material_transparency:{type:"string",defaultValue:null,values:"0, 1",share:"private",help:"override opacity channel for material given by material_names option."},max_texture_units:{type:"number",defaultValue:32,values:"+X",share:"private",help:"Sets maximum count of texture units."},max_texture_size:{type:"number",defaultValue:8192,values:"+X",share:"private",help:"All texture capped at that texture size."},max_vertex_uniforms:{type:"number",defaultValue:8192,values:"+X",share:"private",help:"Sets max vertex uniform."},merge_materials:{type:"bool",defaultValue:null,values:"0, 1",share:"private",help:"Merge similar materials."},messaging:{type:"bool",defaultValue:null,values:"0, 1",share:"private"},model:{type:"string",defaultValue:null,values:"uid",share:"UID of model to hook."},model_optimization:{defaultValue:null,help:"Use the unoptimized editor build.",share:"private",type:"bool",values:"0, 1"},morph_epsilon:{defaultValue:.05,help:"Epsilon to limit the number of interpolated morph targets per frame.",share:"private",type:"number",values:"+X"},morph_gpu:{defaultValue:4,help:"Maximum morph gpu allowed (rest is done on the cpu), minimum value is 1.",share:"private",type:"number",values:"[1, +X]"},navigation:{type:"string",defaultValue:"orbit",values:"orbit, fps",share:"public",help:"Choose between fps and orbit mode."},orbit_constraint_pan:{type:"bool",defaultValue:null,values:"0, 1",share:"shared",help:"Disable panning"},orbit_constraint_pitch_down:{type:"number",defaultValue:null,values:"[-PI/2, PI/2]",share:"shared",help:"Pitch down limit."},orbit_constraint_pitch_up:{type:"number",defaultValue:null,values:"[-PI/2, PI/2]",share:"shared",help:"Pitch up limit."},orbit_constraint_yaw_left:{type:"number",defaultValue:null,values:"[-PI, PI]",share:"shared",help:"Yaw left limit."},orbit_constraint_yaw_right:{type:"number",defaultValue:null,values:"[-PI, PI]",share:"shared",help:"Yaw right limit."},orbit_constraint_zoom_in:{type:"number",defaultValue:null,values:"+X",share:"shared",help:"Zoom in limit."},orbit_constraint_zoom_out:{type:"number",defaultValue:null,values:"+X",share:"shared",help:"Zoom out limit."},panorama:{type:"bool",defaultValue:!1,values:"0, 1",share:"private",help:"Uses panorama hdr instead of cubemap."},pixel_budget:{type:"number",defaultValue:null,values:"+X",share:"private",help:"x is nb of pixel (e.g 4096)."},pratio:{type:"number",defaultValue:null,values:"+X",share:"private",help:"For debugging, same as osgjs overrideDevicePixelRatio (but shorter)."},post_process:{type:"bool",defaultValue:null,values:"0, 1",share:"private",help:"If postprocess filters are enabled."},power_preference:{type:"string",defaultValue:"default",values:"default|low-power|high-performance",share:"private",help:"Hint for gpu (power battery vs performance). Setting high-performance might be unsafe (context lost), so be wary."},preload:{type:"bool",defaultValue:!1,values:"0, 1",share:"public",help:"Download all textures before displaying the model."},preserve_drawing_buffer:{type:"bool",defaultValue:!1,values:"0, 1",share:"public",help:"WebGL canvas option."},process_material:{type:"bool",defaultValue:!1,values:"0, 1",share:"private",help:"Reprocess materials."},process_options:{type:"bool",defaultValue:!1,values:"0, 1",share:"private",help:"Reprocess all the options (same as a reupload without backend reprocessing)."},quality:{type:"number",defaultValue:null,values:"+X",share:"private",help:"Quality of viewer (null means it depends of the fps), for now it only impacts a few postprocesses."},refraction_res:{type:"number",defaultValue:1,values:"+X",share:"private",help:"Resolution divider of refraction texture (2 means half resolution)."},resize_timeout:{type:"number",defaultValue:1e3,values:"+X",share:"shared",help:"Resize timeout when the size is stable (in ms)."},rgbm:{type:"bool",defaultValue:!0,values:"0, 1",share:"private",help:"For quick visual framebuffer debugging (spectorjs)."},scale:{type:"number",defaultValue:1,values:"+X",share:"private",help:"Scale the scene (DEBUG only)."},scale_epsilon:{type:"number",defaultValue:1e-4,values:"+X",share:"private",help:"Epsilon used to drop rendering of small matrixTransform/geometries (DEBUG only)."},scrollwheel:{type:"bool",defaultValue:!0,values:"0, 1",share:"public",help:"Disable zooming with scrollwheel (Ctrl+Click/drag still zooms)."},shadow:{type:"bool",defaultValue:!0,values:"0, 1",share:"private",help:"enable shadow"},shadow_atlas:{type:"bool",defaultValue:!0,values:"0, 1",share:"private",help:"enable shadow atlas."},shadow_jitter_offset:{type:"string",defaultValue:"default",values:"default, none",share:"private",help:"If we use jitter offset shadow."},shadow_normal_offset:{type:"bool",defaultValue:!1,values:"0, 1",share:"private",help:"If we use normal offset shadow bias."},shadow_PCF:{type:"string",defaultValue:"1Tap(4texFetch)",values:"1Tap(4texFetch), 4Tap(16texFetch), 9Tap(36texFetch), 16Tap(64texFetch)",share:"private",help:"Shadow attempt to fight aliasing complex settings."},shadow_texture_size:{type:"number",defaultValue:1024,values:"+X",share:"private",help:"Size of shadowmaps."},share:{type:"bool",defaultValue:!1},show_bones:{type:"number",defaultValue:0,values:"0, 1, 2, 3",share:"private",help:"1: Skeleton only, 2: Skeleton + Mesh, 3: Bounding boxes"},single_sided:{type:"bool",defaultValue:null,values:"0, 1",share:"private",help:"Force single sided (or double sided) on all material"},snap_keyframe:{type:"bool",defaultValue:!1,values:"0, 1",share:"private",help:"Snap on keyframes."},sound_enable:{type:"bool",defaultValue:!0,values:"0, 1",share:"private",help:"Enables the sound feature"},sound_mute:{type:"bool",defaultValue:!1,values:"0, 1",share:"private",help:"Mute any sound"},sound_preload:{type:"bool",defaultValue:!1,values:"0, 1",share:"private",help:"Preloads the sounds"},split_limit:{type:"number",defaultValue:65535,values:"+X",share:"private",help:"Graph optimizer split limit"},ssao_normal:{type:"bool",defaultValue:!1,values:"0, 1",share:"private",help:"DEBUG ONLY! otherwise needs mrt."},ssr:{type:"bool",defaultValue:null,values:"0, 1",share:"private",help:"Forces screen space reflection."},ssr_transparent:{type:"bool",defaultValue:!1,values:"0, 1",share:"private",help:"Enables SSR on transparent material (additive/blending/refraction)."},sss_jitter:{type:"number",defaultValue:1,values:"[0, 1]",share:"private",help:"SSS jitter force ."},sss_kernel:{type:"number",defaultValue:17,values:"11, 17, 25",share:"private",help:"Kernel size for diffuse kernel scattering."},stats:{type:"bool",defaultValue:!1,values:"0, 1",share:"private",help:"OSGJS option to display stats"},svg_size:{type:"number",defaultValue:2048,values:"+X",share:"private",help:"Default svg size."},substance_displacement:{type:"bool",defaultValue:!1,values:"0, 1",share:"private",help:"Moves vertices in y dimension only (displacement map)."},supersample:{type:"bool",defaultValue:!0,values:"0, 1",share:"private",help:"If accumulation supersample is enabled or not."},tracking:{type:"bool",defaultValue:!0,limited_to:"staff"},taa:{type:"bool",defaultValue:null,values:"0, 1",share:"private",help:"Forces disabling/enabling of Temporal Anti-Aliasing."},taa_animation:{type:"bool",defaultValue:!1,values:"[0, 1]",share:"private",help:"If we allow taa while an animation is playing."},taa_feedback_max:{type:"number",defaultValue:.97,values:"[0, 1]",share:"private",help:"Feedback controls how much the current and the previous frames are blended together. The blending is done within the [min,max] range."},taa_feedback_min:{type:"number",defaultValue:.88,values:"[0, 1]",share:"private",help:"Feedback controls how much the current and the previous frames are blended together. The blending is done within the [min,max] range."},taa_jitter:{type:"bool",defaultValue:null,values:"0, 1",share:"private",help:"Enable/Disable jittering when not supersampling."},taa_transparent:{type:"bool",defaultValue:null,values:"0, 1",share:"private",help:"Enables taa on transparent objects."},tab:{type:"string",defaultValue:null,values:"scene, lighting, materials, post processing filters, annotations, animation, virtual reality, sound",share:"private",help:"Default tab opening in the editor (note: the web is not using getOptions, the entry is here for documentation only)."},texture_frame_budget:{type:"number",defaultValue:512,values:"+X",share:"private",help:"x is nb of pixel, Frame texture budget upload/allocation per frame."},transparent:{type:"bool",defaultValue:!1,values:"0, 1",share:"public",limited_to:"pro",help:"Makes the background transparent."},ui_animations:{type:"bool",defaultValue:!0,values:"0, 1",share:"public",limited_to:"prem",help:"Hide Animation menu / timeline."},ui_annotations:{type:"bool",defaultValue:!0,values:"0, 1",share:"public",limited_to:"prem",help:"Hide Annotation menu / controls."},ui_controls:{type:"bool",defaultValue:!0,values:"0, 1",share:"public",limited_to:"prem",help:"Hide help, Settings, VR, Fullscreen."},ui_fadeout:{type:"bool",defaultValue:!0,limited_to:"prem"},ui_fullscreen:{type:"bool",defaultValue:!0,values:"0, 1",share:"public",limited_to:"prem",help:"Hide Fullscreen button."},ui_general_controls:{type:"bool",defaultValue:!0,values:"0, 1",share:"public",limited_to:"prem",help:"Hide all viewer controls."},ui_help:{type:"bool",defaultValue:!0,values:"0, 1",share:"public",limited_to:"prem",help:"Hide help button."},ui_hint:{type:"number",defaultValue:1,values:"0, 1, 2",share:"private",help:"Hide viewer hint."},ui_infos:{type:"bool",defaultValue:!0,values:"0, 1",share:"public",limited_to:"prem",alias:["desc_button"],help:"Hide top info bar."},ui_inspector:{type:"bool",defaultValue:!0,values:"0, 1",share:"private",limited_to:"prem",help:"Show model inspector."},ui_inspector_open:{type:"bool",defaultValue:!1,values:"0, 1",share:"private",help:"Show model inspector open on start."},ui_related:{type:"bool",defaultValue:!0,values:"0, 1",share:"public",limited_to:"pro",help:"Hide related models."},ui_settings:{type:"bool",defaultValue:!0,values:"0, 1",share:"public",limited_to:"prem",help:"Hide Settings button."},ui_snapshots:{type:"bool",defaultValue:!1,values:"0, 1",share:"public",help:"Show Save View button."},ui_sound:{type:"bool",defaultValue:!0,limited_to:"staff"},ui_stop:{type:"bool",defaultValue:!0,values:"0, 1",share:"public",alias:["stop_button"],help:"Hide Stop Viewer button. "},ui_theatre:{type:"bool",defaultValue:!1,limited_to:"prem"},ui_vr:{type:"bool",defaultValue:!0,values:"0, 1",share:"public",limited_to:"prem",help:"Hide View in VR button."},ui_watermark:{type:"bool",defaultValue:!0,alias:["watermark"],limited_to:"ent",help:"Disable watermark when false."},ui_watermark_link:{type:"bool",defaultValue:!0,limited_to:"biz",help:"Disable link in watermark when false."},unit_render_local:{type:"bool",defaultValue:!1,values:"0, 1",share:"private",help:"Uses for unit render test."},unit_render_reporter:{type:"string",defaultValue:"html",values:"console, html",share:"private",help:"To run 1 uid in /tests/screenshot"},unit_render_task:{type:"number",defaultValue:null,values:"index",share:"private",help:"To run only one test in /tests/screenshot"},use_vao:{type:"bool",defaultValue:!0,values:"0, 1",share:"private",help:"If we use the VAO gl extension."},varying_sorting:{type:"bool",defaultValue:!0,values:"0, 1",share:"private",help:"Hack because of earlyz (bug gpu)."},vr_ar:{type:"bool",defaultValue:!1,values:"0, 1",share:"private",help:"transparent background and no floor (to test)"},vr_browser_env:{type:"string",defaultValue:"c0022acc4f3242e2bcae8043e08df8cc",values:"uid",share:"private",help:"Model UID of the environment model for the vr browse."},vr_fade:{type:"number",defaultValue:200,values:"+X",share:"private",help:"Fade time of the black transition in vr."},vr_launcher_alpha_card_factor:{type:"number",defaultValue:1,values:"+X",share:"private",help:"Alpha card factor."},vr_mirror:{type:"bool",defaultValue:!1,values:"0, 1",share:"public",help:"Copy VR headset view on desktop screen."},vr_mobile_max_faces:{type:"number",defaultValue:5e4,values:"+X",share:"public",help:"Filter the fetched models in vr on mobile to those with a face count below the value"},vr_generate_ui_textures:{type:"bool",defaultValue:!0,values:"0, 1",share:"private",help:"Set to false to disable the UI texture generation in VR (fallback for ios app)"},vr_force_raf:{type:"bool",defaultValue:!1,values:"0, 1",share:"private",help:"Debug only (force replacement of native raf with hmd raf)."},vr_link_navigation:{type:"bool",defaultValue:0,values:"0, 1",share:"private",help:"1 means the vr launcher use standards link navigation to navigate in VR."},vr_in_navigation:{type:"bool",defaultValue:0,values:"0, 1",share:"private",help:"1 means browser is in vr."},vr_scale_rtt:{type:"number",defaultValue:0,values:"+X",share:"private",help:"If not 0, it will scale the size of te recommended vr renderTarget."},vr_stereo:{type:"bool",defaultValue:!0,values:"0, 1",share:"private",help:"Mostly for debugging vr on desktop: disable stereo view in vr context."},webgl2:{type:"bool",defaultValue:null,values:"0, 1",share:"shared",help:"Uses webgl2 instead of webgl1 if provided."},webgl_timer_gpu:{type:"bool",defaultValue:!1,values:"0, 1",share:"private",help:"when false, disables gpu timer queries for cleaner gl traces."},webgl_restore:{type:"number",defaultValue:3,values:"+X",share:"private",help:"when 0, enables webgl restore on other browser than Edge."}}},261:function(e,t,o){o(17),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/popups/missing-webgl.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null;e.getTemplate("skfb_front/layouts/popup.jinja",!0,"skfb_front/popups/missing-webgl.jinja",!1,function(r,l){if(r)return void i(r);s=l;for(var p in s.blocks)t.addBlock(p,s.blocks[p]);a+="\n\n";var u;u="Compatibility error",o.set("popupTitle",u,!0),o.topLevel&&t.setVariable("popupTitle",u),o.topLevel&&t.addExport("popupTitle",u),a+="\n";var c;c="popup-message",o.set("popupClass",c,!0),o.topLevel&&t.setVariable("popupClass",c),o.topLevel&&t.addExport("popupClass",c),a+="\n\n",(s?function(e,t,o,n,i){i("")}:t.getBlock("popup_content"))(e,t,o,n,function(r,l){if(r)return void i(r);a+=l,a+="\n\n",(s?function(e,t,o,n,i){i("")}:t.getBlock("popup_footer"))(e,t,o,n,function(r,l){if(r)return void i(r);a+=l,a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)})})})}catch(e){i(n.handleError(e,null,null))}}function t(e,t,o,n,i){var a="";try{var o=o.push(!0);a+='\n\n    Sorry, your browser is not compatible with the 3D settings editor. <br>\n    Please use a WebGL-enabled browser to edit your 3D settings. <br>\n    See the <a href="https://help.sketchfab.com/hc/en-us/articles/203059088-Compatibility?utm_source=website&utm_campaign=error_webgl" target="_blank">Help Center</a> for more information.\n\n',i(null,a)}catch(e){i(n.handleError(e,null,null))}}function o(e,t,o,n,i){var a="";try{var o=o.push(!0);a+='\n    <div class="actions">\n\n    <button class="button btn-medium btn-primary submit" type="submit">',a+=n.suppressValue(e.getFilter("default").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"buttons"),"okLabel"),"OK"),e.opts.autoescape),a+="</button>\n\n    </div>\n",i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{b_popup_content:t,b_popup_footer:o,root:e}}()}()},262:function(e,t,o){o(17),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/popups/share.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null;e.getTemplate("skfb_front/layouts/popup.jinja",!0,"skfb_front/popups/share.jinja",!1,function(r,l){if(r)return void i(r);s=l;for(var p in s.blocks)t.addBlock(p,s.blocks[p]);a+="\n\n";var u;u="Share",o.set("popupTitle",u,!0),o.topLevel&&t.setVariable("popupTitle",u),o.topLevel&&t.addExport("popupTitle",u),a+="\n";var c;c="popup-share",o.set("popupClass",c,!0),o.topLevel&&t.setVariable("popupClass",c),o.topLevel&&t.addExport("popupClass",c),a+="\n";var d;d=!0,o.set("popupClosable",d,!0),o.topLevel&&t.setVariable("popupClosable",d),o.topLevel&&t.addExport("popupClosable",d),a+="\n";var m;m=!0,o.set("popupNeedsLoading",m,!0),o.topLevel&&t.setVariable("popupNeedsLoading",m),o.topLevel&&t.addExport("popupNeedsLoading",m),a+="\n\n",(s?function(e,t,o,n,i){i("")}:t.getBlock("popup_content"))(e,t,o,n,function(r,l){if(r)return void i(r);a+=l,a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)})})}catch(e){i(n.handleError(e,null,null))}}function t(e,t,o,n,i){var a="";try{var o=o.push(!0);a+='\n\n    <div class="form-column-layout">\n\n        <div class="link-share">\n            <div class="form-field">\n                <label class="form-label" for="directlink">Direct link</label>\n                <input class="form-input directlink" value="',a+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"model"),"sharing"),"shortUrl"),e.opts.autoescape),a+='" readonly />\n            </div>\n\n            <div class="form-field">\n                <label class="form-label">Share to</label>\n                <ul class="socialmedia">\n                    <li><button class="icons-facebook" title="Facebook" data-action="share-on-facebook"></button></li>\n                    <li><button class="icons-twitter" title="Twitter" data-action="share-on-twitter"></button></li>\n                    <li><button class="icons-reddit" title="reddit" data-action="share-on-reddit"></button></li>\n                    <li><button class="icons-tumblr" title="tumblr" data-action="share-on-tumblr"></button></li>\n                    <li><button class="icons-google" title="Google+" data-action="share-on-google-plus"></button></li>\n                    <li><button class="icons-linkedin" title="Linkedin" data-action="share-on-linkedin"></button></li>\n                    <li><button class="icons-pinterest" title="Pinterest" data-action="share-on-pinterest"></button></li>\n                    <li><a class="fa fa-envelope-square" title="E-mail" href="',a+=n.suppressValue(n.contextOrFrameLookup(t,o,"mailto"),e.opts.autoescape),a+='"></a></li>\n                </ul>\n            </div>\n\n            <div class="form-field">\n                <label class="form-label" for="open-embed">\n                ',1==n.contextOrFrameLookup(t,o,"sharingMode")?a+="\n                    Embed viewer\n                ":2==n.contextOrFrameLookup(t,o,"sharingMode")&&(a+="\n                    Embed collection as playlist\n                "),a+='\n                </label>\n                <a id="open-embed" class="button btn-large btn-primary open-embed" data-action="open-embed-popup">\n                    <i class="icon fa fa-code"></i>\n                    Get embed code\n                </a>\n            </div>\n\n        </div>\n\n    </div>\n\n',i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{b_popup_content:t,root:e}}()}()},263:function(e,t,o){o(17),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/popups/share-after-publish.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null;e.getTemplate("skfb_front/layouts/popup.jinja",!0,"skfb_front/popups/share-after-publish.jinja",!1,function(r,l){if(r)return void i(r);s=l;for(var p in s.blocks)t.addBlock(p,s.blocks[p]);a+="\n\n";var u;u="Model published",o.set("popupTitle",u,!0),o.topLevel&&t.setVariable("popupTitle",u),o.topLevel&&t.addExport("popupTitle",u),a+="\n";var c;c="popup-share popup-publish-share",o.set("popupClass",c,!0),o.topLevel&&t.setVariable("popupClass",c),o.topLevel&&t.addExport("popupClass",c),a+="\n";var d;d=!0,o.set("popupClosable",d,!0),o.topLevel&&t.setVariable("popupClosable",d),o.topLevel&&t.addExport("popupClosable",d),a+="\n";var m;m=!0,o.set("popupNeedsLoading",m,!0),o.topLevel&&t.setVariable("popupNeedsLoading",m),o.topLevel&&t.addExport("popupNeedsLoading",m),a+="\n\n",(s?function(e,t,o,n,i){i("")}:t.getBlock("popup_content"))(e,t,o,n,function(r,l){if(r)return void i(r);a+=l,a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)})})}catch(e){i(n.handleError(e,null,null))}}function t(e,t,o,n,i){var a="";try{var o=o.push(!0);a+='\n\n    <div class="form-column-layout">\n\n        <div class="link-share">\n\n            <div class="success-message">\n                <div class="success-message-icon">\n                    <span class="fa-stack fa-lg">\n                        <i class="fa fa-circle fa-stack-2x" style="color: #1FCC74"></i>\n                        <i class="fa fa-check fa-stack-1x" style="color: #ffffff"></i>\n                    </span>\n                </div>\n                <div class="success-message-text">\n                    Your model has been published\n                </div>\n            </div>\n\n            <div class="popup-publish-link">\n                <input type="text" class="form-input input directlink" value="',a+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"model"),"viewerUrl"),e.opts.autoescape),a+='" />\n            </div>\n\n            <div class="popup-publish-share-privacy">\n                ',n.memberLookup(n.contextOrFrameLookup(t,o,"model"),"isProtected")?a+="\n                    Only people with the link and password will have access\n                ":n.memberLookup(n.contextOrFrameLookup(t,o,"model"),"isPrivate")&&(a+="\n                    Only people with the link will have access\n                "),a+="\n            </div>\n\n            ",n.memberLookup(n.contextOrFrameLookup(t,o,"model"),"isProtected")||n.memberLookup(n.contextOrFrameLookup(t,o,"model"),"isPrivate")||(a+='\n            <div class="form-field">\n                <label class="form-label">Share to</label>\n                <ul class="socialmedia">\n                    <li><button class="icons-facebook" title="Facebook" data-action="share-on-facebook"></button></li>\n                    <li><button class="icons-twitter" title="Twitter" data-action="share-on-twitter"></button></li>\n                    <li><button class="icons-reddit" title="reddit" data-action="share-on-reddit"></button></li>\n                    <li><button class="icons-tumblr" title="tumblr" data-action="share-on-tumblr"></button></li>\n                    <li><button class="icons-google" title="Google+" data-action="share-on-google-plus"></button></li>\n                    <li><button class="icons-linkedin" title="Linkedin" data-action="share-on-linkedin"></button></li>\n                    <li><button class="icons-pinterest" title="Pinterest" data-action="share-on-pinterest"></button></li>\n                    <li><a class="fa fa-envelope-square" title="E-mail" href="',a+=n.suppressValue(n.contextOrFrameLookup(t,o,"mailto"),e.opts.autoescape),a+='"></a></li>\n                </ul>\n            </div>\n            '),a+="\n\n        </div>\n\n    </div>\n\n",i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{b_popup_content:t,root:e}}()}()},28:function(e,t){!function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/activities.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null,r=n.makeMacro(["timestamp"],[],function(i,a){var s=o;o=new n.Frame,a=a||{},a.hasOwnProperty("caller")&&o.set("caller",a.caller),o.set("timestamp",i);var r="";return r+='\n    <div>\n        <time class="activity__time help">\n            <span>',r+=n.suppressValue(e.getFilter("time_ago").call(t,i),e.opts.autoescape),r+='</span>\n            <div class="tooltip tooltip-right">\n                ',r+=n.suppressValue(e.getFilter("format_date").call(t,i,"full"),e.opts.autoescape),r+="\n            </div>\n        </time>\n    </div>\n",o=s,new n.SafeString(r)});t.addExport("activity_date"),t.setVariable("activity_date",r),a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{root:e}}()}()},286:function(e,t,o){"use strict";var n=o(0),i=(o.n(n),o(166));t.a=i.a.extend({pages:{},routes:{"search*":"search"},initialize:function(){i.a.prototype.initialize.apply(this,arguments),this.on("route",this._updateTitle)},search:function(){this._activePage&&this._activePage.searchModel&&!this._activePage.searchModel.isActive()&&(this._oldTitle=document.title,this._activePage.searchModel.get("filters").set(this._activePage.searchModel.urlToFilters()),this._activePage.searchModel.trigger("searchStart"))},_updateTitle:function(){return this._activePage&&this._activePage.searchModel&&this._activePage.searchModel.isActive()?void(document.title=this._activePage.searchModel.getPageTitle()):this._activePage&&this._activePage.title?void(document.title=Object(n.result)(this._activePage,"title")):this._oldTitle?void(document.title=this._oldTitle):void 0},_createPage:function(e,t,o){return o=o||{},Object(n.defaults)(o,{el:"body"}),this.pages[e]=new t(o),this.pages[e]},_createOrResetPage:function(e,t,o){var n=e,i=t,a=o;return"function"==typeof e&&(n="defaultId",i=e,a=t),this.pages[n]?(this.pages[n].reset(),this._activePage=this.pages[n]):this._activePage=this._createPage(n,i,a),this._activePage}})},287:function(e,t,o){"use strict";var n=o(9),i=o.n(n),a=o(0),s=(o.n(a),o(3)),r=o.n(s),l=o(4),p=o(67),u=o(2),c=o(1),d=o(12),m=o(295),h=o(205),f=o(24),v=o(316),b=o(288),g=o(317),k=o(183),_=o(318),w=o(334),L=o(33),y=o(182),x=o(13),O=o(249),F=o(23),C=o(298),S=(o.n(C),o(174));o.n(S);t.a=f.a.extend({mixins:[m.a,h.a],optionTypes:{name:c.b.string,userIsUpdated:c.b.bool},template:function(){return u.default.get("skfb_front/popups/model-settings",{isNew:!1})},events:{'click [data-action="change-mode"]':"toggleShowRenderedMarkdown","input .markdown-editor textarea":"unsetMarkdownReady","keyup .markdown-editor textarea":"countCharactersMarkdown","mouseover #mode-preview":"renderMarkdown","click #mode-preview":"renderMarkdown","reset form":"cancelSettings","submit form":"applySettings","click .dropdown-label":"toggleClickEvent",'click label[for="restricted"]':"checkAllowsRestricted"},children:{privateLimits:{selector:".private-limit-container",viewClass:v.a,options:function(){return{privateLimit:l.a.me().get("privateLimit"),canProtectModels:l.a.me().get("canProtectModels"),account:l.a.me().get("account")}}}},constructor:function(){this._boundDocumentClickEvent=this.documentClickEvent.bind(this),f.a.prototype.constructor.apply(this,arguments)},initialize:function(){f.a.prototype.initialize.apply(this,arguments),this._model=this.model,this.model=this.model.clone();var e=new x.a({descriptionFilled:!1,descriptionCompleted:!1,category:!1,tag:!1});this.model.set("discoverability",e),this.model.isInflated()?this.renderForm():(this.setIsLoading(!0),this.model.fetch().then(function(){this.setIsLoading(!1),this.renderForm()}.bind(this))),this.options.userIsUpdated||l.a.me({allowPrefetching:!1}).then(function(){this.forceUpdate()}.bind(this))},render:function(){f.a.prototype.render.apply(this,arguments),this.renderChildren()},afterRender:function(){this.model.isInflated()&&(l.a.me().get("canProtectModels")||this.model.get("isPrivate")||this._privateSwitch.disable(),this.model.get("isDownloadable")||this.model.get("price")>0?(this._inspectableSwitch.disable(),this.$("#is-downloadable-info").removeClass("--hidden")):this.$("#is-downloadable-info").addClass("--hidden"))},renderForm:function(){this.initializeMarkdown({editor:{container:this.$(".markdown-editor")},input:this.$(".markdown-editor textarea"),target:this.$(".markdown-rendered-content")}),this.model.on("change:isPrivate",function(e,t){if(this.$(".discoverability").toggle(!t),t){if(!l.a.me().get("canProtectModels"))return this._privateSwitch.el.checked=!1,this.model.set("isPrivate",!1),void this._privateSwitch.disable();if(this.model.get("isPublished")){var o=new w.a({model:this.model,shortUrl:this.shortUrl});o.open().then(function(){o.close()},function(){o.close(),this._privateSwitch.el.checked=!1,this.model.set("isPrivate",!1)}.bind(this))}}}.bind(this)),this.model.on("change:description",Object(p.a)(this.countCharactersMarkdown,this)),this.model.on("change:categories",Object(p.a)(function(){var e=this.model.get("categories");this.model.get("discoverability").set("category",!!(e&&e.length>=1))},this)),this.model.on("change:tags",Object(p.a)(function(){var e=this.model.get("tags");this.model.get("discoverability").set("tag",!!(e&&e.length>=1))},this)),this.model.get("discoverability").on("change",Object(p.a)(this.updateDiscoverability,this)),new k.a({model:this.model,name:"name",el:this.$('[name="name"]')}),new k.a({model:this.model,name:"description",el:this.$('[name="description"]')});var e=g.a.extend({events:{'click [data-action="add-tag"]':function(e){e.preventDefault();var t=r()(e.target),o=t.text(),n=(this.model.get(this.options.name)||[]).slice();-1===n.indexOf(o)&&(n.push(t.text()),this.model.set(this.options.name,n),this.shake())}},initialize:function(){g.a.prototype.initialize.apply(this,arguments),r.a.get("/i/users/me/tag_suggestions",function(e){this.renderSuggestions(e.results)}.bind(this))},renderSuggestions:function(e){var t=this.$(".suggested-tags");if(e.length){var o=[];Object(a.each)(e,function(e){var t='<a href="/tags/'+e+'" data-action="add-tag">'+e+"</a>";o.push(t)}),t.append(o.join(", "))}else t.remove()}}),t=new y.a;t.fetch().then(function(){var e=this.getCategoryUids();this.$(".menu").html(u.default.getFromMacro("skfb_front/macros/dropdowns","toggle_dropdown_categories",[t.toJSON().map(function(t){return i()({},t,{active:-1!==e.indexOf(t.uid)})})])),this.model.set("categories",e),this.dropdownCategories=new _.a({model:this.model,name:"categories",el:this.$(".categories"),updateMultipleLabel:!0,defaultLabelValue:"Select categories",maxSize:2})}.bind(this)),new e({model:this.model,name:"tags",el:this.$(".tags"),removeSpecialChar:!1,autocompletion:!0}),this._privateSwitch=new b.a({model:this.model,name:"isPrivate",el:this.$('[name="private"]')}),this._inspectableSwitch=new b.a({model:this.model,name:"isInspectable",el:this.$('[name="inspectable"]')}),new k.a({model:this.model,name:"password",el:this.$('[name="password"]')}),this.$('.form-onoff[name="restricted"]').prop("checked",this.model.get("isRestricted")),this.$('.form-onoff[name="inspectable"]').prop("checked",this.model.get("isInspectable")),this.model.get("isProtected")&&this.$('[name="password"]').val("password"),this.model.get("isPrivate")&&this.$(".discoverability").hide(),this.countCharactersMarkdown()},delegateEvents:function(){f.a.prototype.delegateEvents.apply(this,arguments),r()(document).on("click",this._boundDocumentClickEvent)},undelegateEvents:function(){f.a.prototype.undelegateEvents.apply(this,arguments),r()(document).off("click",this._boundDocumentClickEvent)},documentClickEvent:function(e){this.dropdownCategories&&this.dropdownCategories.isOpen()&&r()(e.target).closest(".expanded").length<=0&&this.dropdownCategories.close()},toggleClickEvent:function(){this.dropdownCategories&&this.dropdownCategories.toggle()},countCharactersMarkdown:function(){var e=this.getMarkdownEditorValue().length;this.model.get("discoverability").set("descriptionFilled",e>20),this.model.get("discoverability").set("descriptionCompleted",e>100),e=parseInt(this.$(".textarea-wrapper textarea").attr("maxlength"),10)-e,this.$(".mode-info .count").text(e)},toggleShowRenderedMarkdown:function(e){e.preventDefault();var t=r()(e.target),o=t.data("value");this.$(".mode .active").removeClass("active"),t.addClass("active"),this.$(".markdown-editor").toggleClass("enabled","preview"===o)},updateDiscoverability:function(){var e=this.$(".progressbar .status");e.removeClass(function(e,t){return(t.match(/(^|\s)status-\S+/g)||[]).join(" ")});var t=10,o=this.model.get("discoverability");o.get("descriptionFilled")&&(t+=20),o.get("descriptionCompleted")&&(t+=20),o.get("category")&&(t+=25),o.get("tag")&&(t+=25),t<20&&e.addClass("status-danger"),t>=30&&t<70&&e.addClass("status-warning"),t>=70&&e.addClass("status-success");var n=100===t?"&#x1f44d;":"";this.$(".discoverability .thumbs-up").html(n),e.css("width",t+"%")},getCategoryUids:function(){return[].concat(this.model.get("categories")||[]).map(function(e){return e.uid?e.uid:e})},checkAllowsRestricted:function(e){var t=this;e.preventDefault(),e.stopPropagation(),O.a.restricted({text:"To publish age-restricted content, you need to enable age-restricted content in your settings.",updateUserSetting:!1}).then(function(){var e=t.$('.form-onoff[name="restricted"]');t.model.set("isRestricted",!e.prop("checked")),e.prop("checked",!e.prop("checked"))}).catch(Object(F.g)(F.e))},applySettings:function(){if(!this.pending){var e=this.model.get("categories"),t=this.getCategoryUids();return this.pending=!0,d.a.modelSettingsSaveButtonClicked(this.model.get("uid")),this.model.save({name:this.model.get("name"),description:this.model.get("description"),tags:this.model.get("tags"),isPrivate:this.model.get("isPrivate"),password:this.model.get("isPrivate")?this.model.get("password"):"",isProtected:this.model.get("isProtected"),categories:t,isRestricted:this.model.get("isRestricted"),isInspectable:this.model.get("isInspectable")},{patch:!0}).then(function(){this._model.set({name:this.model.get("name"),description:this.model.get("description"),tags:this.model.get("tags"),isPrivate:this.model.get("isPrivate"),password:this.model.get("isPrivate")?this.model.get("password"):"",isProtected:this.model.get("isProtected"),categories:e,isRestricted:this.model.get("isRestricted"),isInspectable:this.model.get("isInspectable")}),this._onApplySettings()}.bind(this),function(e){if(e.responseJSON&&e.responseJSON.detail)this.automagicErrors(e.responseJSON.detail);else{var t=new L.default({title:"Error while saving settings",text:e.responseJSON&&e.responseJSON.detail||"Unexpected error while saving settings.",buttons:{ok:!0}});t.open().then(function(){t.close()})}this.pending=!1}.bind(this))}},cancelSettings:function(){d.a.modelSettingsCancelButtonClicked(this.model.get("uid")),this.close(!0)},_onApplySettings:function(){this.onApplySettings?this.onApplySettings():window.location.reload()}})},288:function(e,t,o){"use strict";var n=o(7),i=o(67),a=o(1);t.a=n.a.extend({displayName:"FormBoolean",optionTypes:{name:a.b.string.isRequired,prepopulated:a.b.bool},events:{change:function(){this.$el.addClass("edited"),this.model.set(this.options.name,this.$el.prop("checked"))}},initialize:function(){n.a.prototype.initialize.apply(this,arguments),this.options.prepopulated&&this.model.set(this.options.name,this.$el.prop("checked")),this.model.on("change:"+this.options.name,Object(i.a)(function(){this.model.get(this.options.name)&&this.$el.attr("checked","checked")},this))},disable:function(){this.$el.next().addClass("disabled")}})},289:function(e,t,o){"use strict";var n=o(5),i=o.n(n),a=o(38),s=o(1),r=o(2),l=o(34),p=o(56),u=o(35),c=o(63),d=o(117),m=o(18),h=function(e,t){return t.reduce(function(t,o){return Math.abs(o.height-e)<Math.abs(t.height-e)?o:t},{height:1/0})};t.a=a.a.extend({displayName:"Model360Preview",mixins:[d.a],optionTypes:{modelUid:s.b.string.isRequired,color:s.b.string,previewOnDrag:s.b.bool},defaultOptions:{color:"",previewOnDrag:!0},state:{isVisible:!1,image:{width:100,height:100},containerWidth:1,containerHeight:1,loadingPercent:0,cursorX:0,startCursorX:0},events:{mouseenter:"onStart",mousemove:"onMove",mouseleave:"onEnd",dragstart:function(e){this.options.previewOnDrag&&this.onStart(e)},drag:function(e){this.options.previewOnDrag&&this.onMove(e)},dragend:function(e){this.options.previewOnDrag&&this.onEnd(e)}},initialize:function(){a.a.prototype.initialize.apply(this,arguments),this.debouncedLoadPreview=Object(l.b)(this.loadPreview.bind(this),350)},isActive:function(){return this.state.isVisible&&1===this.state.loadingPercent},loadPreview:function(){var e=this;if(1!==this.state.loadingPercent){var t=this.refs.el.getBoundingClientRect(),o=t.width,n=t.height;this.setState({loadingPercent:.1,containerWidth:o,containerHeight:n}),m.a.getModelFallback(this.options.modelUid).then(function(t){return e.setState({loadingPercent:.5}),t.results.images}).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return h(400,e)}).then(function(e){return e.height<300?i.a.reject():e}).then(function(e){return Object(p.g)(e.url).then(function(){return e})}).then(function(t){e.setState({image:t,loadingPercent:1})}).catch(function(){e.setState({loadingPercent:0})})}},show:function(e){this.state.isVisible||1!==this.state.loadingPercent||this.setState({isVisible:!0,cursorX:e,startCursorX:e})},onStart:function(){this.debouncedLoadPreview()},onMove:function(e){var t=e.target.getBoundingClientRect(),o=t.width,n=t.left,i=Object(u.b)(e),a=(i.x-n)/o;this.isActive()?this.setState({cursorX:a}):this.show(a)},onEnd:function(){this.debouncedLoadPreview.cancel(),this.setState({isVisible:!1})},template:function(){var e=this.state.cursorX-this.state.startCursorX,t=Math.floor(15*e),o=this.state.image.width/15,n=Object(c.i)(this.state.containerWidth,this.state.containerHeight,o,this.state.image.height),i=n.width,a=n.height,s=a,l=15*i,p=-t/14;return r.default.getFromString("\n            <div class=\"c-model-360-preview\" data-ref=\"el\">\n                <div class=\"c-model-360-preview__background {{ '--loaded' if isLoaded }} {{ '--visible' if isVisible }}\">\n                    <div\n                        class=\"c-model-360-preview__image\"\n                        style=\"{{ {\n                            'backgroundImage': 'url(' + state.image.url + ')' if state.image.url else '',\n                            'backgroundPosition': backgroundX + ' center',\n                            'backgroundSize': backgroundWidth + ' ' + backgroundHeight\n                        } | style }}\"></div>\n                </div>\n                <div\n                    class=\"c-model-360-preview__loading\"\n                    style=\"{{ {\n                        'width': state.loadingPercent * 100 + '%',\n                        'height': '0' if state.loadingPercent == 1,\n                        'backgroundColor': options.color\n                    } | style }}\"></div>\n            </div>\n            ",{options:this.options,state:this.state,isLoaded:1===this.state.loadingPercent,isVisible:this.state.isVisible&&1===this.state.loadingPercent,backgroundX:100*p+"%",backgroundWidth:l+"px",backgroundHeight:s+"px"})}})},291:function(e,t,o){"use strict";var n=o(136),i=o(2),a=o(12),s=o(123),r=o(263);o.n(r);t.a=s.a.extend({template:function(){return i.default.get("skfb_front/popups/share-after-publish",{model:this.model.toJSON(),mailto:this.getMailto(),sharingMode:this.sharingMode})},getMailto:function(){var e='"'+this.model.get("name")+'" is on Sketchfab',t=["I just uploaded this model to Sketchfab. Check it out:","\n",this.model.get("name"),"\n",this.model.get("viewerUrl")+"?utm_source=email&utm_medium=email&utm_campaign=model-shared"].join("");return"mailto:?subject="+encodeURIComponent(e)+"&body="+encodeURIComponent(t)},shareOnFacebook:function(){a.a.shareButtonClicked("shareAfterPublish","facebookShareButtonClicked",this.model.get("uid")),n.default.prototype.shareOnFacebook.apply(this,arguments)},shareOnTwitter:function(){a.a.shareButtonClicked("shareAfterPublish","twitterShareButtonClicked",this.model.get("uid")),n.default.prototype.shareOnTwitter.apply(this,arguments)},shareOnGooglePlus:function(){a.a.shareButtonClicked("shareAfterPublish","googlePlusShareButtonClicked",this.model.get("uid")),n.default.prototype.shareOnGooglePlus.apply(this,arguments)},shareOnPinterest:function(){a.a.shareButtonClicked("shareAfterPublish","pinterestShareButtonClicked",this.model.get("uid")),n.default.prototype.shareOnPinterest.apply(this,arguments)},shareOnReddit:function(){a.a.shareButtonClicked("shareAfterPublish","redditShareButtonClicked",this.model.get("uid")),n.default.prototype.shareOnReddit.apply(this,arguments)},shareOnTumblr:function(){a.a.shareButtonClicked("shareAfterPublish","tumblrShareButtonClicked",this.model.get("uid")),n.default.prototype.shareOnTumblr.apply(this,arguments)},shareOnLinkedin:function(){a.a.shareButtonClicked("shareAfterPublish","linkedinShareButtonClicked",this.model.get("uid")),n.default.prototype.shareOnLinkedin.apply(this,arguments)}})},295:function(e,t,o){"use strict";var n=o(109),i=o.n(n),a=o(0),s=(o.n(a),o(3)),r=o.n(s),l=o(5),p=o.n(l),u=o(296),c=o(18);t.a={name:"Markdown",dependencies:["LazyLoading"],initializeMarkdown:function(e){this.options.markdown=Object(a.extend)({},this.options.markdown,e),this.__markdown={ready:!1,loading:!1,promise:null,shortcuts:{}},this.options.markdown.editor&&this.initializeEditor()},initializeEditor:function(){var e=this,t=r()(this.options.markdown.input),n=Object(a.isObject)(this.options.markdown.editor)?this.options.markdown.editor:{};t.addClass("loading-editor"),p.a.all([o.e(9).then(o.bind(null,397)),o.e(7).then(o.bind(null,577)),o.e(8).then(o.bind(null,578))]).then(function(o){var a=i()(o,1),s=a[0],l=s.fromTextArea(t[0],{mode:"gfm",theme:"neo",highlightFormatting:!0,lineWrapping:!0,extraKeys:u.a.getShortcuts()});u.a.setEditor(l),u.a.initializeToolbar(n),n.container&&r()(n.container).addClass("wysiwyg"),t.removeClass("loading-editor"),l.on("beforeChange",function(t,o){e.getMarkdownEditorValue().length+o.text[0].length>parseInt(r()(t.getTextArea()).attr("maxlength"),10)&&"+delete"!==o.origin&&o.cancel()}),l.on("change",function(e){var t=r()(e.getTextArea());t.val(e.getValue()),t.trigger("input")})})},renderMarkdown:function(){var e=this;return this.__markdown.ready?p.a.resolve(this.options.markdown.target[0].innerHTML):this.__markdown.loading?this.__markdown.promise:(this.__markdown.loading=!0,this.__markdown.promise=new p.a(function(t){var o=e.getMarkdownEditorValue();o?(e.unsetMarkdownReady(),c.a.getMarkdownPreview(o).then(function(e){this.setMarkdownReady(e.result),this.handleLazyLoading(),t(e.result)}.bind(e),function(){this.setMarkdownReady("Failed to load preview"),t("")}.bind(e))):(e.setMarkdownReady(""),t(""))}),this.__markdown.promise)},setMarkdownReady:function(e){this.__markdown.ready=!0,this.__markdown.loading=!1,this.options.markdown.target.html(r()("<div></div>").append(e))},unsetMarkdownReady:function(){this.__markdown.ready=!1,this.options.markdown.target.html(r()("<div>Loading preview...</div>"))},getMarkdownEditorValue:function(){return u.a.getMarkdownEditorValue()||this.options.markdown.input?r()(this.options.markdown.input).val():""}}},296:function(e,t,o){"use strict";for(var n=o(3),i=o.n(n),a=function(e){return'<div class="editor-toolbar">'+e+"</div>"},s=[{action:"toggleBold",shortcut:"Cmd-B",title:"Bold",icon:"fa-bold"},{action:"toggleItalic",shortcut:"Cmd-I",title:"Italic",icon:"fa-italic"},{action:"drawLink",shortcut:"Cmd-K",title:"Link",icon:"fa-link"},{action:"toggleHeading",shortcut:"Cmd-H",title:"Heading",icon:"fa-header"},{action:"drawImage",shortcut:"Cmd-Alt-I",title:"Insert Image",icon:"fa-picture-o"},{action:"toggleBlockquote",shortcut:"Cmd-'",title:"Quote",icon:"fa-quote-left"},{action:"toggleOrderedList",shortcut:"Cmd-Alt-L",title:"Numbered List",icon:"fa-list-ol"},{action:"toggleUnorderedList",shortcut:"Cmd-L",title:"Generic List",icon:"fa-list-ul"}],r={bold:"**",code:"```",italic:"*",quote:"> ","unordered-list":"* ","ordered-list":"1. "},l={link:["[","](#url#)"],image:["![","](#url#)"]},p=/Mac/.test(navigator.platform),u=[].concat(s),c="",d={},m={initializeToolbar:function(e){var t=(new DOMParser).parseFromString(a(c),"text/html").body.firstChild;i()(t).on("mousedown","[data-action]",function(e){e.stopImmediatePropagation(),e.preventDefault(),this[e.currentTarget.getAttribute("data-action")]()}.bind(this)),i()(e.container).prepend(t)},getEditor:function(){return this.__editorInstance},setEditor:function(e){this.__editorInstance=e},getShortcuts:function(){return d},getMarkdownEditorValue:function(){var e=this.getEditor();return e?e.getValue():""},toggleBold:function(){this._toggleBlock("bold",r.bold)},toggleItalic:function(){this._toggleBlock("italic",r.italic)},toggleHeading:function(){this._toggleHeading()},toggleBlockquote:function(){this._toggleLine("quote")},toggleOrderedList:function(){this._toggleLine("ordered-list")},toggleUnorderedList:function(){this._toggleLine("unordered-list")},drawLink:function(){var e=this._getCodemirrorState();this._replaceSelection(e.link,l.link,"http://")},drawImage:function(){var e=this._getCodemirrorState();this._replaceSelection(e.image,l.image,"http://")},_getCodemirrorState:function(e){var t=this.getEditor();e=e||t.getCursor("start");var o=t.getTokenAt(e);if(!o.type)return{};for(var n,i,a=o.type.split(" "),s={},r=0;r<a.length;r++)n=a[r],"strong"===n?s.bold=!0:"variable-2"===n?(i=t.getLine(e.line),/^\s*\d+\.\s/.test(i)?s["ordered-list"]=!0:s["unordered-list"]=!0):"atom"===n?s.quote=!0:"em"===n?s.italic=!0:"quote"===n?s.quote=!0:"strikethrough"===n?s.strikethrough=!0:"comment"===n?s.code=!0:"link"===n?s.link=!0:"tag"===n?s.image=!0:n.match(/^header(\-[1-6])?$/)&&(s[n.replace("header","heading")]=!0);return s},_toggleBlock:function(e,t,o){if(!/editor-preview-active/.test(this.getEditor().getWrapperElement().lastChild.className)){o=void 0===o?t:o;var n,i=this.getEditor(),a=this._getCodemirrorState(),s=t,r=o,l=i.getCursor("start"),p=i.getCursor("end");a[e]?(n=i.getLine(l.line),s=n.slice(0,l.ch),r=n.slice(l.ch),"bold"===e?(s=s.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),r=r.replace(/(\*\*|__)/,"")):"italic"===e?(s=s.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),r=r.replace(/(\*|_)/,"")):"strikethrough"===e&&(s=s.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),r=r.replace(/(\*\*|~~)/,"")),i.replaceRange(s+r,{line:l.line,ch:0},{line:l.line,ch:99999999999999}),"bold"===e||"strikethrough"===e?(l.ch-=2,l!==p&&(p.ch-=2)):"italic"===e&&(l.ch-=1,l!==p&&(p.ch-=1))):(n=i.getSelection(),"bold"===e?(n=n.split("**").join(""),n=n.split("__").join("")):"italic"===e?(n=n.split("*").join(""),n=n.split("_").join("")):"strikethrough"===e&&(n=n.split("~~").join("")),i.replaceSelection(s+n+r),l.ch+=t.length,p.ch=l.ch+n.length),i.setSelection(l,p),i.focus()}},_toggleHeading:function(){var e=this.getEditor();if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){for(var t=e.getCursor("start"),o=e.getCursor("end"),n=t.line;n<=o.line;n++)!function(t){var o=e.getLine(t),n=o.search(/[^#]/);o=n<=0?"# "+o:6===n?o.substr(7):"#"+o,e.replaceRange(o,{line:t,ch:0},{line:t,ch:99999999999999})}(n);e.focus()}},_toggleLine:function(e){var t=this.getEditor();if(!/editor-preview-active/.test(t.getWrapperElement().lastChild.className)){for(var o=this._getCodemirrorState(),n=t.getCursor("start"),i=t.getCursor("end"),a={quote:/^(\s*)\>\s+/,"unordered-list":/^(\s*)(\*|\-|\+)\s+/,"ordered-list":/^(\s*)\d+\.\s+/},s=n.line;s<=i.line;s++)!function(n){var i=t.getLine(n);i=o[e]?i.replace(a[e],"$1"):r[e]+i,t.replaceRange(i,{line:n,ch:0},{line:n,ch:99999999999999})}(s);t.focus()}},_replaceSelection:function(e,t,o){var n=this.getEditor();if(!/editor-preview-active/.test(n.getWrapperElement().lastChild.className)){var i,a=t[0],s=t[1],r=n.getCursor("start"),l=n.getCursor("end");o&&(s=s.replace("#url#",o)),e?(i=n.getLine(r.line),a=i.slice(0,r.ch),s=i.slice(r.ch),n.replaceRange(a+s,{line:r.line,ch:0})):(i=n.getSelection(),n.replaceSelection(a+i+s),r.ch+=a.length,r!==l&&(l.ch+=a.length)),n.setSelection(r,l),n.focus()}},_tabAndIndentMarkdownList:function(e){var t=e.listSelections(),o=t[0].head;if(!1!==e.getStateAfter(o.line).list)return void e.execCommand("indentMore");if(e.options.indentWithTabs)e.execCommand("insertTab");else{var n=Array(e.options.tabSize+1).join(" ");e.replaceSelection(n)}},_shiftTabAndUnindentMarkdownList:function(e){var t=e.listSelections(),o=t[0].head;if(!1!==e.getStateAfter(o.line).list)return void e.execCommand("indentLess");if(e.options.indentWithTabs)e.execCommand("insertTab");else{var n=Array(e.options.tabSize+1).join(" ");e.replaceSelection(n)}}},h=0;h<u.length;h++)u[h].action&&m[u[h].action]&&(c+=function(e){return'<a title="'+e.title+" ("+e.shortcut+')" data-action="'+e.action+'" tabindex="-1" class="fa '+e.icon+'"></a>'}(u[h]),d[function(e){return p?e.replace("Ctrl","Cmd"):e.replace("Cmd","Ctrl")}(u[h].shortcut)]=function(e){return m[e.action]()}.bind(m,u[h]));d.Enter="newlineAndIndentContinueMarkdownList",d.Tab=m._tabAndIndentMarkdownList.bind(m),d["Shift-Tab"]=m._shiftTabAndUnindentMarkdownList.bind(m),t.a=m},297:function(e,t){!function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/molecules/private-limit.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null,r=n.makeMacro([],["options"],function(i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var s="";s+="\n    ";var r;r=e.getFilter("merge").call(t,{privateLimit:{}},n.contextOrFrameLookup(t,o,"options")),o.set("options",r,!0),o.topLevel&&t.setVariable("options",r),o.topLevel&&t.addExport("options",r),s+="\n    ";var l;if(l=n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"privateLimit"),"count")>0,o.set("canSetPrivate",l,!0),o.topLevel&&t.setVariable("canSetPrivate",l),o.topLevel&&t.addExport("canSetPrivate",l),s+="\n\n    ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"canProtectModels"))s+='\n        <div class="upgrade-private-limit warning">\n            <p>You can publish up to\n                <b>\n                    ',s+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"privateLimit"),"count"),e.opts.autoescape),s+=" more private model",s+=n.suppressValue(e.getFilter("pluralize").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"privateLimit"),"count")),e.opts.autoescape),s+="\n                </b>\n                until ",s+=n.suppressValue(e.getFilter("humanize_date").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"privateLimit"),"until")),e.opts.autoescape),s+=".\n            </p>\n            ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"nextPlan")&&(s+='\n                <p><a class="skfb-link" href="/plans">Upgrade to ',s+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"nextPlan"),e.opts.autoescape),s+="</a> to unlock more.</p>\n            "),s+="\n        </div>\n    ";else{s+="\n        ";var p;p="free"==n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"account"),o.set("freeUser",p,!0),o.topLevel&&t.setVariable("freeUser",p),o.topLevel&&t.addExport("freeUser",p),s+='\n        <div class="upgrade-private-limit  ',s+=n.suppressValue(n.contextOrFrameLookup(t,o,"freeUser")?"info":"reached",e.opts.autoescape),s+='">\n            ',n.contextOrFrameLookup(t,o,"freeUser")?s+='\n            <p>\n                You can not publish <b>private models.</b>\n            </p>\n            <a class="skfb-link" href="/plans" target="_blank" class="upgrade">Upgrade to Pro</a> or\n            <a class="skfb-link" href="/invite" target="_blank">invite a friend</a> to unlock feature.\n            ':(s+="\n            <p>\n                You can <b>no longer publish private models</b> until ",s+=n.suppressValue(e.getFilter("humanize_date").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"privateLimit"),"until")),e.opts.autoescape),s+="\n            </p>\n            ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"nextPlan")&&(s+='\n                <p><a class="skfb-link" href="/plans">Upgrade to ',s+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"nextPlan"),e.opts.autoescape),s+="</a> to unlock more.</p>\n            "),s+="\n            "),s+="\n        </div>\n    "}return s+="\n",o=a,new n.SafeString(s)});t.addExport("private_limit"),t.setVariable("private_limit",r),a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{root:e}}()}()},298:function(e,t,o){o(17),o(250),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/popups/model-settings.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null;e.getTemplate("skfb_front/layouts/popup.jinja",!0,"skfb_front/popups/model-settings.jinja",!1,function(r,l){if(r)return void i(r);s=l;for(var p in s.blocks)t.addBlock(p,s.blocks[p]);a+="\n\n";var u;u="Model properties",o.set("popupTitle",u,!0),o.topLevel&&t.setVariable("popupTitle",u),o.topLevel&&t.addExport("popupTitle",u),a+="\n";var c;c="popup-model-settings",o.set("popupClass",c,!0),o.topLevel&&t.setVariable("popupClass",c),o.topLevel&&t.addExport("popupClass",c),a+="\n";var d;d=!0,o.set("popupClosable",d,!0),o.topLevel&&t.setVariable("popupClosable",d),o.topLevel&&t.addExport("popupClosable",d),a+="\n\n",(s?function(e,t,o,n,i){i("")}:t.getBlock("popup_content"))(e,t,o,n,function(r,l){if(r)return void i(r);a+=l,a+="\n\n",(s?function(e,t,o,n,i){i("")}:t.getBlock("popup_footer"))(e,t,o,n,function(r,l){if(r)return void i(r);a+=l,a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)})})})}catch(e){i(n.handleError(e,null,null))}}function t(e,t,o,n,i){var a="";try{var o=o.push(!0);a+='\n\n    <div class="form-row-layout">\n\n        ';var s=[];s.push(function(t){e.getTemplate("skfb_front/partials/model-settings.jinja",!1,"skfb_front/popups/model-settings.jinja",null,function(e,o){if(e)return void i(e);t(null,o)})}),s.push(function(e,n){e.render(t.getVariables(),o,function(e,t){if(e)return void i(e);n(null,t)})}),s.push(function(e,t){a+=e,t(null)}),e.waterfall(s,function(){a+="\n\n    </div>\n\n",i(null,a)})}catch(e){i(n.handleError(e,null,null))}}function o(e,t,o,n,i){var a="";try{var o=o.push(!0);a+='\n\n    <div class="actions">\n        <button class="button btn-medium btn-tertiary" type="reset">Cancel</button>\n        <button class="button btn-medium btn-primary submit" type="submit">Save</button>\n    </div>\n\n',i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{b_popup_content:t,b_popup_footer:o,root:e}}()}()},30:function(e,t,o){"use strict";var n=o(0),i=(o.n(n),o(3)),a=o.n(i),s=o(65);t.a={name:"WithNotificationLink",constructor:function(){this.events=Object(n.extend)({},this.events,{"click a, [data-link-to]":"markReadAndRedirect"})},markReadAndRedirect:function(e){e.stopPropagation(),e.preventDefault();var t,o=a()(e.currentTarget),n=o.data("link-to")||o.attr("href");(e.ctrlKey||e.metaKey)&&(t=window.open(n,"_blank"),t.focus()),s.a.readActivities([this.$el.data("uid")]).then(function(){t?t.location.href=n:window.location=n})}}},301:function(e,t,o){"use strict";var n=o(2),i=o(33),a=o(261);o.n(a);t.a=i.default.extend({template:function(){return n.default.get("skfb_front/popups/missing-webgl",{buttons:this.options.buttons})}})},302:function(e,t,o){"use strict";var n=o(41),i=o(2),a=o(144);o.n(a);t.a=Object(n.a)(function(){return i.default.getFromMacro("skfb_front/macros/components/molecules/empty-states/default-empty-state","default_empty_state",[])})},303:function(e,t,o){"use strict";var n=o(13);t.a=n.a.extend({defaults:{sortBy:"-subscriberCount"}})},304:function(e,t,o){o(17),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/popups/create-collection.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null;e.getTemplate("skfb_front/layouts/popup.jinja",!0,"skfb_front/popups/create-collection.jinja",!1,function(r,l){if(r)return void i(r);s=l;for(var p in s.blocks)t.addBlock(p,s.blocks[p]);a+="\n\n";var u;u="Create collection",o.set("popupTitle",u,!0),o.topLevel&&t.setVariable("popupTitle",u),o.topLevel&&t.addExport("popupTitle",u),a+="\n";var c;c="popup-create-collection",o.set("popupClass",c,!0),o.topLevel&&t.setVariable("popupClass",c),o.topLevel&&t.addExport("popupClass",c),a+="\n";var d;d=!1,o.set("popupClosable",d,!0),o.topLevel&&t.setVariable("popupClosable",d),o.topLevel&&t.addExport("popupClosable",d),a+="\n";var m;m=!1,o.set("popupNeedsLoading",m,!0),o.topLevel&&t.setVariable("popupNeedsLoading",m),o.topLevel&&t.addExport("popupNeedsLoading",m),a+="\n\n\n",(s?function(e,t,o,n,i){i("")}:t.getBlock("popup_content"))(e,t,o,n,function(r,l){if(r)return void i(r);a+=l,a+="\n\n",(s?function(e,t,o,n,i){i("")}:t.getBlock("popup_footer"))(e,t,o,n,function(r,l){if(r)return void i(r);a+=l,a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)})})})}catch(e){i(n.handleError(e,null,null))}}function t(e,t,o,n,i){var a="";try{var o=o.push(!0);a+='\n\n    <div class="form">\n        <div class="form-global-error',n.contextOrFrameLookup(t,o,"errors")||(a+=" cloaked"),a+='">\n            <i class="icon fa fa-warning"></i>\n            <span class="message">',a+=n.suppressValue(e.getFilter("striptags").call(t,n.contextOrFrameLookup(t,o,"errors")),e.opts.autoescape),a+='</span>\n        </div>\n\n        <div class="form-field">\n            <div class="form-error" data-error-for="name"></div>\n            <input type="text" class="form-input name" required placeholder="Collection name" data-error-for="name"/>\n        </div>\n    </div>\n\n',i(null,a)}catch(e){i(n.handleError(e,null,null))}}function o(e,t,o,n,i){var a="";try{var o=o.push(!0);a+='\n\n    <div class="actions">\n        <button class="button btn-medium btn-tertiary cancel" type="reset">Cancel</button>\n        <button class="button btn-medium btn-primary submit" type="submit">Create</button>\n    </div>\n\n',i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{b_popup_content:t,b_popup_footer:o,root:e}}()}()},305:function(e,t,o){o(17),o(48),o(99),o(32),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/popups/add-to-collection.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null;e.getTemplate("skfb_front/layouts/popup.jinja",!0,"skfb_front/popups/add-to-collection.jinja",!1,function(r,l){if(r)return void i(r);s=l;for(var p in s.blocks)t.addBlock(p,s.blocks[p]);a+="\n\n",e.getTemplate("skfb_front/macros/collection.jinja",!1,"skfb_front/popups/add-to-collection.jinja",!1,function(r,l){if(r)return void i(r);l.getExported(function(r,l){if(r)return void i(r);if(!l.hasOwnProperty("collection_addcard"))return void i(new Error("cannot import 'collection_addcard'"));var p=l.collection_addcard;t.setVariable("collection_addcard",p),a+="\n",e.getTemplate("skfb_front/macros/grid.jinja",!1,"skfb_front/popups/add-to-collection.jinja",!1,function(r,l){if(r)return void i(r);l.getExported(function(r,l){if(r)return void i(r);if(!l.hasOwnProperty("grid"))return void i(new Error("cannot import 'grid'"));var p=l.grid;t.setVariable("grid",p),a+="\n",e.getTemplate("skfb_front/macros/buttons.jinja",!1,"skfb_front/popups/add-to-collection.jinja",!1,function(r,l){if(r)return void i(r);l.getExported(function(r,l){if(r)return void i(r);if(!l.hasOwnProperty("open_create_collection"))return void i(new Error("cannot import 'open_create_collection'"));var p=l.open_create_collection;t.setVariable("open_create_collection",p),a+="\n\n";var u;u="Add to collection",o.set("popupTitle",u,!0),o.topLevel&&t.setVariable("popupTitle",u),o.topLevel&&t.addExport("popupTitle",u),a+="\n";var c;c="popup-add-to-collection",o.set("popupClass",c,!0),o.topLevel&&t.setVariable("popupClass",c),o.topLevel&&t.addExport("popupClass",c),a+="\n";var d;d=!0,o.set("popupClosable",d,!0),o.topLevel&&t.setVariable("popupClosable",d),o.topLevel&&t.addExport("popupClosable",d),a+="\n";var m;m=!0,o.set("popupNeedsLoading",m,!0),o.topLevel&&t.setVariable("popupNeedsLoading",m),o.topLevel&&t.addExport("popupNeedsLoading",m),a+="\n\n\n",(s?function(e,t,o,n,i){i("")}:t.getBlock("popup_content"))(e,t,o,n,function(r,l){if(r)return void i(r);a+=l,a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)})})})})})})})})}catch(e){i(n.handleError(e,null,null))}}function t(e,t,o,n,i){var a=null,s=null,r="";try{var o=o.push(!0);r+='\n\n    <div class="content-wrapper">\n\n        <div class="search-bar">\n            <input type="text" name="search-collection" placeholder="Search collections" autocomplete="off" />\n        </div>\n\n        <div class="browse-collections">\n            <div class="form-column-layout recently-used-collections">\n                <h3>Recently used collections</h3>\n                <div class="items-container">\n                    <ul class="items">\n                        ',r+=n.suppressValue((a=25,s=47,n.callWrap(n.contextOrFrameLookup(t,o,"open_create_collection"),"open_create_collection",t,[])),e.opts.autoescape),r+='\n                    </ul>\n                </div>\n            </div>\n\n            <div class="form-column-layout all-collections">\n                <h3 class="js-title">All collections</h3>\n                ',r+=n.suppressValue((a=32,s=21,n.callWrap(n.contextOrFrameLookup(t,o,"grid"),"grid",t,[n.contextOrFrameLookup(t,o,"authUser"),n.contextOrFrameLookup(t,o,"collection_addcard"),{className:"grid-collections-addcard",pageSize:24}])),e.opts.autoescape),r+="\n            </div>\n        </div>\n\n    </div>\n\n",i(null,r)}catch(e){i(n.handleError(e,a,s))}}return{b_popup_content:t,root:e}}()}()},306:function(e,t,o){o(17),o(32),o(15),o(52),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/popups/model-preview.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null;e.getTemplate("skfb_front/layouts/popup.jinja",!0,"skfb_front/popups/model-preview.jinja",!1,function(r,l){if(r)return void i(r);s=l;for(var p in s.blocks)t.addBlock(p,s.blocks[p]);a+="\n\n",e.getTemplate("skfb_front/macros/buttons.jinja",!1,"skfb_front/popups/model-preview.jinja",!1,function(r,l){if(r)return void i(r);l.getExported(function(r,l){if(r)return void i(r);if(!l.hasOwnProperty("like_button"))return void i(new Error("cannot import 'like_button'"));var p=l.like_button;if(t.setVariable("like_button",p),!l.hasOwnProperty("add_to_open_popup"))return void i(new Error("cannot import 'add_to_open_popup'"));var u=l.add_to_open_popup;t.setVariable("add_to_open_popup",u),a+="\n",e.getTemplate("skfb_front/macros/model.jinja",!1,"skfb_front/popups/model-preview.jinja",!1,function(r,l){if(r)return void i(r);l.getExported(function(r,l){if(r)return void i(r);if(!l.hasOwnProperty("model_iframe"))return void i(new Error("cannot import 'model_iframe'"));var p=l.model_iframe;t.setVariable("model_iframe",p),a+="\n",e.getTemplate("skfb_front/macros/utils.jinja",!1,"skfb_front/popups/model-preview.jinja",!1,function(r,l){if(r)return void i(r);l.getExported(function(r,l){if(r)return void i(r);if(!l.hasOwnProperty("humanize_count"))return void i(new Error("cannot import 'humanize_count'"));var p=l.humanize_count;t.setVariable("humanize_count",p),a+="\n\n\n";var u;u=n.memberLookup(n.contextOrFrameLookup(t,o,"model"),"name"),o.set("popupTitle",u,!0),o.topLevel&&t.setVariable("popupTitle",u),o.topLevel&&t.addExport("popupTitle",u),a+="\n";var c;c="popup-preview",o.set("popupClass",c,!0),o.topLevel&&t.setVariable("popupClass",c),o.topLevel&&t.addExport("popupClass",c),a+="\n";var d;d=!0,o.set("popupClosable",d,!0),o.topLevel&&t.setVariable("popupClosable",d),o.topLevel&&t.addExport("popupClosable",d),a+="\n\n",(s?function(e,t,o,n,i){i("")}:t.getBlock("popup_header"))(e,t,o,n,function(r,l){if(r)return void i(r);a+=l,a+="\n\n",(s?function(e,t,o,n,i){i("")}:t.getBlock("popup_content"))(e,t,o,n,function(r,l){if(r)return void i(r);a+=l,a+="\n\n",(s?function(e,t,o,n,i){i("")}:t.getBlock("popup_footer"))(e,t,o,n,function(r,l){if(r)return void i(r);a+=l,a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)})})})})})})})})})})}catch(e){i(n.handleError(e,null,null))}}function t(e,t,o,n,i){var a="";try{var o=o.push(!0);a+='\n\n    <div class="popup-title">\n        <a class="author" href="',a+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"model"),"user"),"profileUrl"),e.opts.autoescape),a+='">\n            ',a+=n.suppressValue(e.getFilter("image_container").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"model"),"user"),"avatars"),20,20),e.opts.autoescape),a+='\n        </a>\n\n        <div class="name">\n            <a href="',a+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"model"),"viewerUrl"),e.opts.autoescape),a+='" data-action="goto-model">\n                ',a+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"model"),"name"),e.opts.autoescape),a+="\n            </a>\n        </div>\n    </div>\n\n",i(null,a)}catch(e){i(n.handleError(e,null,null))}}function o(e,t,o,n,i){var a=null,s=null,r="";try{var o=o.push(!0);r+="\n\n    ",r+=n.suppressValue((a=29,s=17,n.callWrap(n.contextOrFrameLookup(t,o,"model_iframe"),"model_iframe",t,[e.getFilter("query_string").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"model"),"embedUrl"),{ui_infos:0,ui_snapshots:0,ui_stop:0,autostart:1,ui_watermark:0,internal:1}),{class:"viewer"}])),e.opts.autoescape),r+="\n\n",i(null,r)}catch(e){i(n.handleError(e,a,s))}}function n(e,t,o,n,i){var a=null,s=null,r="";try{var o=o.push(!0);r+='\n\n    <div class="stats">\n        <div class="stat views">\n            <div class="icon custom-icons icon-eye-icon"></div>\n            <span class="count">',r+=n.suppressValue(e.getFilter("humanize_number").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"model"),"viewCount")),e.opts.autoescape),r+='</span>\n        </div>\n        <div class="stat likes">\n            <div class="icon fa fa-star"></div>\n            <span class="count">',r+=n.suppressValue((a=51,s=47,n.callWrap(n.contextOrFrameLookup(t,o,"humanize_count"),"humanize_count",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"model"),"likeCount")])),e.opts.autoescape),r+="</span>\n        </div>\n        ",(n.memberLookup(n.contextOrFrameLookup(t,o,"model"),"isDownloadable")||n.memberLookup(n.contextOrFrameLookup(t,o,"model"),"inStore"))&&(r+='\n            <div class="stat downloads">\n                <div class="icon fa fa-download"></div>\n                <span class="count">',r+=n.suppressValue(e.getFilter("humanize_number").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"model"),"downloadCount")),e.opts.autoescape),r+="</span>\n            </div>\n        "),r+='\n        <a class="stat comments" href="',r+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"model"),"viewerUrl"),e.opts.autoescape),r+='#comments" data-action="go-to-comments">\n            <div class="icon fa fa-comments"></div>\n            ',n.memberLookup(n.contextOrFrameLookup(t,o,"model"),"commentCount")>0?(r+='\n                <span class="count">',r+=n.suppressValue(e.getFilter("humanize_number").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"model"),"commentCount")),e.opts.autoescape),r+="</span>\n            "):r+="\n                Post a comment\n            ",r+='\n        </a>\n    </div>\n\n    <div class="actions">\n\n        <div class="js-download-button"></div>\n\n        ',r+=n.suppressValue((a=73,s=26,n.callWrap(n.contextOrFrameLookup(t,o,"add_to_open_popup"),"add_to_open_popup",t,[])),e.opts.autoescape),r+='\n\n        <a class="button btn-medium btn-secondary" data-action="open-share-popup">\n            Share\n        </a>\n\n        ',r+=n.suppressValue((a=79,s=20,n.callWrap(n.contextOrFrameLookup(t,o,"like_button"),"like_button",t,[n.contextOrFrameLookup(t,o,"authUser"),n.makeKeywordArgs({options:{}})])),e.opts.autoescape),r+="\n\n    </div>\n\n",i(null,r)}catch(e){i(n.handleError(e,a,s))}}return{b_popup_header:t,b_popup_content:o,b_popup_footer:n,root:e}}()}()},316:function(e,t,o){"use strict";var n=o(6),i=o(1),a=o(98),s=o(2),r=o(4),l=o(297);o.n(l);t.a=n.a.extend({displayName:"PrivateLimit",optionTypes:{privateLimit:i.b.shape({count:i.b.number,until:i.b.string}).isRequired,canProtectModels:i.b.bool.isRequired,account:i.b.string.isRequired},template:function(){return!r.a.me().get("isStaff")&&this.options.privateLimit&&Object(a.i)({account:this.options.account,privateLimit:this.options.privateLimit})?s.default.getFromMacro("skfb_front/macros/components/molecules/private-limit","private_limit",[{nextPlan:Object(a.e)(this.options.account),privateLimit:this.options.privateLimit,canProtectModels:this.options.canProtectModels,account:this.options.account}]):""}})},317:function(e,t,o){"use strict";var n=o(3),i=o.n(n),a=o(0),s=(o.n(a),o(7)),r=o(67),l=o(79),p=o(1);t.a=s.a.extend({displayName:"FormList",optionTypes:{name:p.b.string.isRequired,spaceAsDelimiter:p.b.bool,removeSpecialChar:p.b.bool,autocompletion:p.b.oneOfType([p.b.object,p.b.bool]),slugifyInput:p.b.bool,allowTabOnEmptyField:p.b.bool},defaultOptions:{spaceAsDelimiter:!0,removeSpecialChar:!1,autocompletion:!1,slugifyInput:!0},events:{"keydown .input":function(e){this.shake(100);var t=[8,9,188,13];this.options.spaceAsDelimiter&&t.push(32),-1!==t.indexOf(e.keyCode)&&(8!==e.keyCode||0===e.target.selectionStart&&0===e.target.selectionEnd)&&(8===e.keyCode?(e.preventDefault(),this.erase()):this.append(e,this.options.allowTabOnEmptyField))},"blur .input":function(e){this.append(e,this.options.allowTabOnEmptyField),this.options.autocompletion&&this.clearAutocompletion()},"click .item":function(e){this.shake(400);var t=(this.model.get(this.options.name)||[]).slice(),o=i()(e.target).text(),n=t.indexOf(o);-1!==n&&(t.splice(n,1),this.model.set(this.options.name,t))}},initialize:function(){s.a.prototype.initialize.apply(this,arguments),this.timer=null,this.options.autocompletion&&this.initAutocompletion(),this.model.on("change:"+this.options.name,Object(r.a)(function(){var e=this.$(".input");this.$(".item").remove(),(this.model.get(this.options.name)||[]).forEach(function(t){i()('<a class="item"/>').append(i()("<span/>").text(t)).insertBefore(e)})},this))},initAutocompletion:function(){var e=this;o.e(10).then(o.bind(null,581)).then(function(){e.options.autocompletion=Object(a.extend)({searchUrl:"/i/tags/autocomplete?q={{search}}",limit:10,debounce:300,placement:"absleft",className:"tags-autocomplete"},e.options.autocompletion||{}),e.$(".input").textcomplete([{match:/\b([\w-]{2,})$/,search:e.searchAutocompletion.bind(e),replace:e.replaceAutocompletion.bind(e),index:1}],{className:e.options.autocompletion.className,placement:e.options.autocompletion.placement,debounce:e.options.autocompletion.debounce}).on({"textComplete:show":e.onShowAutocompletion.bind(e),"textComplete:hide":e.onHideAutocompletion.bind(e),keydown:e.onKeydownAutocompletion.bind(e),input:e.onInputAutocompletion.bind(e)})})},showAutocompletion:function(){i()("."+this.options.autocompletion.className).show()},clearAutocompletion:function(){this.$el.find("."+this.options.autocompletion.className+"-first-match").remove(),i()("."+this.options.autocompletion.className).hide()},replaceAutocompletion:function(e){return this.clearAutocompletion(),e+" "},searchAutocompletion:function(e,t){var o=(this.model.get(this.options.name)||[]).slice(),n=this.options.autocompletion.searchUrl;n=n.replace("{{search}}",e),n+="&limit="+this.options.autocompletion.limit,i.a.get(n,function(e){var n=this.$(".input").offset(),s=Object(a.filter)(e.results,function(e){return-1===o.indexOf(e)});t(s),i()("."+this.options.autocompletion.className).css({left:n.left}),this.showAutocompletion(),this.renderSelectedItemAutocompletion()}.bind(this))},onKeydownAutocompletion:function(e){27===e.keyCode&&this.isAutocompleting()&&(e.preventDefault(),e.stopPropagation()),38!==e.keyCode&&40!==e.keyCode||setTimeout(this.renderSelectedItemAutocompletion.bind(this),0)},onInputAutocompletion:function(){var e=this.$(".input").val().toLowerCase();this.$(".input").val(e),e?this.renderSelectedItemAutocompletion():this.clearAutocompletion();var t=this.getSelectedAutocompletion();t&&-1===t.indexOf(e)&&this.clearAutocompletion()},onShowAutocompletion:function(){this._autocompleting=!0},onHideAutocompletion:function(){this._autocompleting=!1},isAutocompleting:function(){return this._autocompleting},getSelectedAutocompletion:function(){return i()("."+this.options.autocompletion.className+" .active a").text()},renderSelectedItemAutocompletion:function(){var e=this.$(".input").position(),t=this.getSelectedAutocompletion(),o=i()('<div class="'+this.options.autocompletion.className+'-first-match">'+t+"</div>");o.css({left:e.left,top:e.top}),this.$el.find("."+this.options.autocompletion.className+"-first-match").remove(),this.$el.find(".input").parent().append(o)},erase:function(){var e=(this.model.get(this.options.name)||[]).slice();e.pop(),this.model.set(this.options.name,e)},append:function(e,t){t||e.preventDefault();var o=this.options.slugifyInput?l.i(this.$(".input").val()):this.$(".input").val();if(""!==o){var n=(this.model.get(this.options.name)||[]).slice(),i=o;this.$(".input").val("");var s;!1===this.options.removeSpecialChar?s=[i]:(s=i.split(/ |\,/g),s=Object(a.map)(s,function(e){return e.replace(/[^-\w]/gi,"")})),Object(a.each)(s,function(e){-1===n.indexOf(e)&&e&&n.push(e)}),this.options.autocompletion&&this.clearAutocompletion(),this.model.set(this.options.name,n)}},shake:function(e){clearTimeout(this.timer),this.timer=setTimeout(function(){this.trigger("steady")}.bind(this),e)},focus:function(){this.$(".input").focus()}})},318:function(e,t,o){"use strict";var n=o(0),i=(o.n(n),o(333)),a=o(218);t.a=a.a.extend({displayName:"FormMenuToggleList",initialize:function(){a.a.prototype.initialize.apply(this,arguments),this.toggleList=new i.a(Object(n.extend)({},this.options,{el:this.$el}))},render:function(){this.toggleList.render()}})},319:function(e,t,o){"use strict";var n=o(9),i=o.n(n),a=o(4),s=o(126),r=o(26);t.a=s.a.extend({endpoint:"/search",queryParams:function(){var e=Object(r.a)({type:"collections",q:this.options.filters.get("query"),debug_es_cluster:a.a.me().canAccessFeature("debug_es")?this.options.filters.get("debugEsCluster"):void 0});return i()({},s.a.prototype.queryParams.call(this),e)}})},32:function(e,t,o){o(135),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/buttons.jinja"]=function(){function e(e,t,o,n,i){var a=null,s=null,r="";try{var l=null;e.getTemplate("skfb_front/macros/popovers.jinja",!1,"skfb_front/macros/buttons.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("share_popover"))return void i(new Error("cannot import 'share_popover'"));var c=u.share_popover;t.setVariable("share_popover",c),r+="\n\n";var d=n.makeMacro(["authUser","user"],["options"],function(t,i,a){var s=o;o=new n.Frame,a=a||{},a.hasOwnProperty("caller")&&o.set("caller",a.caller),o.set("authUser",t),o.set("user",i),o.set("options",a.hasOwnProperty("options")?a.options:{});var r="";return r+='\n\n    <span class="toggle-button follow-user-button btn-loading" data-action="follow" data-user="',r+=n.suppressValue(n.memberLookup(i,"uid"),e.opts.autoescape),r+='">\n        <a class="button btn-primary toggle btn-disabled">\n            <i class="icon fa fa-plus"></i>\n            Follow\n        </a>\n        <a class="button btn-important untoggle">\n            <span class="toggled">\n                Following\n            </span>\n            <span class="untoggled">\n                Unfollow\n            </span>\n        </a>\n    </span>\n\n',o=s,new n.SafeString(r)});t.addExport("follow_button"),t.setVariable("follow_button",d),r+="\n\n";var m=n.makeMacro(["authUser"],["options"],function(i,r){var l=o;o=new n.Frame,r=r||{},r.hasOwnProperty("caller")&&o.set("caller",r.caller),o.set("authUser",i),o.set("options",r.hasOwnProperty("options")?r.options:{});var p="";return p+='\n\n    <div class="button btn-medium btn-secondary btn-loading like like-button popover-container btn-disabled" data-action="like-model">\n        <i class="icon fa fa-star"></i>\n        Like\n        ',n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"popover"),"display")&&(p+="\n            ",p+=n.suppressValue((a=27,s=26,n.callWrap(n.contextOrFrameLookup(t,o,"share_popover"),"share_popover",t,[{class:n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"popover"),"arrow")}])),e.opts.autoescape),p+="\n        "),p+="\n    </div>\n\n",o=l,new n.SafeString(p)});t.addExport("like_button"),t.setVariable("like_button",m),r+="\n\n";var h=n.makeMacro(["authUser"],["options"],function(i,r){var l=o;o=new n.Frame,r=r||{},r.hasOwnProperty("caller")&&o.set("caller",r.caller),o.set("authUser",i),o.set("options",r.hasOwnProperty("options")?r.options:{});var p="";return p+='\n\n    <div class="help like-button star-like-button btn-loading popover-container',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"buttonClass")&&(p+=" ",p+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"buttonClass"),e.opts.autoescape)),p+='" data-action="like-model">\n        ',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"count")&&n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"count"),"display")&&(p+='\n            <span class="count">',p+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"count"),"like"),e.opts.autoescape),p+="</span>\n        "),p+='\n        <span class="tooltip liked-content',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"tooltipClass")?(p+=" ",p+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"tooltipClass"),e.opts.autoescape)):p+=" tooltip-down",p+='">Like</span>\n        <span class="tooltip unliked-content',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"tooltipClass")?(p+=" ",p+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"tooltipClass"),e.opts.autoescape)):p+=" tooltip-down",p+='">Unlike</span>\n        ',n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"popover"),"display")&&(p+="\n            ",p+=n.suppressValue((a=42,s=26,n.callWrap(n.contextOrFrameLookup(t,o,"share_popover"),"share_popover",t,[{class:n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"popover"),"arrow")}])),e.opts.autoescape),p+="\n        "),p+="\n    </div>\n\n",o=l,new n.SafeString(p)});t.addExport("star_like_button"),t.setVariable("star_like_button",h),r+="\n\n";var f=n.makeMacro(["model"],["options"],function(i,a){var s=o;o=new n.Frame,a=a||{},a.hasOwnProperty("caller")&&o.set("caller",a.caller),o.set("model",i),o.set("options",a.hasOwnProperty("options")?a.options:{});var r="";return r+='\n\n    <a class="',r+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"className"),e.opts.autoescape),r+=' help" itemprop="discussionUrl" href="',r+=n.suppressValue(n.memberLookup(i,"viewerUrl"),e.opts.autoescape),r+='#comments" data-action="go-to-comments">\n        <span class="count">\n            ',r+=n.suppressValue(e.getFilter("humanize_number").call(t,n.memberLookup(i,"commentCount")),e.opts.autoescape),r+='\n        </span>\n        <span class="tooltip tooltip-up">Comment</span>\n    </a>\n\n',o=s,new n.SafeString(r)});t.addExport("comments_button"),t.setVariable("comments_button",f),r+="\n\n";var v=n.makeMacro(["authUser"],["options"],function(i,r){var l=o;o=new n.Frame,r=r||{},r.hasOwnProperty("caller")&&o.set("caller",r.caller),o.set("authUser",i),o.set("options",r.hasOwnProperty("options")?r.options:{});var p="";return p+='\n\n    <div class="',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"buttonClass")&&(p+=" ",p+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"buttonClass"),e.opts.autoescape),p+=" "),p+=n.suppressValue(e.getFilter("class_names").call(t,{help:!0,"subscribe-button":!0,"count-subscribe-button":!0,"btn-loading":!0,"popover-container":!0,"--disabled":n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"disabled")}),e.opts.autoescape),p+='"\n\n        ',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"disabled")||(p+='\n            data-action="subscribe-collection"\n        '),p+=">\n\n        ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"count")&&n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"count"),"display")&&(p+='\n            <span class="count">',p+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"count"),"subscribe"),e.opts.autoescape),p+="</span>\n        "),p+="\n\n        ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"disabled")?(p+='\n            <span class="tooltip subscribed-content',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"tooltipClass")?(p+=" ",p+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"tooltipClass"),e.opts.autoescape)):p+=" tooltip-down",p+='">Subscribers</span>\n        '):(p+='\n             <span class="tooltip subscribed-content',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"tooltipClass")?(p+=" ",p+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"tooltipClass"),e.opts.autoescape)):p+=" tooltip-down",p+='">Subscribe</span>\n            <span class="tooltip unsubscribed-content',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"tooltipClass")?(p+=" ",p+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"tooltipClass"),e.opts.autoescape)):p+=" tooltip-down",p+='">Unsubscribe</span>\n        '),p+="\n\n        ",n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"popover"),"display")&&(p+="\n            ",p+=n.suppressValue((a=86,s=26,n.callWrap(n.contextOrFrameLookup(t,o,"share_popover"),"share_popover",t,[{class:n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"popover"),"arrow")}])),e.opts.autoescape),p+="\n        "),p+="\n    </div>\n\n",o=l,new n.SafeString(p)});t.addExport("subscribe_button_count"),t.setVariable("subscribe_button_count",v),r+="\n\n";var b=n.makeMacro(["collection"],[],function(t,i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("collection",t);var s="";return s+='\n\n    <span class="toggle-button addto-button" data-action="add-to-collection" data-collection="',s+=n.suppressValue(n.memberLookup(t,"uid"),e.opts.autoescape),s+='">\n        <a class="button btn-small btn-primary toggle">\n            Add\n        </a>\n        <a class="button btn-small btn-important untoggle">\n            <span class="toggled">\n                Added\n            </span>\n            <span class="untoggled">\n                Remove\n            </span>\n        </a>\n    </span>\n\n',o=a,new n.SafeString(s)});t.addExport("add_to_collection_button"),t.setVariable("add_to_collection_button",b),r+="\n\n";var g=n.makeMacro(["collection"],[],function(t,i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("collection",t);var s="";return s+='\n\n    <span class="toggle-button subscribe-collection-button btn-loading" data-action="subscribe-collection" data-collection="',s+=n.suppressValue(n.memberLookup(t,"uid"),e.opts.autoescape),s+='">\n        <div class="subscribe">\n            <a class="button btn-medium btn-primary btn-disabled toggle">\n                <i class="icon fa fa-rss"></i>\n                Subscribe\n            </a>\n            <a class="button btn-medium btn-important untoggle">\n                <i class="icon icon-fixed-left fa fa-rss"></i>\n                <span class="toggled">\n                    Subscribed\n                </span>\n                <span class="untoggled">\n                    Unsubscribe\n                </span>\n            </a>\n        </div>\n    </span>\n\n',o=a,new n.SafeString(s)});t.addExport("subscribe_button"),t.setVariable("subscribe_button",g),r+="\n\n";var k=n.makeMacro([],["options"],function(i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var s="";s+="\n\n    ";var r;return r=e.getFilter("merge").call(t,{buttonClass:"btn-secondary"},n.contextOrFrameLookup(t,o,"options")),o.set("options",r,!0),o.topLevel&&t.setVariable("options",r),o.topLevel&&t.addExport("options",r),s+='\n\n    <a class="button btn-medium ',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"buttonClass")&&(s+=" ",s+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"buttonClass"),e.opts.autoescape)),s+='" data-action="open-collection-popup">\n        <div class="add-to">\n            <i class="icon fa fa-plus"></i>\n            Add to\n        </div>\n    </a>\n\n',o=a,new n.SafeString(s)});t.addExport("add_to_open_popup"),t.setVariable("add_to_open_popup",k),r+="\n\n";var _=n.makeMacro([],[],function(e){var t=o;o=new n.Frame,e=e||{},e.hasOwnProperty("caller")&&o.set("caller",e.caller);var i="";return i+='\n\n    <li class="item create-collection">\n        <div class="collection-addcard" data-action="open-create-collection-popup">\n            <div class="thumbnail create-new-collection">\n                <i class="icon fa fa-plus"></i>\n            </div>\n            <div class="js-title">\n                Create new collection\n            </div>\n        </div>\n    </li>\n\n',o=t,new n.SafeString(i)});t.addExport("open_create_collection"),t.setVariable("open_create_collection",_),r+="\n",l?l.rootRenderFunc(e,t,o,n,i):i(null,r)})})}catch(e){i(n.handleError(e,a,s))}}return{root:e}}()}()},320:function(e,t,o){"use strict";var n=o(307),i=o.n(n),a=o(9),s=o.n(a),r=o(27),l=o.n(r),p=o(0),u=(o.n(p),o(3)),c=o.n(u),d=o(5),m=o.n(d),h=o(7),f=o(42),v=o(1);t.a=h.a.extend({displayName:"GridItems",optionTypes:{itemViewClass:v.b.func.isRequired,collection:v.b.object.isRequired,itemClassName:v.b.string,itemOptions:v.b.object,withAnimation:v.b.bool,getItemApparitionDelay:v.b.func},defaultOptions:function(){return{itemViewClass:h.a,collection:new f.a,itemOptions:{},itemClassName:"item",withAnimation:!1,getItemApparitionDelay:function(){return 0},onShowItem:function(){}}},initialize:function(){this.views={},h.a.prototype.initialize.apply(this,arguments),this.options.collection.on("add",this._onCollectionAdd,this),this.options.collection.on("remove",this._onCollectionRemove,this),this.options.collection.on("reset",this._onCollectionReset,this),this.options.collection.on("sort",this._onCollectionSort,this)},viewDidUpdate:function(){l()(this.views).forEach(function(e){this.views[e].setOptions(Object(p.omit)(this.options.itemOptions,["el"]))}.bind(this))},getView:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.get("uid"),n=s()({},Object(p.omit)(this.options.itemOptions,["el"]),{model:e,deferImages:!0,isServerSideRendered:!1},t);if(this.options.itemViewClass.isFactory){var a=this.options.itemViewClass,r=a.getViewClass,l=a.mapViewOptions;if(this.views[o]){var u=l(n);i()(this.views[o].options,u)}else{var c=r(n),d=l(n);this.views[o]=new c(d)}}else this.views[o]?i()(this.views[o].options,n):this.views[o]=new this.options.itemViewClass(n);return n.el&&n.el!==this.views[o].el&&this.views[o].setElement(n.el),this.views[o]},hasViews:function(){return!!l()(this.views).length},_onCollectionAdd:function(e,t){var o=t.indexOf(e),n=this.renderItem(e);this._showItem(n,o)},_onCollectionRemove:function(e){var t=e.get("uid"),o=this.views[t];o&&(o.remove(),o.$el.remove(),delete this.views[t])},_onCollectionReset:function(){this.$el.empty()},_onCollectionSort:function(){var e=this.options.collection.models;if(e.length&&this.hasViews()){var t;e.forEach(function(e){var o=this.getView(e);t&&t.$el.after(o.el),t=o}.bind(this))}},_showItem:function(e,t){var o=this;return this.options.withAnimation?m.a.delay(this.options.getItemApparitionDelay(e,t)).then(function(){return e.removeClass("--hidden"),o.options.onShowItem(e),e}):(e.removeClass("--hidden"),this.options.onShowItem(e),m.a.resolve(e))},attachViews:function(){var e=this;this.options.collection.models.forEach(function(t,o){var n=e.$("."+e.options.itemClassName+'[data-uid="'+t.get("uid")+'"]');e.getView(t,{isServerSideRendered:!0,el:n[0]}).render(),e._showItem(n,o)})},render:function(){this.options.collection.models.forEach(function(e,t){var o=this.renderItem(e);this._showItem(o,t)}.bind(this))},renderItem:function(e){var t=this.$("."+this.options.itemClassName+'[data-uid="'+e.get("uid")+'"]');if(!t.length){t=c()('<li class="'+this.options.itemClassName+(this.options.withAnimation?" --hidden":"")+'" data-uid="'+e.get("uid")+'" />');var o=this.options.collection.indexOf(e),n=this.$("> ."+this.options.itemClassName).eq(o);n.length?n.before(t):this.$el.append(t)}return this.getView(e,{el:t[0]}).render(),t}})},321:function(e,t,o){"use strict";var n=o(9),i=o.n(n),a=o(3),s=o.n(a),r=o(5),l=o.n(r),p=o(7),u=o(6),c=o(57),d=o(323),m=o(12),h=o(2),f=o(1),v=o(23),b=o(340),g=o(322),k=o(155),_=o(341),w=o(33),L=o(301),y=o(287),x=o(342),O=o(343),F=u.a.extend({optionTypes:{text:f.b.string.isRequired,canDuplicate:f.b.bool.isRequired,onClick:f.b.func.isRequired},events:{click:function(){this.options.onClick()}},template:function(){return h.default.getFromString('\n            <div class="hover-menu__inline">\n                <span class="{{ \'disabled\' if not canDuplicate }}">{{ text }}</span>\n                {% if not canDuplicate %}\n                    {{ components.flag | component }}\n                {% endif %}\n            </div>\n        ',i()({},this.options,{components:this.createChildrenComponents({flag:{viewClass:b.a,options:{type:"pro",href:"/plans"}}})}))}});t.a=p.a.extend({displayName:"ModelQuickSettings",optionTypes:{model:f.b.object.isRequired,onDeleteModelSuccess:f.b.func.isRequired,onDeleteModelError:f.b.func.isRequired,onApplySettings:f.b.func,openSettingsPopupTrackerEvent:f.b.string,settings3dButtonActionTrackerEvent:f.b.string},defaultOptions:{onDeleteModelSuccess:function(){},onDeleteModelError:function(){},onApplySettings:void 0},events:{'click [data-action="open-settings-popup"]':"openSettingsPopup",'click [data-action="settings3d-button"]':"settings3dButtonAction",'click [data-action="open-reupload-popup"]':"openReuploadPopup",'click [data-action="delete-model"]':"deleteModel",'click [data-action="report-issue"]':"reportAnIssue",'click [data-action="open-editor-annotations"]':"openAnnotationEditor",'click [data-action="open-collection-popup"]':"openCollectionPopup"},children:{publishButton:{selector:'[data-action="publish"]',viewClass:g.a,shouldCreateChild:function(){return!!this.$('[data-action="publish"]').length},options:function(){return{model:this.model,onSuccess:function(){window.location.reload()}}}},duplicateButton:{selector:".js-duplicate",viewClass:O.a,shouldCreateChild:function(){return!!this.$(".js-duplicate").length},options:function(){return{model:this.options.model.toJSON(),render:function(e){var t=e.canDuplicate,o=e.onDuplicate;return{viewClass:F,options:{text:"Duplicate",onClick:o,canDuplicate:t}}}}}}},initialize:function(){p.a.prototype.initialize.apply(this,arguments),Object(d.a)()||this.$('[data-action="settings3d-button"]').addClass("disable"),this.initializeChildren()},openSettingsPopup:function(){this.options.openSettingsPopupTrackerEvent&&m.a[this.options.openSettingsPopupTrackerEvent](this.model.get("uid")),new(y.a.extend({onApplySettings:this.options.onApplySettings}))({model:this.model}).open()},openAnnotationEditor:function(){},openReuploadPopup:function(){var e=this;"True"===s()('meta[property="skfb:maintenance"]').attr("content")?this.openMaintenancePopup("Sketchfab is undergoing maintenance. Deleting models is currently disabled."):Object(c.e)().then(function(t){return new t({model:e.model}).open()}).catch(Object(v.g)(v.e))},deleteModel:function(){if("True"===s()('meta[property="skfb:maintenance"]').attr("content"))return this.openMaintenancePopup("Sketchfab is undergoing maintenance. Deleting models is currently disabled."),l.a.reject(new Error);new _.a({model:this.model}).promise.then(this.options.onDeleteModelSuccess).catch(this.options.onDeleteModelError)},reportAnIssue:function(){return new x.a({model:this.model})},settings3dButtonAction:function(e){if(Object(d.a)()&&this.options.settings3dButtonActionTrackerEvent&&m.a.wrapLink(e,m.a[this.options.settings3dButtonActionTrackerEvent](this.model.get("uid"))),!Object(d.a)()){e.preventDefault();var t=new L.a;t.open().then(function(){t.close()})}},openMaintenancePopup:function(e){var t=new w.default({title:"Maintenance",text:e,buttons:{ok:!0}});return t.open().then(function(){t.close()}),t},openCollectionPopup:function(){m.a.modelCardAddToCollectionButtonClicked(this.model.get("uid")),new k.a({model:this.model}).open()},render:function(){this.renderChildren()}})},322:function(e,t,o){"use strict";var n=o(4),i=o(7),a=o(137),s=o(291),r=o(1);t.a=i.a.extend({displayName:"PublishButton",optionTypes:{onSuccess:r.b.func,onError:r.b.func},defaultOptions:{onSuccess:function(){},onError:function(){}},events:{click:"publish"},state:{enabled:!0},disable:function(){this.setState({enabled:!1})},enable:function(){this.setState({enabled:!0})},publish:function(){if(n.a.me().get("isLimited"))return void new a.a({reason:"publish"}).open();n.a.me().get("uid")===this.model.get("user").uid&&(this.disable(),this.model.publish().then(function(){new s.a({model:this.model}).open().catch(function(){}).then(function(){this.options.onSuccess()}.bind(this))}.bind(this),function(){this.enable(),this.options.onError()}.bind(this)))},render:function(){this.$el.toggleClass("disabled btn-disabled",!this.state.enabled).attr("disabled",!this.state.enabled)}})},333:function(e,t,o){"use strict";var n=o(0),i=(o.n(n),o(3)),a=o.n(i),s=o(184),r=o(249),l=o(1),p=o(23);t.a=s.a.extend({displayName:"FormToggleList",optionTypes:{name:l.b.string.isRequired,model:l.b.model.isRequired,maxSize:l.b.number,confirm:l.b.shape({name:l.b.string.isRequired,opt:l.b.object.isRequired})},defaultOptions:{maxSize:1/0},events:{"click [data-value]":function(){},"click .item":function(e){e.preventDefault(),r.a.confirm(this.options.confirm).then(function(){var t=a()(e.currentTarget),o=this.model.get(this.options.name)||[],i=t.data("value");Object(n.includes)(o,i)?this.model.set(this.options.name,o.filter(function(e){return e!==i})):o.length<this.options.maxSize&&this.model.set(this.options.name,o.concat(i))}.bind(this)).catch(Object(p.g)(p.e))}}})},334:function(e,t,o){"use strict";var n=o(1),i=o(2),a=o(24);t.a=a.a.extend({optionTypes:{shortUrl:n.b.string,popupClass:n.b.string,popupClosable:n.b.bool,shouldRejectOnCancel:n.b.bool},defaultOptions:{shouldRejectOnCancel:!0},template:function(){var e=this.options.shortUrl?"("+this.options.shortUrl+") ":"",t='<ul class="--disc">            <li>Anyone with the link or embed code will still have access to your scene. You can add a password to protect it.</li>            <li>The shortlink '+e+"will be deactivated.</li>            <li>If your scene was indexed by search engines, it might remain searchable.</li>        </ul>";return i.default.get("skfb_front/popups/message",{popupClass:this.options.popupClass,popupClosable:this.options.popupClosable,safe:!0,title:"Warning: Switching a public model to private",text:t,buttons:{cancel:!0,cancelLabel:"Keep the model public",ok:!0,okLabel:"I understand, make the model private"}})}})},335:function(e,t,o){"use strict";var n=o(12),i=o(136),a=o(336);t.a=a.a.extend({events:{'click [data-action="share-on-facebook"]':"shareOnFacebook",'click [data-action="share-on-twitter"]':"shareOnTwitter",'click [data-action="share-on-google-plus"]':"shareOnGooglePlus",'click [data-action="share-on-pinterest"]':"shareOnPinterest"},initialize:function(){a.a.prototype.initialize.apply(this,arguments)},shareOnFacebook:function(e){e.stopPropagation(),n.a.shareButtonClicked("shareAfterLikePopover","facebookShareButtonClicked",this.model.get("uid")),i.default.prototype.shareOnFacebook.apply(this,arguments)},shareOnTwitter:function(e){e.stopPropagation(),n.a.shareButtonClicked("shareAfterLikePopover","twitterShareButtonClicked",this.model.get("uid")),i.default.prototype.shareOnTwitter.apply(this,arguments)},shareOnGooglePlus:function(e){e.stopPropagation(),n.a.shareButtonClicked("shareAfterLikePopover","googlePlusShareButtonClicked",this.model.get("uid")),i.default.prototype.shareOnGooglePlus.apply(this,arguments)},shareOnPinterest:function(e){e.stopPropagation(),n.a.shareButtonClicked("shareAfterLikePopover","pinterestShareButtonClicked",this.model.get("uid")),i.default.prototype.shareOnPinterest.apply(this,arguments)}})},336:function(e,t,o){"use strict";var n=o(7);t.a=n.a.extend({defaultOptions:{popoverElement:null},constructor:function(){this._hidePopover=this.hidePopover.bind(this),n.a.prototype.constructor.apply(this,arguments)},delegateEvents:function(){n.a.prototype.delegateEvents.apply(this,arguments),document.addEventListener("click",this._hidePopover,!0),this.$el.on("click",this.propagationStop)},undelegateEvents:function(){n.a.prototype.undelegateEvents.apply(this,arguments),document.removeEventListener("click",this._hidePopover,!0),this.$el&&this.$el.off("click",this.propagationStop)},hidePopover:function(e){this.options.popoverElement[0]&&this.options.popoverElement&&e.target!==this.options.popoverElement[0]&&!this.options.popoverElement[0].contains(e.target)&&(this.options.popoverElement.addClass("hidden"),this.options.popoverElement.parent().removeClass("active-popover"))},propagationStop:function(e){e.stopPropagation()}})},337:function(e,t,o){"use strict";var n=o(5),i=o.n(n),a=o(64),s=o(2),r=o(24),l=o(93),p=o(304);o.n(p);t.a=r.a.extend({template:function(){return s.default.get("skfb_front/popups/create-collection",{})},events:{"submit form":"create"},initialize:function(){r.a.prototype.initialize.apply(this,arguments),this.options.collectionName?this.create(null,this.options.collectionName).catch(function(){this.open()}.bind(this)):this.open(),this.$(".form.input-bar > input").focus()},create:function(e,t){return new i.a(function(e,o){t||(t=this.$(".form-input.name").val()),new a.a({name:t,models:[this.model.get("uid")]}).save(null,{success:function(o,n){this.model.addCollection(n.uid,!0);var i='This model has been added to your new collection <a href="/'+n.user.username+"/collections/"+n.name+'">'+t+"</a>";new l.a({content:i,class:"info",delay:5e3}),e(this.continue(!0))}.bind(this),error:function(e,t){this.automagicErrors(t.responseJSON.detail),o()}.bind(this)})}.bind(this))}})},338:function(e,t,o){"use strict";var n=o(7),i=o(339),a=o(1),s=o(2),r=o(19),l=o(90),p=o(48);o.n(p);t.a=n.a.extend({displayName:"AddToCollectionCard",mixins:[r.a,l.a],optionTypes:{model:a.b.model.isRequired,modelModel:a.b.model.isRequired},children:{addToCollectionButton:{selector:".add-button",viewClass:i.a,options:function(){return{model:this.options.modelModel,collection:this.options.model}}}},initialize:function(){n.a.prototype.initialize.apply(this,arguments),this.options.model.on("change",this.render,this)},viewDidMount:function(){this.renderChildren()},viewDidUpdate:function(){this.renderChildren()},template:function(){return s.default.getFromMacro("skfb_front/macros/collection","collection_addcard",[this.options.model.toJSON()])}})},339:function(e,t,o){"use strict";var n=o(7),i=o(1),a=o(34);t.a=n.a.extend({displayName:"AddToCollection",optionTypes:{model:i.b.object.isRequired},events:{click:function(){this.action()}},initialize:function(){n.a.prototype.initialize.apply(this,arguments),this.action=a.c(this.action.bind(this)),this.model.on("change:collections",this.render,this)},remove:function(){this.model.off("change:collections",this.render,this)},action:function(){var e=this.model.isInCollection(this.collection.get("uid"));return this.collection.set("modelCount",this.collection.get("modelCount")+(e?-1:1)),this.model.addCollection(this.collection.get("uid"),!e),this.collection.updateModels(e,[this.model.get("uid")])},toggle:function(e,t){var o=this.$('[data-action="add-to-collection"]');o.toggleClass("toggled",e),t&&o.addClass("just-clicked").mouseleave(function(){o.removeClass("just-clicked")})},render:function(){this.toggle(this.model.isInCollection(this.collection.get("uid")))}})},340:function(e,t,o){"use strict";var n=o(6),i=o(2),a=o(1);t.a=n.a.extend({displayName:"Flag",optionTypes:{type:a.b.oneOf(["pro","prem","biz","ent","staff","master","error","info","staffpicked","restricted","new","beta"]).isRequired,text:a.b.string,className:a.b.string,href:a.b.string},defaultOptions:{className:""},template:function(){return i.default.getFromString('\n            {% if href %}<a href="{{ href }}">{% endif %}\n                <span class="flag --{{ type }} {{ className }}">\n                    <span class="flag__text">{{ text or type }}</span>\n                </span>\n            {% if href %}</a>{% endif %}\n            ',this.options)}})},341:function(e,t,o){"use strict";var n=o(186),i=o.n(n),a=o(5),s=o.n(a),r=o(2),l=o(12),p=o(33),u=o(147);o.n(u);t.a=p.default.extend({displayName:"DeletePopup",template:function(){return r.default.get("skfb_front/popups/message",{safe:!0,title:"Delete model",text:['<p>You are about to delete "'+i.a.sanitize(this.options.model.get("name"))+'" permanently.</p>',"<p>Help us improve Sketchfab by telling us why:</p>",'<span class="form-select">','    <select class="form-input delete-form" data-action="on-form-click">','        <option value="default">Please select an answer:</option>','        <option value="other-version">I have uploaded another version</option>','        <option value="bad-display">The model doesn\'t display correctly</option>','        <option value="no-public">I don\'t want my model to be public</option>','        <option value="test">It was just a test</option>','        <option value="custom">Other</option>',"    </select>","</span>",'<div class="custom-reason cloaked">','    <input class="form-input input custom-reason-form" placeholder="Enter the reason why you delete this model" maxlength="100">',"</div>"].join(" "),buttons:{delete:!0,deleteLabel:"DELETE THIS MODEL",cancel:!0},popupClass:"popup-message popup-delete"})},events:{"change .delete-form":"onReasonChanged"},initialize:function(){p.default.prototype.initialize.apply(this,arguments);var e=new p.default({title:"Error",text:["Sorry, the model could not be deleted.","Please try again later. If the problem persists, contact us."].join(" "),buttons:{ok:!0}});return this.promise=new s.a(function(t,o){this.open().then(function(){this.close(),this.model.destroy({wait:!0}).then(function(){t()},function(){this.replaceWith(e).then(function(){e.close(),o()})}.bind(this))}.bind(this),function(){this.close(),o()}.bind(this))}.bind(this)),this},continue:function(){var e=this.$el.find(".delete-form").val();"custom"===e&&(e=["@"+this.options.model.get("user").username+": ",this.$el.find(".custom-reason-form").val()," ("+this.options.model.get("uid")+")"].join("")),l.a.deleteModelPopupReasonSelected(e),this.getPromise().resolve()},onReasonChanged:function(){this.$container.find(".custom-reason").toggleClass("cloaked","custom"!==this.$el.find(".delete-form").val())}})},342:function(e,t,o){"use strict";var n=o(3),i=o.n(n),a=o(20),s=o(2),r=o(12),l=o(33),p=o(147);o.n(p);t.a=l.default.extend({template:function(){return s.default.get("skfb_front/popups/message",{title:"Report an issue",text:["<p>Help use improve Sketchfab by telling us what the problem is:</p>",'<span class="form-select">','    <select class="form-input report-form" data-action="on-form-click">','        <option value="default">Please select an issue:</option>','        <option value="animation">Animation</option>','        <option value="transparency">Transparency</option>','        <option value="texture-uv">Textures / UV</option>','        <option value="lighting">Lighting</option>','        <option value="model-orientation">Model orientation</option>','        <option value="face-orientation-normal-double-face">Face orientation / normals / double face</option>','        <option value="incorrect-geometry">Incorrect geometry</option>','        <option value="vertex-color">Vertex color</option>','        <option value="custom">Other</option>',"    </select>","</span>",'<div class="custom-reason cloaked">','    <input class="form-input input custom-reason-form" placeholder="Enter your issue" maxlength="100">',"</div>"].join(" "),buttons:{continue:!0,continueClass:"btn-disabled",cancel:!0},safe:!0,popupClass:"popup-message popup-report"})},events:{"change .report-form":"onReasonChanged","input .custom-reason-form":"onReasonChanged"},initialize:function(){l.default.prototype.initialize.apply(this,arguments);var e=i.a.Deferred(),t=e.promise();return this.open().then(function(){this.close(),e.resolve()}.bind(this),function(){this.close(),e.reject()}.bind(this)),t},continue:function(){var e="https://help.sketchfab.com/hc/requests/new",t=this.$el.find(".report-form").val(),o="";"default"!==t&&("custom"===t&&(o=this.$el.find(".custom-reason-form").val()),e+=a.b.craft("?",{model:this.model.id,status:this.model.get("processingStatus"),reason:t,description:o,utm_source:"website",utm_campaign:"report_form"}),r.a.modelIssueReported(t,this.model.id),this.getPromise().resolve(),window.open(e,"_blank"))},onReasonChanged:function(){this.$el.find(".custom-reason").toggleClass("cloaked","custom"!==this.$el.find(".report-form").val());var e="default"===this.$el.find(".report-form").val()||"custom"===this.$el.find(".report-form").val()&&""===this.$el.find(".custom-reason-form").val();this.$el.find(".submit").toggleClass("btn-disabled",e)}})},343:function(e,t,o){"use strict";var n=o(5),i=o.n(n),a=o(6),s=o(4),r=o(98),l=o(1),p=o(23),u=o(2),c=o(34),d=o(18),m=o(37),h=o(145),f=o(185),v=o(15),b=(o.n(v),a.a.extend({optionTypes:{model:l.b.shape({name:l.b.string.isRequired,thumbnails:l.b.object.isRequired}).isRequired},template:function(){return u.default.getFromString('\n            {% from \'skfb_front/macros/model.jinja\' import model_name %}\n            <div class="c-duplicate-model-container__loading-popup">\n                {{ components.spinner | component }}\n                {{ model.thumbnails | image_container(100, 100 * 9 / 16) }}\n                {{ model_name(authUser, model, {\n                    "withStaffpickFlag" : false,\n                    "withRestrictedFlag" : false,\n                    "withStaffpickLink" : false\n                }) }}\n            </div>\n            ',{authUser:s.a.me().toJSON(),model:this.options.model,components:this.createChildrenComponents({spinner:{viewClass:f.a}})})}}));t.a=a.a.extend({displayName:"DuplicateModelContainer",optionTypes:{model:l.b.shape({name:l.b.string.isRequired,uid:l.b.string.isRequired}).isRequired,render:l.b.func.isRequired,className:l.b.string},initialize:function(){a.a.prototype.initialize.apply(this,arguments),this.onDuplicate=c.c(this.onDuplicate.bind(this))},canDuplicate:function(){return Object(r.f)(s.a.me().toJSON(),"pro")},onDuplicate:function(){var e=this;return this.canDuplicate()?d.a.duplicateModel(this.options.model.uid).then(function(t){var o=t.model.uid;return e.openLoadingPopup(),e.pollDuplicatedModelStatus(o).then(function(){e.closeLoadingPopup(),e.openDuplicationSucceededPopup(o)}).catch(function(){e.closeLoadingPopup(),e.openDuplicationFailedPopup()})}).catch(function(t){return console.error(t),e.openDuplicationFailedPopup()}):i.a.resolve()},pollDuplicatedModelStatus:function(e){var t=this;return d.a.getModelStatus(e).then(function(o){return["FAILED","SUCCEEDED"].includes(o.processing)?"FAILED"===o.processing?i.a.reject(o.processing):i.a.resolve(o.processing):i.a.delay(2e3).then(function(){return t.pollDuplicatedModelStatus(e)})})},openLoadingPopup:function(){return this.loadingPopup=new h.a({title:"Your model is being duplicated.",children:{viewClass:b,options:{model:this.options.model}}}),this.loadingPopup.open()},closeLoadingPopup:function(){this.loadingPopup.close()},openDuplicationFailedPopup:function(){var e=this;return new h.a({title:"Duplication failed",html:"\n                <p>The duplication of your model <strong>failed</strong>.</p>\n            ",width:560,renderButtons:function(e){return[{viewClass:m.a,options:{text:"cancel",key:"cancel",type:"tertiary",onClick:function(){return e.cancel()}}},{viewClass:m.a,options:{text:"retry",key:"retry",type:"primary",onClick:function(){return e.continue()}}}]}}).open().then(function(){return e.onDuplicate()}).catch(Object(p.g)(p.e))},openDuplicationSucceededPopup:function(e){return new h.a({title:"Model Duplicated",html:"\n                <p>\n                    <span>Your model </span>\n                    <strong>“"+this.options.model.name+"”</strong>\n                    <span> has been succesfully duplicated!</span>\n                </p>\n            ",width:560,renderButtons:function(e){return[{viewClass:m.a,options:{type:"tertiary",text:"close",key:"cancel",onClick:function(){return e.cancel()}}},{viewClass:m.a,options:{type:"primary",text:"go to the duplicated model",key:"continue",onClick:function(){return e.continue()}}}]}}).open().then(function(){window.location="/models/"+e}).catch(Object(p.g)(p.e))},template:function(){return u.default.getFromString("{{ components.child | component(options.className) }}",{options:this.options,components:this.createChildrenComponents({child:this.options.render({canDuplicate:this.canDuplicate(),onDuplicate:this.onDuplicate.bind(this)})})})}})},357:function(e,t){e.exports={skfbWhite:"#ffffff",skfbRed:"#cc211f",skfbBrightRed:"#f02624",skfbLightBlue:"#49cdf8",skfbBlue:"#1caad9",skfbDarkBlue:"#1c88bb",skfbLightYellow:"#ffe9b4",skfbYellow:"#fed600",skfbOrange:"#ff9e3a",skfbGreen:"#35cba7",skfbBrightGreen:"#1ac95d",skfbPurple:"#df1660",skfbBlack:"#222222",skfbGrey0:"#555555",skfbGrey1:"#888888",skfbGrey2:"#999999",skfbGrey3:"#cccccc",skfbGrey4:"#dddddd",skfbGrey5:"#e7e7e7",skfbGrey6:"#f2f2f2",skfbDarkAlpha:"rgba(0, 0, 0, 0.2)",skfbEditorGrey0:"#000000",skfbEditorGrey1:"#1a1a1a",skfbEditorGrey2:"#333333",skfbEditorGrey3:"#595959",skfbEditorGrey4:"#666666",skfbEditorGrey5:"#777777",skfbEditorGrey6:"#888888",skfbEditorGrey7:"#cccccc",containerInfoBg:"#ddf6fa",containerInfoBorder:"#8bdded",containerWarningBg:"#ffe9b4",containerWarningBorder:"#fed600",containerDangerBg:"#f6d3d6",containerDangerBorder:"#e07881",colorPositive:"#1ac95d",colorError:"#db6f6f",colorRestricted:"#cc211f",colorDanger:"#cc211f",colorWarning:"#fed600",colorStaff:"#ff9e3a",colorMaster:"#35cba7",websiteBackgroundColor:"#f2f2f2",websiteTopBackgroundColor:"white",websiteTopTextColor:"#222222",websiteTopHoverColor:"#1caad9",websiteTopSearchColor:"#999999",websiteTopSearchActiveColor:"black",websiteOddTextColor:"#555555",websiteOddLinkColor:"#1caad9",websiteOddHoverLinkColor:"#1c88bb",websiteEvenTextColor:"#eeeeee",websiteEvenLinkColor:"white",websiteEvenHoverLinkColor:"#f2f2f2",websiteSidebarIconColor:"#999999",editorColor:"#333333",editorImportantColor:"#0d0d0d",editorKeyColor:"#1a1a1a",editorMinorColor:"#4d4d4d",editorTrivialColor:"#595959",editorTextColor:"#cccccc",editorStrongColor:"white",editorBorderColor:"black",editorActiveColor:"#1caad9",editorScrollbarTrackColor:"#a3a3a3",editorScrollbarThumbColor:"#444444",viewerRadialBackgroundFrom:"#f2f2f2",viewerRadialBackgroundTo:"#b3b3b3",viewerPrimaryLoadingColor:"#1caad9",viewerSecondaryLoadingColor:"#1caad9",viewerBackgroundColor:"black",brandColor:"#1caad9",facebookColor:"#3a589a",twitterColor:"#00c4fc",googleplusColor:"#de4830",pinterestColor:"#ce1d21",linkedinColor:"#1884bc",instagramColor:"#125688",tumblrColor:"#36465d",redditColor:"#ff5700",mailColor:"#555555",websiteSuccessColor:"#00a317",storeColor:"#df1660",storeHoverColor:"#c81859",storeGradient:"linear-gradient(45deg, #a60b43 0%, #f42671 100%)",websiteStoreCheckoutGradient:"linear-gradient(45deg, #1caad9, #49cdf8)",labelColor:"#888888",dropdownArrowColor:"#b8b8b8",dropdownArrowColorHighlight:"#222222",linkColor:"#1caad9",linkHoverColor:"#1c88bb",privateLimitInfoBg:"#ffe9b4",privateLimitInfoBorder:"#fed600",privateLimitReachedBg:"#f6d3d6",privateLimitReachedBorder:"#e07881",colorProUser:"#00aad8",colorPremUser:"#007395",colorBizUser:"#003748",colorEntUser:"#222222",userFlagPro:"#00aad8",userFlagPrem:"#007395",userFlagBiz:"#003748",userFlagEnt:"#222222",userFlagStaff:"#ff9e3a",userFlagMaster:"#35cba7"}},358:function(e,t){e.exports={websiteTopHeight:"60px",websiteBigTopHeight:"86px",websiteBannerHeight:"50px",websiteResponsiveTopHeight:"40px",websiteResponsiveNavigationWidth:"250px",editorHeaderHeight:"55px",editorPanelWidth:"320px",editorScrollbarWidth:"10px",editorGroupWidgetHeaderHeight:"30px",editorGroupWidgetSwitchWidth:"50px",editorGroupWidgetSwitchHeight:"24px",editorGroupWidgetSwitchMargin:"2px",editorGroupWidgetSwitchCursorWidth:"12px",editorNestedGroupWidgetSwitchMargin:"3px",editorImageWidgetWidth:"30px",editorImageWidgetHeight:"30px",viewerControlSize:"30px",websiteMaxWidth:"2000px",responsiveBreakpointXXLarge:"1910px",responsiveBreakpointXLarge:"1400px",responsiveBreakpointLarge:"1280px",responsiveBreakpointMedium:"1100px",responsiveBreakpointSmall:"950px",responsiveBreakpointXSmall:"800px",responsiveBreakpointXXSmall:"480px",responsiveGridOneColumn:"700px",responsiveGridTwoColumn:"1015px",responsiveGridThreeColumn:"1910px"}},398:function(e,t,o){o(15),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/partials/embed/iframe.jinja"]=function(){function e(e,t,o,n,i){var a=null,s=null,r="";try{var l=null;e.getTemplate("skfb_front/macros/model.jinja",!1,"skfb_front/partials/embed/iframe.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("model_iframe"))return void i(new Error("cannot import 'model_iframe'"));var c=u.model_iframe;t.setVariable("model_iframe",c),r+='<div class="sketchfab-embed-wrapper">',r+=n.suppressValue((a=0,s=108,n.callWrap(c,"model_iframe",t,[e.getFilter("query_string").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"model"),"embedUrl"),n.memberLookup(n.contextOrFrameLookup(t,o,"parameters"),"flags")),{width:n.memberLookup(n.contextOrFrameLookup(t,o,"parameters"),"width"),height:n.memberLookup(n.contextOrFrameLookup(t,o,"parameters"),"height")}])),e.opts.autoescape),r+='\n\n<p style="font-size: 13px; font-weight: normal; margin: 5px; color: #4A4A4A;">\n    <a href="',r+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"model"),"viewerUrl"),e.opts.autoescape),r+=n.suppressValue(e.getFilter("safe").call(t,n.contextOrFrameLookup(t,o,"anchor")),e.opts.autoescape),r+='" target="_blank" style="font-weight: bold; color: #1CAAD9;">',r+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"model"),"name"),e.opts.autoescape),r+='</a>\n    by <a href="',r+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"model"),"user"),"profileUrl"),e.opts.autoescape),r+=n.suppressValue(e.getFilter("safe").call(t,n.contextOrFrameLookup(t,o,"anchor")),e.opts.autoescape),r+='" target="_blank" style="font-weight: bold; color: #1CAAD9;">',r+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"model"),"user"),"displayName"),e.opts.autoescape),r+='</a>\n    on <a href="https://sketchfab.com',r+=n.suppressValue(e.getFilter("safe").call(t,n.contextOrFrameLookup(t,o,"anchor")),e.opts.autoescape),r+='" target="_blank" style="font-weight: bold; color: #1CAAD9;">Sketchfab</a>\n</p>\n</div>',l?l.rootRenderFunc(e,t,o,n,i):i(null,r)})})}catch(e){i(n.handleError(e,a,s))}}return{root:e}}()}()},412:function(e,t,o){"use strict";var n=o(4),i=o(116),a=o(1);t.a=i.a.extend({displayName:"SubscribeButton",optionTypes:{collection:a.b.shape({id:a.b.string.isRequired}).isRequired},events:{click:"subscribeCollection"},initialize:function(){i.a.prototype.initialize.apply(this,arguments),n.a.me().on("change:subscriptions",this.render,this),n.a.me().getHasSubscribed(this.options.collection.id)},subscribeCollection:function(){var e=this;this.isReady&&!this.isLoading&&(this.setIsLoading(),this.options.collection.toggleSubscription().then(function(){return e.setIsReady()}))},toggle:function(e,t){this.$el.toggleClass("toggled",e),t&&this.$el.addClass("just-clicked").mouseleave(function(){this.$el.removeClass("just-clicked")})},render:function(){this.toggle(n.a.me().hasSubscribed(this.options.collection.id)),this.isLoading||this.setIsReady()}})},43:function(e,t,o){"use strict";var n=o(40),i=o.n(n),a=o(70),s=o.n(a),r=o(3),l=o.n(r),p=o(0),u=(o.n(p),o(26)),c=o(35),d=s()("windowCallbackKey");t.a={name:"WithWindowEvents",constructor:function(){var e=this;this[d]={listeners:[]},this.events=Object(u.c)(this.events,function(t,o){var n=Object(c.c)(o);if("window"!==n.selector)return i()({},o,t);if("string"==typeof t&&!e[t])throw new Error("WithWindowEvents error: "+e.displayName+"."+t+" is not defined.");return e[d].listeners.push({eventName:n.eventName,callback:function(){for(var o,n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return Object(p.isFunction)(t)?t.call.apply(t,[e].concat(i)):(o=e[t]).call.apply(o,[e].concat(i))}}),{}})},delegateEvents:function(){this[d].listeners.forEach(function(e){l()(window).on(e.eventName,e.callback)})},undelegateEvents:function(){this[d].listeners.forEach(function(e){l()(window).off(e.eventName,e.callback)})},beforeRemove:function(){this[d].listeners.forEach(function(e){l()(window).off(e.eventName,e.callback)})}}},44:function(e,t,o){var n,i,a;/**
 * isMobile.js v0.4.1
 *
 * A simple library to detect Apple phones and tablets,
 * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
 * and any kind of seven inch device, via user agent sniffing.
 *
 * @author: Kai Mallea (kmallea@gmail.com)
 *
 * @license: http://creativecommons.org/publicdomain/zero/1.0/
 */
!function(o){var s=/iPhone/i,r=/iPod/i,l=/iPad/i,p=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,u=/Android/i,c=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,d=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,m=/Windows Phone/i,h=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,f=/BlackBerry/i,v=/BB10/i,b=/Opera Mini/i,g=/(CriOS|Chrome)(?=.*\bMobile\b)/i,k=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,_=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),w=function(e,t){return e.test(t)},L=function(e){var t=e||navigator.userAgent,o=t.split("[FBAN");if(void 0!==o[1]&&(t=o[0]),o=t.split("Twitter"),void 0!==o[1]&&(t=o[0]),this.apple={phone:w(s,t),ipod:w(r,t),tablet:!w(s,t)&&w(l,t),device:w(s,t)||w(r,t)||w(l,t)},this.amazon={phone:w(c,t),tablet:!w(c,t)&&w(d,t),device:w(c,t)||w(d,t)},this.android={phone:w(c,t)||w(p,t),tablet:!w(c,t)&&!w(p,t)&&(w(d,t)||w(u,t)),device:w(c,t)||w(d,t)||w(p,t)||w(u,t)},this.windows={phone:w(m,t),tablet:w(h,t),device:w(m,t)||w(h,t)},this.other={blackberry:w(f,t),blackberry10:w(v,t),opera:w(b,t),firefox:w(k,t),chrome:w(g,t),device:w(f,t)||w(v,t)||w(b,t)||w(k,t)||w(g,t)},this.seven_inch=w(_,t),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},y=function(){var e=new L;return e.Class=L,e};void 0!==e&&e.exports&&"undefined"==typeof window?e.exports=L:void 0!==e&&e.exports&&"undefined"!=typeof window?e.exports=y():(i=[],n=o.isMobile=y(),void 0!==(a="function"==typeof n?n.apply(t,i):n)&&(e.exports=a))}(this)},455:function(e,t,o){"use strict";var n=o(40),i=o.n(n),a=o(9),s=o.n(a),r=o(38),l=o(1),p=o(2);t.a=r.a.extend({displayName:"Input",optionTypes:{value:l.b.string.isRequired,onChange:l.b.func.isRequired,onBlur:l.b.func,onFocus:l.b.func,onKeyUp:l.b.func,onKeyDown:l.b.func,placeholder:l.b.string,type:l.b.string,className:l.b.string,grey:l.b.bool,attrs:l.b.object,style:l.b.object,hasError:l.b.bool,isTouched:l.b.bool,disabled:l.b.bool,autofocus:l.b.bool},defaultOptions:{className:"form-input",grey:!1,hasError:!1,isTouched:!1,disabled:!1,autofocus:!1,type:"text",attrs:{},style:{},onBlur:function(){},onFocus:function(){},onKeyUp:function(){},onKeyDown:function(){}},events:{'input [data-ref="input"]':function(e){this.options.onChange(e.target.value)},'blur [data-ref="input"]':function(e){this.options.onBlur(e)},'focus [data-ref="input"]':function(e){this.options.onFocus(e)},'keyup [data-ref="input"]':function(e){this.options.onKeyUp(e)},'keydown [data-ref="input"]':function(e){this.options.onKeyDown(e)}},viewDidMount:function(){this.options.autofocus&&this.refs.$input.focus()},template:function(){var e,t=s()({},this.options.attrs,{classNames:s()({},this.options.attrs.classNames,(e={},i()(e,this.options.className,!0),i()(e,"--grey",this.options.grey),i()(e,"invalid",this.options.hasError&&this.options.isTouched),e)),style:s()({},this.options.style,this.options.attrs.style),value:this.options.value,placeholder:this.options.placeholder,dataRef:"input",type:this.options.type},this.options.autofocus?{autofocus:!0}:{});return this.options.disabled&&(t.disabled=!0),p.default.getFromString('<input ref="input" {{ attrs | attributes }} />',{attrs:t})}})},459:function(e,t){!function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/atoms/select.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null,r=n.makeMacro([],["options"],function(i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var s="";s+="\n    <span ",s+=n.suppressValue(e.getFilter("attributes").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"attrs")),e.opts.autoescape),s+='>\n        <select\n            data-ref="select"\n            ',s+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"disabled")?'disabled="true"':"",e.opts.autoescape),s+=">\n            ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"placeholder")&&(s+="\n                <option ",s+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"value")&&""!=n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"value")?"":"selected",e.opts.autoescape),s+=' disabled hidden value="">\n                    ',s+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"placeholder"),e.opts.autoescape),s+="\n                </option>\n            "),s+="\n            ",o=o.push();var r=n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"options");if(r)for(var l=r.length,p=0;p<r.length;p++){var u=r[p];o.set("option",u),o.set("loop.index",p+1),o.set("loop.index0",p),o.set("loop.revindex",l-p),o.set("loop.revindex0",l-p-1),o.set("loop.first",0===p),o.set("loop.last",p===l-1),o.set("loop.length",l),s+='\n                <option\n                    value="',s+=n.suppressValue(n.memberLookup(u,"value"),e.opts.autoescape),s+='"\n                    ',s+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"value")==n.memberLookup(u,"value")||!n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"value")&&n.memberLookup(u,"default")?"selected":"",e.opts.autoescape),s+=">\n                    ",s+=n.suppressValue(n.memberLookup(u,"title"),e.opts.autoescape),s+="\n                </option>\n            "}return o=o.pop(),s+="\n        </select>\n    </span>\n",o=a,new n.SafeString(s)});t.addExport("select"),t.setVariable("select",r),a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{root:e}}()}()},48:function(e,t,o){o(16),o(32),o(15),o(52),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/collection.jinja"]=function(){function e(e,t,o,n,i){var a=null,s=null,r="";try{var l=null;e.getTemplate("skfb_front/macros/user.jinja",!1,"skfb_front/macros/collection.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("user_name"))return void i(new Error("cannot import 'user_name'"));var c=u.user_name;t.setVariable("user_name",c),r+="\n",e.getTemplate("skfb_front/macros/buttons.jinja",!1,"skfb_front/macros/collection.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("add_to_collection_button"))return void i(new Error("cannot import 'add_to_collection_button'"));var c=u.add_to_collection_button;t.setVariable("add_to_collection_button",c),r+="\n",e.getTemplate("skfb_front/macros/model.jinja",!1,"skfb_front/macros/collection.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("preview_link"))return void i(new Error("cannot import 'preview_link'"));var c=u.preview_link;t.setVariable("preview_link",c),r+="\n",e.getTemplate("skfb_front/macros/utils.jinja",!1,"skfb_front/macros/collection.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("humanize_count"))return void i(new Error("cannot import 'humanize_count'"));var c=u.humanize_count;t.setVariable("humanize_count",c),r+="\n",e.getTemplate("skfb_front/macros/buttons.jinja",!1,"skfb_front/macros/collection.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("subscribe_button_count"))return void i(new Error("cannot import 'subscribe_button_count'"));var c=u.subscribe_button_count;t.setVariable("subscribe_button_count",c),r+="\n\n";var d=n.makeMacro(["collection"],["options"],function(i,a){var s=o;o=new n.Frame,a=a||{},a.hasOwnProperty("caller")&&o.set("caller",a.caller),o.set("collection",i),o.set("options",a.hasOwnProperty("options")?a.options:{});var r="";r+="\n    ";var l;return l=e.getFilter("merge").call(t,{displayNew:!1},n.contextOrFrameLookup(t,o,"options")),o.set("options",l,!0),o.topLevel&&t.setVariable("options",l),o.topLevel&&t.addExport("options",l),r+="\n\n    ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"displayNew")&&(r+='\n        <span class="flag --new" title="New Collection"></span>\n    '),r+="\n",o=s,new n.SafeString(r)});t.addExport("collection_labels"),t.setVariable("collection_labels",d),r+="\n\n";var m=n.makeMacro(["collection"],[],function(t,i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("collection",t);var s="";return s+='<span class="collection-name">\n        <a class="label" href="',s+=n.suppressValue(n.memberLookup(t,"collectionUrl"),e.opts.autoescape),s+='" title="',s+=n.suppressValue(n.memberLookup(t,"name"),e.opts.autoescape),s+='">\n            <data itemprop="name">\n                ',s+=n.suppressValue(n.memberLookup(t,"name"),e.opts.autoescape),s+="\n            </data>\n        </a>\n    </span>",o=a,new n.SafeString(s)});t.addExport("collection_name"),t.setVariable("collection_name",m),r+="\n\n";var h=n.makeMacro(["authUser","list"],["options"],function(i,r,l){var p=o;o=new n.Frame,l=l||{},l.hasOwnProperty("caller")&&o.set("caller",l.caller),o.set("authUser",i),o.set("list",r),o.set("options",l.hasOwnProperty("options")?l.options:{});var u,c="";u=e.getFilter("merge").call(t,{maxDisplayed:3},n.contextOrFrameLookup(t,o,"options")),o.set("options",u,!0),o.topLevel&&t.setVariable("options",u),o.topLevel&&t.addExport("options",u);var d;d=e.getFilter("first_n").call(t,r,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"maxDisplayed")),o.set("shortList",d,!0),o.topLevel&&t.setVariable("shortList",d),o.topLevel&&t.addExport("shortList",d);var m;m=e.getFilter("length").call(t,r)-e.getFilter("length").call(t,n.contextOrFrameLookup(t,o,"shortList")),o.set("otherCount",m,!0),o.topLevel&&t.setVariable("otherCount",m),o.topLevel&&t.addExport("otherCount",m),o=o.push();var h=n.contextOrFrameLookup(t,o,"shortList");if(h)for(var f=h.length,v=0;v<h.length;v++){var b=h[v];o.set("collection",b),o.set("loop.index",v+1),o.set("loop.index0",v),o.set("loop.revindex",f-v),o.set("loop.revindex0",f-v-1),o.set("loop.first",0===v),o.set("loop.last",v===f-1),o.set("loop.length",f),n.memberLookup(n.contextOrFrameLookup(t,o,"loop"),"first")||(n.memberLookup(n.contextOrFrameLookup(t,o,"loop"),"last")&&n.contextOrFrameLookup(t,o,"otherCount")<1?c+="<span> and </span>":c+="<span>, </span>"),c+=n.suppressValue((a=43,s=24,n.callWrap(n.contextOrFrameLookup(t,o,"collection_name"),"collection_name",t,[b])),e.opts.autoescape)}return o=o.pop(),n.contextOrFrameLookup(t,o,"otherCount")>0&&(c+='<span class="others"> and ',c+=n.suppressValue(n.contextOrFrameLookup(t,o,"otherCount"),e.opts.autoescape),c+=" other",c+=n.suppressValue(e.getFilter("pluralize").call(t,n.contextOrFrameLookup(t,o,"otherCount")),e.opts.autoescape),c+="</span>"),o=p,new n.SafeString(c)});t.addExport("collection_name_list"),t.setVariable("collection_name_list",h),r+="\n\n";var f=n.makeMacro([],["options"],function(e){var t=o;o=new n.Frame,e=e||{},e.hasOwnProperty("caller")&&o.set("caller",e.caller),o.set("options",e.hasOwnProperty("options")?e.options:{});var i="";return i+="\n\n    ",i+='\n    <ul class="hover-menu quicksettings corner">\n\n        <li><a data-action="open-settings-popup">Properties</a></li>\n        <li><a data-action="delete-collection">Delete</a></li>\n\n    </ul>\n\n',o=t,new n.SafeString(i)});t.addExport("collection_quicksettings"),t.setVariable("collection_quicksettings",f),r+="\n\n";var v=n.makeMacro(["collection"],["options"],function(i,a){var s=o;o=new n.Frame,a=a||{},a.hasOwnProperty("caller")&&o.set("caller",a.caller),o.set("collection",i),o.set("options",a.hasOwnProperty("options")?a.options:{});var r="";return r+="\n\n    ",n.memberLookup(i,"description")&&(r+="\n        ",r+=n.suppressValue(e.getFilter("paragraphy").call(t,e.getFilter("urlize").call(t,n.memberLookup(i,"description"),n.makeKeywordArgs({target:"_blank",trim_url_limit:20}))),e.opts.autoescape),r+="\n    "),r+="\n\n",o=s,new n.SafeString(r)});t.addExport("collection_description"),t.setVariable("collection_description",v),r+="\n\n";var b=n.makeMacro(["collection"],[],function(i,r){var l=o;o=new n.Frame,r=r||{},r.hasOwnProperty("caller")&&o.set("caller",r.caller),o.set("collection",i);var p="";return p+="\n\n    ",i=e.getFilter("merge").call(t,{thumbnails:[]},i),o.set("collection",i,!0),o.topLevel&&t.setVariable("collection",i),o.topLevel&&t.addExport("collection",i),p+='\n\n    <div class="collection-addcard">\n\n        <div class="thumbnail">\n            ',p+=n.suppressValue(e.getFilter("image_container").call(t,e.getFilter("default").call(t,n.memberLookup(n.memberLookup(i,"thumbnails"),0),[]),50,50),e.opts.autoescape),p+='\n        </div>\n\n        <div class="meta">\n\n            <span class="name" title="',p+=n.suppressValue(n.memberLookup(i,"name"),e.opts.autoescape),p+='">\n                ',p+=n.suppressValue(n.memberLookup(i,"name"),e.opts.autoescape),p+='\n            </span>\n\n            <span class="stats model-count">\n                ',p+=n.suppressValue(e.getFilter("humanize_number").call(t,n.memberLookup(i,"modelCount")),e.opts.autoescape),p+=" model",p+=n.suppressValue(e.getFilter("pluralize").call(t,n.memberLookup(i,"modelCount")),e.opts.autoescape),p+='\n            </span>\n\n        </div>\n\n        <div class="add-button">\n            ',p+=n.suppressValue((a=94,s=37,n.callWrap(n.contextOrFrameLookup(t,o,"add_to_collection_button"),"add_to_collection_button",t,[i])),e.opts.autoescape),p+="\n        </div>\n\n    </div>\n\n",o=l,new n.SafeString(p)});t.addExport("collection_addcard"),t.setVariable("collection_addcard",b),r+="\n",l?l.rootRenderFunc(e,t,o,n,i):i(null,r)})})})})})})})})})})}catch(e){i(n.handleError(e,a,s))}}return{root:e}}()}()},51:function(e,t){!function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/common.jinja"]=function(){function e(e,t,o,n,i){var a=null,s=null,r="";try{var l=null,p=n.makeMacro(["options"],[],function(t,i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",t);var s="";return s+="\n\n    ",n.memberLookup(t,"maintenance")&&(s+='\n        <meta property="skfb:maintenance" content="',s+=n.suppressValue(n.memberLookup(t,"maintenance"),e.opts.autoescape),s+='">\n    '),s+="\n\n",o=a,new n.SafeString(s)});t.addExport("meta_sketchfab"),t.setVariable("meta_sketchfab",p),r+="\n\n\n";var u=n.makeMacro(["options"],[],function(t,i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",t);var s="";return s+="\n\n    ",s+="\n    ",s+="\n    ",s+="\n    ",s+='\n\n    <meta property="og:site_name" content="Sketchfab">\n\n    <meta property="twitter:site" content="@sketchfab">\n    <meta property="twitter:domain" content="https://sketchfab.com/">\n\n\n    <meta name="p:domain_verify" content="af528e3df5f766ca012f5e065c7cb812">\n    <meta name="tumblr:app_id" content="kU1rZ3N6wWaGFyaR9rfWDzOrdod7eKcpyzkjFjWlmptbL0d0DR" />\n\n\n    ',n.memberLookup(t,"tumblr")&&(s+="\n        ",n.memberLookup(n.memberLookup(t,"tumblr"),"canonicalUrl")&&(s+='\n            <meta name="tumblr:url" content="',s+=n.suppressValue(n.memberLookup(n.memberLookup(t,"tumblr"),"canonicalUrl"),e.opts.autoescape),s+='"/>\n        '),s+="\n    "),s+="\n\n    ",n.memberLookup(t,"video")?s+='\n        <meta property="twitter:card" content="player">\n    ':s+='\n        <meta property="twitter:card" content="summary">\n    ',s+="\n\n    ",n.memberLookup(t,"twitter")&&(s+="\n        ",n.memberLookup(n.memberLookup(t,"twitter"),"author")&&(s+='\n            <meta property="twitter:creator" content="@',s+=n.suppressValue(n.memberLookup(n.memberLookup(t,"twitter"),"author"),e.opts.autoescape),s+='">\n        '),s+="\n    "),s+="\n\n    ",n.memberLookup(t,"title")&&(s+='\n        <meta property="twitter:title" content="',s+=n.suppressValue(n.memberLookup(t,"title"),e.opts.autoescape),s+='">\n        <meta property="og:title" content="',s+=n.suppressValue(n.memberLookup(t,"title"),e.opts.autoescape),s+='">\n        <meta property="tumblr:title" content="',s+=n.suppressValue(n.memberLookup(t,"title"),e.opts.autoescape),s+='">\n    '),s+="\n\n    ",n.memberLookup(t,"type")?(s+='\n        <meta property="og:type" content="',s+=n.suppressValue(n.memberLookup(t,"type"),e.opts.autoescape),s+='">\n        <meta property="tumblr:type" content="',s+=n.suppressValue(n.memberLookup(t,"type"),e.opts.autoescape),s+='">\n    '):s+='\n        <meta property="og:type" content="website">\n        <meta property="tumblr:type" content="website">\n    ',s+="\n\n    ",n.memberLookup(t,"description")&&(s+='\n        <meta property="twitter:description" content="',s+=n.suppressValue(n.memberLookup(t,"description"),e.opts.autoescape),s+='">\n        <meta property="og:description" content="',s+=n.suppressValue(n.memberLookup(t,"description"),e.opts.autoescape),s+='">\n    '),s+="\n\n    ",n.memberLookup(t,"image")&&(s+='\n        <meta property="twitter:image" content="',s+=n.suppressValue(n.memberLookup(t,"image"),e.opts.autoescape),s+='">\n        <meta property="og:image" content="',s+=n.suppressValue(n.memberLookup(t,"image"),e.opts.autoescape),s+='">\n        <meta property="og:image:width" content="1024">\n        <meta property="og:image:height" content="768">\n        <meta property="tumblr:image" content="',s+=n.suppressValue(n.memberLookup(t,"image"),e.opts.autoescape),s+='">\n    '),s+="\n\n    ",n.memberLookup(t,"oembed")&&(s+='\n        <link rel="alternate" type="application/json+oembed" href="',s+=n.suppressValue(n.memberLookup(t,"oembed"),e.opts.autoescape),s+='" title="',s+=n.suppressValue(n.memberLookup(t,"title"),e.opts.autoescape),s+='">\n    '),s+="\n\n    ",n.memberLookup(t,"video")&&(s+='\n        <meta property="og:url" content="',s+=n.suppressValue(n.memberLookup(t,"video"),e.opts.autoescape),s+='">\n        <meta property="og:video:type" content="text/html">\n        <meta property="og:video:url" content="',s+=n.suppressValue(n.memberLookup(t,"video"),e.opts.autoescape),s+='">\n        <meta property="og:video:secure_url" content="',s+=n.suppressValue(n.memberLookup(t,"video"),e.opts.autoescape),s+='">\n        <meta property="og:video:width" content="800">\n        <meta property="og:video:height" content="600">\n\n        <meta name="tumblr:video:secure_url" content="',s+=n.suppressValue(n.memberLookup(t,"video"),e.opts.autoescape),s+='">\n        <meta name="tumblr:video:type" content="text/html">\n        <meta name="tumblr:video:width" content="800">\n        <meta name="tumblr:video:height" content="600">\n\n        <meta name="twitter:player" content="',s+=n.suppressValue(n.memberLookup(t,"video"),e.opts.autoescape),s+='">\n        <meta name="twitter:player:stream:content_type" content="text/html">\n        <meta name="twitter:player:width" content="800">\n        <meta name="twitter:player:height" content="600">\n    '),s+="\n\n",o=a,new n.SafeString(s)});t.addExport("meta_social"),t.setVariable("meta_social",u),r+="\n\n\n";var c=n.makeMacro([],["options"],function(i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var s="";s+="\n\n    ";var r;return r=e.getFilter("merge").call(t,{disableScaling:!0,withThemeColor:!0},n.contextOrFrameLookup(t,o,"options")),o.set("options",r,!0),o.topLevel&&t.setVariable("options",r),o.topLevel&&t.addExport("options",r),s+="\n\n    ",0!=n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"disableScaling")&&(s+='\n        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">\n    '),s+="\n\n    ",0!=n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"withThemeColor")&&(s+='\n         <meta name="theme-color" content="#1CAAD9">\n    '),s+="\n\n",o=a,new n.SafeString(s)});t.addExport("meta_browser"),t.setVariable("meta_browser",c),r+="\n\n\n";var d=n.makeMacro(["host"],["options"],function(i,a){var s=o;o=new n.Frame,a=a||{},a.hasOwnProperty("caller")&&o.set("caller",a.caller),o.set("host",i),o.set("options",a.hasOwnProperty("options")?a.options:{});var r="";r+='\n\n    <meta name="description" content="',r+=n.suppressValue(e.getFilter("default").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"description"),"Use Sketchfab to publish, share and embed interactive 3D files. Discover and download thousands of 3D models from games, cultural heritage, architecture, design and more."),e.opts.autoescape),r+='">\n\n    ',o=o.push();var l=["canonical","next","prev"];if(l)for(var p=l.length,u=0;u<l.length;u++){var c=l[u];if(o.set("key",c),o.set("loop.index",u+1),o.set("loop.index0",u),o.set("loop.revindex",p-u),o.set("loop.revindex0",p-u-1),o.set("loop.first",0===u),o.set("loop.last",u===p-1),o.set("loop.length",p),r+="\n        ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),c)){r+="\n            ";var d;if(d=n.memberLookup(n.contextOrFrameLookup(t,o,"options"),c),o.set("url",d,!0),o.topLevel&&t.setVariable("url",d),o.topLevel&&t.addExport("url",d),r+="\n            ",r+="\n            ",r+="\n            ","/"==n.contextOrFrameLookup(t,o,"url")){var m;m=e.getFilter("replace").call(t,n.contextOrFrameLookup(t,o,"url"),"/","",1),o.set("url",m,!0),o.topLevel&&t.setVariable("url",m),o.topLevel&&t.addExport("url",m)}r+='\n            <link rel="',r+=n.suppressValue(c,e.opts.autoescape),r+='" href="',r+=n.suppressValue(i,e.opts.autoescape),r+=n.suppressValue(n.contextOrFrameLookup(t,o,"url"),e.opts.autoescape),r+='">\n        '}r+="\n    "}return o=o.pop(),r+="\n\n    ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"noIndex")&&(r+='\n        <meta name="robots" content="noindex">\n    '),r+="\n\n",o=s,new n.SafeString(r)});t.addExport("meta_seo"),t.setVariable("meta_seo",d),r+="\n\n\n";var m=n.makeMacro([],["options"],function(i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var s="";if(s+='\n\n    <meta http-equiv="x-dns-prefetch-control" content="on">\n\n    ',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"hosts")){s+="\n        ",o=o.push();var r=n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"hosts");if(r)for(var l=r.length,p=0;p<r.length;p++){var u=r[p];o.set("host",u),o.set("loop.index",p+1),o.set("loop.index0",p),o.set("loop.revindex",l-p),o.set("loop.revindex0",l-p-1),o.set("loop.first",0===p),o.set("loop.last",p===l-1),o.set("loop.length",l),s+='\n            <link rel="dns-prefetch" href="',s+=n.suppressValue(u,e.opts.autoescape),s+='">\n        '}o=o.pop(),s+="\n    "}return s+="\n\n",o=a,new n.SafeString(s)});t.addExport("meta_prefetch"),t.setVariable("meta_prefetch",m),r+="\n\n\n";var h=n.makeMacro(["prefetchedData"],[],function(i,a){var s=o;o=new n.Frame,a=a||{},a.hasOwnProperty("caller")&&o.set("caller",a.caller),o.set("prefetchedData",i);var r="";r+="\n\n    <script>( function ( target ) {\n\n        var prefetchedData = target.prefetchedData = { };\n\n        ",o=o.push();var l=e.getFilter("dict_items").call(t,i);if(l){var p;if(n.isArray(l)){var u=l.length;for(p=0;p<l.length;p++){var c=l[p][0];o.set("url",l[p][0]);var d=l[p][1];o.set("data",l[p][1]),o.set("loop.index",p+1),o.set("loop.index0",p),o.set("loop.revindex",u-p),o.set("loop.revindex0",u-p-1),o.set("loop.first",0===p),o.set("loop.last",p===u-1),o.set("loop.length",u),r+="\n            prefetchedData[ ",r+=n.suppressValue(e.getFilter("safe").call(t,e.getFilter("json_data").call(t,c)),e.opts.autoescape),r+=" ] = ",r+=n.suppressValue(e.getFilter("safe").call(t,e.getFilter("json_data").call(t,d)),e.opts.autoescape),r+=";\n        "}}else{p=-1;var u=n.keys(l).length;for(var m in l){p++;var h=l[m];o.set("url",m),o.set("data",h),o.set("loop.index",p+1),o.set("loop.index0",p),o.set("loop.revindex",u-p),o.set("loop.revindex0",u-p-1),o.set("loop.first",0===p),o.set("loop.last",p===u-1),o.set("loop.length",u),r+="\n            prefetchedData[ ",r+=n.suppressValue(e.getFilter("safe").call(t,e.getFilter("json_data").call(t,m)),e.opts.autoescape),r+=" ] = ",r+=n.suppressValue(e.getFilter("safe").call(t,e.getFilter("json_data").call(t,h)),e.opts.autoescape),r+=";\n        "}}}return o=o.pop(),r+="\n\n    } )( window );<\/script>\n\n",o=s,new n.SafeString(r)});t.addExport("use_prefetched_data"),t.setVariable("use_prefetched_data",h),r+="\n\n\n";var f=n.makeMacro(["authUser","options"],[],function(i,r,l){var p=o;o=new n.Frame,l=l||{},l.hasOwnProperty("caller")&&o.set("caller",l.caller),o.set("authUser",i),o.set("options",r);var u="";return u+="\n\n    <script type=\"text/javascript\">\n\n        var getReferrerOverride = function () {\n            // As always, accessing document.cookie in an iframe is subject to\n            // iframe sandboxing policy, which is up to the embedder. We can't assume\n            // it'll always work. And when it doesn't, it's uncaught throw party.\n            try {\n                var unauthorizedReferrers = ",u+=n.suppressValue(e.getFilter("safe").call(t,e.getFilter("encode").call(t,n.memberLookup(r,"unauthorizedReferrers"))),e.opts.autoescape),u+=" || [];\n                var trueReferrer = ( document.cookie + ';' ).match( /skfb_referrer_override=(.*?);/i );\n                var referrer = document.referrer;\n                var override = false;\n\n                trueReferrer = ( trueReferrer && trueReferrer.length > 1 ) ? trueReferrer[1] : '';\n                trueReferrer = decodeURIComponent( trueReferrer );\n\n                unauthorizedReferrers.forEach( function (domain) {\n                    if ( override ) return;\n                    override = !!referrer.match( domain );\n                } );\n\n                if ( override ) {\n                    console.info( 'Overriding referrer with : ', trueReferrer );\n                    ga( 'set', 'referrer', trueReferrer );\n                }\n\n                if ( override ) { return trueReferrer; }\n                else { return false; }\n            } catch (e) {\n                return false;\n            }\n\n        };\n\n    <\/script>\n\n    ",n.memberLookup(r,"googleAnalytics")&&(u+="\n        ",u+=n.suppressValue((a=199,s=32,n.callWrap(n.contextOrFrameLookup(t,o,"notify_google_analytics"),"notify_google_analytics",t,[i,n.memberLookup(r,"googleAnalytics")])),e.opts.autoescape),u+="\n    "),u+="\n\n    ",n.memberLookup(r,"mixpanel")&&(u+="\n        ",u+=n.suppressValue((a=203,s=24,n.callWrap(n.contextOrFrameLookup(t,o,"notify_mixpanel"),"notify_mixpanel",t,[i,n.memberLookup(r,"mixpanel")])),e.opts.autoescape),u+="\n    "),u+="\n\n    ",n.memberLookup(r,"googleTagManager")&&(u+="\n        ",u+=n.suppressValue((a=207,s=34,n.callWrap(n.contextOrFrameLookup(t,o,"notify_google_tag_manager"),"notify_google_tag_manager",t,[n.memberLookup(r,"googleTagManager")])),e.opts.autoescape),u+="\n    "),u+="\n\n",o=p,new n.SafeString(u)});t.addExport("notify_trackers"),t.setVariable("notify_trackers",f),r+="\n\n\n\n";var v=n.makeMacro(["options"],[],function(t,i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",t);var s="";return s+='\n\n\x3c!-- GTM scripts are deferred to after pageload for perf reasons. --\x3e\n<noscript><iframe src="//www.googletagmanager.com/ns.html?id=',s+=n.suppressValue(n.memberLookup(t,"uid"),e.opts.autoescape),s+="\"\nheight=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"></iframe></noscript>\n<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push(\n{'gtm.start': new Date().getTime(),event:'gtm.js'}\n);var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.defer=true;j.src=\n'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','",s+=n.suppressValue(n.memberLookup(t,"uid"),e.opts.autoescape),s+="');<\/script>\n\n\n",o=a,new n.SafeString(s)});t.addExport("notify_google_tag_manager"),t.setVariable("notify_google_tag_manager",v),r+="\n\n\n";var b=n.makeMacro(["authUser","options"],[],function(i,a,s){var r=o;o=new n.Frame,s=s||{},s.hasOwnProperty("caller")&&o.set("caller",s.caller),o.set("authUser",i),o.set("options",a);var l="";if(l+="\n\n    ",a=e.getFilter("merge").call(t,{trackPageview:!0},a),o.set("options",a,!0),o.topLevel&&t.setVariable("options",a),o.topLevel&&t.addExport("options",a),l+="\n\n    ",l+="\n    ",l+="\n    ",l+="\n\n    <script>\n\n        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n\n        ",i&&n.memberLookup(i,"isStaff")&&(l+="\n            window[ 'ga-disable-",l+=n.suppressValue(n.memberLookup(a,"uid"),e.opts.autoescape),l+="' ] = true;\n        "),l+="\n\n        ",i&&!n.memberLookup(i,"isAnonymous")?(l+="\n            ga( 'create', '",l+=n.suppressValue(n.memberLookup(a,"uid"),e.opts.autoescape),l+="', { 'userId' : '",l+=n.suppressValue(n.memberLookup(i,"uid"),e.opts.autoescape),l+="' } );\n        "):(l+="\n            ga( 'create', '",l+=n.suppressValue(n.memberLookup(a,"uid"),e.opts.autoescape),l+="' );\n        "),l+="\n\n        var referrerOverride = getReferrerOverride();\n        if (referrerOverride !== false) {\n            ga('set', 'referrer', referrerOverride);\n        }\n\n        ",i&&!n.memberLookup(i,"isAnonymous")){if(l+="\n\n            ",n.memberLookup(i,"segment")){l+="\n                ";var p;p=n.memberLookup(n.memberLookup(i,"segment"),"name"),o.set("segmentName",p,!0),o.topLevel&&t.setVariable("segmentName",p),o.topLevel&&t.addExport("segmentName",p),l+="\n                ";var u;u=n.memberLookup(n.memberLookup(i,"segment"),"kind"),o.set("segmentKind",u,!0),o.topLevel&&t.setVariable("segmentKind",u),o.topLevel&&t.addExport("segmentKind",u),l+="\n            "}else{l+="\n                ";var c;c="None",o.set("segmentName",c,!0),o.topLevel&&t.setVariable("segmentName",c),o.topLevel&&t.addExport("segmentName",c),l+="\n                ";var d;d="None",o.set("segmentKind",d,!0),o.topLevel&&t.setVariable("segmentKind",d),o.topLevel&&t.addExport("segmentKind",d),l+="\n            "}l+="\n\n            ga( 'set', {\n                'dimension1' : ",l+=n.suppressValue(e.getFilter("safe").call(t,e.getFilter("json_data").call(t,n.memberLookup(i,"account"))),e.opts.autoescape),l+=",\n                // dimension2 is Optimizely Experiments\n                'dimension3' : ",l+=n.suppressValue(e.getFilter("safe").call(t,e.getFilter("json_data").call(t,n.memberLookup(i,"createdAt"))),e.opts.autoescape),l+=",\n                'dimension4' : ",l+=n.suppressValue(e.getFilter("safe").call(t,e.getFilter("json_data").call(t,n.memberLookup(i,"billingCycle"))),e.opts.autoescape),l+=",\n                'dimension5' : '",l+=n.suppressValue(n.contextOrFrameLookup(t,o,"segmentName"),e.opts.autoescape),l+="',\n                'dimension6' : '",l+=n.suppressValue(n.contextOrFrameLookup(t,o,"segmentKind"),e.opts.autoescape),l+="',\n                'metric1' : ",l+=n.suppressValue(e.getFilter("safe").call(t,e.getFilter("json_data").call(t,n.memberLookup(i,"modelCount"))),e.opts.autoescape),l+=",\n                'metric2' : ",l+=n.suppressValue(e.getFilter("safe").call(t,e.getFilter("json_data").call(t,n.memberLookup(i,"likeCount"))),e.opts.autoescape),l+=",\n                'metric3' : ",l+=n.suppressValue(e.getFilter("safe").call(t,e.getFilter("json_data").call(t,n.memberLookup(i,"followingCount"))),e.opts.autoescape),l+=",\n            } );\n        "}return l+="\n\n        // Optimizely Universal Analytics Integration\n        window.optimizely = window.optimizely || [];\n        window.optimizely.push( 'activateUniversalAnalytics' );\n\n        ",n.memberLookup(a,"trackPageview")&&(l+="\n            ga( 'send', 'pageview' );\n        "),l+="\n\n    <\/script>\n\n",o=r,new n.SafeString(l)});t.addExport("notify_google_analytics"),t.setVariable("notify_google_analytics",b),r+="\n\n";var g=n.makeMacro(["stylesheet_name"],[],function(i,a){var s=o;o=new n.Frame,a=a||{},a.hasOwnProperty("caller")&&o.set("caller",a.caller),o.set("stylesheet_name",i);var r="";return r+='\n\n    <link rel="stylesheet" id="main-stylesheet" crossorigin="anonymous" integrity="',r+=n.suppressValue(e.getFilter("get_sri").call(t,i),e.opts.autoescape),r+='" href="',r+=n.suppressValue(e.getFilter("static_url").call(t,i),e.opts.autoescape),r+='" />\n\n',o=s,new n.SafeString(r)});t.addExport("insert_main_stylesheet"),t.setVariable("insert_main_stylesheet",g),r+="\n\n\n";var k=n.makeMacro(["authUser","options"],[],function(i,a,s){var r=o;o=new n.Frame,s=s||{},s.hasOwnProperty("caller")&&o.set("caller",s.caller),o.set("authUser",i),o.set("options",a);var l="";if(l+='\n\n    <script type="text/javascript">\n\n        ',l+='\n        (function(e,b){if(!b.__SV){var a,f,i,g;window.mixpanel=b;b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");\n        for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,e,d])};b.__SV=1.2;a=e.createElement("script");a.type="text/javascript";a.async=!0;a.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\\/\\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";f=e.getElementsByTagName("script")[0];f.parentNode.insertBefore(a,f)}})(document,window.mixpanel||[]);\n\n        mixpanel.init( \'',l+=n.suppressValue(n.memberLookup(a,"token"),e.opts.autoescape),l+="' );\n\n        ",l+="\n        ",i&&n.memberLookup(i,"isStaff")&&(l+='\n            mixpanel.register( { "$ignore": true } );\n        '),l+="\n\n        ",l+="\n        ",l+="\n        ",i&&!n.memberLookup(i,"isAnonymous")){if(n.memberLookup(i,"segment")){l+="\n                ";var p;p=n.memberLookup(n.memberLookup(i,"segment"),"name"),o.set("segmentName",p,!0),o.topLevel&&t.setVariable("segmentName",p),o.topLevel&&t.addExport("segmentName",p),l+="\n                ";var u;u=n.memberLookup(n.memberLookup(i,"segment"),"kind"),o.set("segmentKind",u,!0),o.topLevel&&t.setVariable("segmentKind",u),o.topLevel&&t.addExport("segmentKind",u),l+="\n            "}else{l+="\n                ";var c;c="None",o.set("segmentName",c,!0),o.topLevel&&t.setVariable("segmentName",c),o.topLevel&&t.addExport("segmentName",c),l+="\n                ";var d;d="None",o.set("segmentKind",d,!0),o.topLevel&&t.setVariable("segmentKind",d),o.topLevel&&t.addExport("segmentKind",d),l+="\n            "}l+="\n\n            var registerOptions = {\n                'User UID': '",l+=n.suppressValue(n.memberLookup(i,"uid"),e.opts.autoescape),l+="',\n                'Account': '",l+=n.suppressValue(n.memberLookup(i,"account"),e.opts.autoescape),l+="',\n                'Billing Cycle': '",l+=n.suppressValue(e.getFilter("default").call(t,n.memberLookup(i,"billingCycle"),"None"),e.opts.autoescape),l+="',\n                'User Segment Name': '",l+=n.suppressValue(n.contextOrFrameLookup(t,o,"segmentName"),e.opts.autoescape),l+="',\n                'User Segment Kind': '",l+=n.suppressValue(n.contextOrFrameLookup(t,o,"segmentKind"),e.opts.autoescape),l+="'\n            };\n\n            var referrerOverride = getReferrerOverride();\n            if ( referrerOverride !== false ) {\n                registerOptions.referrer = referrerOverride;\n            }\n\n            mixpanel.identify( '",l+=n.suppressValue(n.memberLookup(i,"uid"),e.opts.autoescape),l+="' );\n            mixpanel.register( registerOptions );"}return l+="<\/script>\n\n",o=r,new n.SafeString(l)});t.addExport("notify_mixpanel"),t.setVariable("notify_mixpanel",k),r+="\n\n\n";var _=n.makeMacro(["host","description"],[],function(t,i,a){var s=o;o=new n.Frame,a=a||{},a.hasOwnProperty("caller")&&o.set("caller",a.caller),o.set("host",t),o.set("description",i);var r="";return r+='\n\n    <script type="application/ld+json">\n        {\n          "@context": "http://schema.org",\n          "@type": "WebSite",\n          "url": "',r+=n.suppressValue(t,e.opts.autoescape),r+='",\n          "name": "Sketchfab",\n          "creator": {\n            "@type": "Organization",\n            "name": "Sketchfab",\n            "location": {\n                "@type": "Place",\n                "name": "Paris / New York"\n            }\n          },\n          "description": "',r+=n.suppressValue(i,e.opts.autoescape),r+='",\n          "potentialAction": {\n            "@type": "SearchAction",\n            "target": "',r+=n.suppressValue(t,e.opts.autoescape),r+='/search?q={search_term_string}",\n            "query-input": "required name=search_term_string"\n          }\n        }\n    <\/script>\n\n',o=s,new n.SafeString(r)});t.addExport("meta_structured_data"),t.setVariable("meta_structured_data",_),r+="\n\n\n";var w=n.makeMacro(["host"],[],function(t,i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("host",t);var s="";return s+='\n\n    <script src="',s+=n.suppressValue(t,e.opts.autoescape),s+='" defer="defer" async="async"><\/script>\n\n',o=a,new n.SafeString(s)});t.addExport("notify_webglstats"),t.setVariable("notify_webglstats",w),r+="\n\n\n";var L=n.makeMacro(["uid"],[],function(t,i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("uid",t);var s="";return s+='\n\n    <script src="//cdn.optimizely.com/js/',s+=n.suppressValue(t,e.opts.autoescape),s+='.js"><\/script>\n\n',o=a,new n.SafeString(s)});t.addExport("notify_optimizely"),t.setVariable("notify_optimizely",L),r+="\n\n";var y=n.makeMacro(["currentIndex","navigationList"],[],function(i,a,s){var r=o;o=new n.Frame,s=s||{},s.hasOwnProperty("caller")&&o.set("caller",s.caller),o.set("currentIndex",i),o.set("navigationList",a);var l="";if(l+='\n\n    <div class="arrow-navigation',0==i&&(l+=" no-left-element"),l+='">\n        ',i>0){l+="\n\n            ";var p,u;p=u=n.memberLookup(a,i-1),o.set("text",p,!0),o.topLevel&&t.setVariable("text",p),o.topLevel&&t.addExport("text",p),o.set("link",u,!0),o.topLevel&&t.setVariable("link",u),o.topLevel&&t.addExport("link",u),l+='\n            <a class="nav-left" href="',l+=n.suppressValue(n.contextOrFrameLookup(t,o,"link"),e.opts.autoescape),l+='">',l+=n.suppressValue(n.contextOrFrameLookup(t,o,"text"),e.opts.autoescape),l+="</a>\n\n        "}if(l+="\n        ",i<e.getFilter("length").call(t,a)-1){l+="\n\n            ";var c,d;c=d=n.memberLookup(a,i+1),o.set("text",c,!0),o.topLevel&&t.setVariable("text",c),o.topLevel&&t.addExport("text",c),o.set("link",d,!0),o.topLevel&&t.setVariable("link",d),o.topLevel&&t.addExport("link",d),l+='\n            <a class="nav-right" href="',l+=n.suppressValue(n.contextOrFrameLookup(t,o,"link"),e.opts.autoescape),l+='">',l+=n.suppressValue(n.contextOrFrameLookup(t,o,"text"),e.opts.autoescape),l+="</a>\n\n        "}return l+="\n    </div>\n\n",o=r,new n.SafeString(l)});t.addExport("arrow_navigation"),t.setVariable("arrow_navigation",y),r+="\n\n";var x=n.makeMacro(["notification","link","options"],[],function(i,a,s,r){var l=o;o=new n.Frame,r=r||{},r.hasOwnProperty("caller")&&o.set("caller",r.caller),o.set("notification",i),o.set("link",a),o.set("options",s);var p="";return p+='\n<div class="news-notification-legacy" data-date="',p+=n.suppressValue(n.memberLookup(i,"timestamp"),e.opts.autoescape),p+='">\n    ',n.memberLookup(s,"closable")&&(p+='\n    <button class="news-notification-legacy-close" data-action="close"><i class="icon fa fa-times"></i></button>\n    '),p+='\n\n    <h1 class="news-notification-legacy-title">\n        ',p+=n.suppressValue(n.memberLookup(i,"title"),e.opts.autoescape),p+='\n    </h1>\n\n    <div class="news-notification-legacy-content">\n        ',p+=n.suppressValue(e.getFilter("safe").call(t,n.memberLookup(i,"body")),e.opts.autoescape),p+='\n    </div>\n\n    <div class="news-notification-legacy-actions">\n        <a href="',p+=n.suppressValue(a,e.opts.autoescape),p+='">\n            <i class="icon fa fa-bars"></i>\n            <span class="text">View all news</span>\n        </a>\n    </div>\n</div>\n',o=l,new n.SafeString(p)});t.addExport("news_notification_legacy"),t.setVariable("news_notification_legacy",x),r+="\n\n\n";var O=n.makeMacro([],["options"],function(i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var s="";return s+='\n    <a target="_blank" href="',s+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"href"),e.opts.autoescape),s+='" class="help">\n        <i class="fa fa-question-circle"></i>\n        <div class="tooltip tooltip-up">\n            ',s+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"tooltip"),e.opts.autoescape),s+="\n        </div>\n    </a>\n",o=a,new n.SafeString(s)});t.addExport("info_link_icon"),t.setVariable("info_link_icon",O),r+="\n\n\n";var F=n.makeMacro(["data"],["varname"],function(i,a){var s=o;o=new n.Frame,a=a||{},a.hasOwnProperty("caller")&&o.set("caller",a.caller),o.set("data",i),o.set("varname",a.hasOwnProperty("varname")?a.varname:"webpackManifest");var r="";return r+='\n    <script type="text/javascript">\n        window[\'',r+=n.suppressValue(n.contextOrFrameLookup(t,o,"varname"),e.opts.autoescape),r+="'] = JSON.parse('",r+=n.suppressValue(e.getFilter("safe").call(t,e.getFilter("replace").call(t,i,"\n","")),e.opts.autoescape),r+="');\n    <\/script>\n",o=s,new n.SafeString(r)});t.addExport("chunk_manifest"),t.setVariable("chunk_manifest",F),r+="\n\n";var C=n.makeMacro(["jsRuntime"],[],function(i,a){var s=o;o=new n.Frame,a=a||{},a.hasOwnProperty("caller")&&o.set("caller",a.caller),o.set("jsRuntime",i);var r="";return r+='\n    <script type="text/javascript">\n        window.sketchfabRuntime = JSON.parse(\'',r+=n.suppressValue(e.getFilter("safe").call(t,e.getFilter("json_data").call(t,i)),e.opts.autoescape),r+="');\n        window.webpackPublicPath = '",r+=n.suppressValue(n.memberLookup(i,"publicPath"),e.opts.autoescape),r+="';\n    <\/script>\n",o=s,new n.SafeString(r)});t.addExport("insert_runtime"),t.setVariable("insert_runtime",C),r+="\n\n";var S=n.makeMacro(["entry"],[],function(i,a){var s=o;o=new n.Frame,a=a||{},a.hasOwnProperty("caller")&&o.set("caller",a.caller),o.set("entry",i);var r="";return r+='\n    <script src="',r+=n.suppressValue(e.getFilter("static_url").call(t,i),e.opts.autoescape),r+='" integrity="',r+=n.suppressValue(e.getFilter("get_sri").call(t,i),e.opts.autoescape),r+='" crossorigin="anonymous"><\/script>\n',o=s,new n.SafeString(r)});t.addExport("insert_entry"),t.setVariable("insert_entry",S),r+="\n\n";var V=n.makeMacro(["is_dev_build_mode","manifest"],["opt"],function(i,r,l){var p=o;o=new n.Frame,l=l||{},l.hasOwnProperty("caller")&&o.set("caller",l.caller),o.set("is_dev_build_mode",i),o.set("manifest",r),o.set("opt",l.hasOwnProperty("opt")?l.opt:{});var u="";return u+="\n    ",i?(u+="\n        ",u+=n.suppressValue((a=466,s=20,n.callWrap(n.contextOrFrameLookup(t,o,"insert_dlls"),"insert_dlls",t,[])),e.opts.autoescape),u+="\n    "):(u+="\n        ",u+=n.suppressValue((a=468,s=23,n.callWrap(n.contextOrFrameLookup(t,o,"chunk_manifest"),"chunk_manifest",t,[r])),e.opts.autoescape),u+='\n        <script src="',u+=n.suppressValue(e.getFilter("static_url").call(t,"commons.js"),e.opts.autoescape),u+='" integrity="',u+=n.suppressValue(e.getFilter("get_sri").call(t,"commons.js"),e.opts.autoescape),u+='" crossorigin="anonymous"><\/script>\n        ',n.memberLookup(n.contextOrFrameLookup(t,o,"opt"),"viewer")&&(u+='\n            <script src="',u+=n.suppressValue(e.getFilter("static_url").call(t,"viewer.js"),e.opts.autoescape),u+='" integrity="',u+=n.suppressValue(e.getFilter("get_sri").call(t,"viewer.js"),e.opts.autoescape),u+='" crossorigin="anonymous"><\/script>\n        '),u+="\n        ",n.memberLookup(n.contextOrFrameLookup(t,o,"opt"),"website")&&(u+='\n            <script src="',u+=n.suppressValue(e.getFilter("static_url").call(t,"website-commons.js"),e.opts.autoescape),u+='" integrity="',u+=n.suppressValue(e.getFilter("get_sri").call(t,"website-commons.js"),e.opts.autoescape),u+='" crossorigin="anonymous"><\/script>\n        '),u+="\n    "),u+="\n",o=p,new n.SafeString(u)});t.addExport("insert_common_dependencies"),t.setVariable("insert_common_dependencies",V),r+="\n\n";var P=n.makeMacro([],[],function(i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller);var s="";return s+='\n    \x3c!--\n    The manifests are the index of the DLLs ; they are served in a separate file to enable evaluating them without evaluating the whole contents of the DLL. There is one for each DLL, and they are fed to the master webpack files so that they can know which modules should be removed from the entries and replaced by the corresponding key that is provided by the manifest. It\'s essentially what the chunkmanifests are doing, but in an actually complete way.\n\n    In the dist configuration, we used a virtual entry to copy all templates to the statics assets, and a redundant require within the code itself to unwrap the value of the template.\n\n    Here, we arbitrarily force all templates into the DLL, and the code that uses (imports) them cannot know that. So, we lookup the manifest, and for every existing template, we "unwrap" it by calling the template method (provided by the DLL file included just above). This effectively adds the templates\' contents to the installedModules array.\n    --\x3e\n    <script id="assets-manifest" crossorigin="anonymous">\n        window.templatesManifest = JSON.parse("',s+=n.suppressValue(e.getFilter("get_manifest").call(t,"templates.manifest.json"),e.opts.autoescape),s+='".replace(/&#34;/gi, \'"\'))\n    <\/script>\n\n    <script src="',s+=n.suppressValue(e.getFilter("dll_static_url").call(t,"libs-dll.js"),e.opts.autoescape),s+='" crossorigin="anonymous"><\/script>\n    <script src="',s+=n.suppressValue(e.getFilter("dll_static_url").call(t,"assets-dll.js"),e.opts.autoescape),s+='" crossorigin="anonymous"><\/script>\n    <script src="',s+=n.suppressValue(e.getFilter("dll_static_url").call(t,"templates-dll.js"),e.opts.autoescape),s+='" crossorigin="anonymous"><\/script>\n    \n',o=a,new n.SafeString(s)});t.addExport("insert_dlls"),t.setVariable("insert_dlls",P),r+="\n",l?l.rootRenderFunc(e,t,o,n,i):i(null,r)}catch(e){i(n.handleError(e,a,s))}}return{root:e}}()}()},52:function(e,t){!function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/utils.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null,r=n.makeMacro(["number"],[],function(i,a){var s=o;o=new n.Frame,a=a||{},a.hasOwnProperty("caller")&&o.set("caller",a.caller),o.set("number",i);var r="";return r+="\n    ",r+=n.suppressValue(e.getFilter("humanize_number").call(t,i),e.opts.autoescape),r+="\n",o=s,new n.SafeString(r)});t.addExport("humanize_count"),t.setVariable("humanize_count",r),a+="\n\n";var l=n.makeMacro(["host","type","uid"],["options"],function(i,a,s,r){var l=o;o=new n.Frame,r=r||{},r.hasOwnProperty("caller")&&o.set("caller",r.caller),o.set("host",i),o.set("type",a),o.set("uid",s),o.set("options",r.hasOwnProperty("options")?r.options:{});var p="";p+="\n    ";var u;if(u=i+"/requests/new?type=report_abuse&utm_campaign=report_abuse&utm_source=website&"+a+"="+s,o.set("link",u,!0),o.topLevel&&t.setVariable("link",u),o.topLevel&&t.addExport("link",u),p+="\n\n    ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"subject")){p+="\n        ";var c;c="&report_string="+e.getFilter("urlencode").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"subject")),o.set("label",c,!0),o.topLevel&&t.setVariable("label",c),o.topLevel&&t.addExport("label",c),p+="\n    "}return p+='\n\n    <a href="',p+=n.suppressValue(n.contextOrFrameLookup(t,o,"link"),e.opts.autoescape),p+=n.suppressValue(n.contextOrFrameLookup(t,o,"label"),e.opts.autoescape),p+='" class="report-link ',p+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"class"),e.opts.autoescape),p+='" target="_blank">\n        ',p+=n.suppressValue(e.getFilter("safe").call(t,e.getFilter("default").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"text"),"Report abuse")),e.opts.autoescape),p+="\n    </a>\n",o=l,new n.SafeString(p)});t.addExport("report_link"),t.setVariable("report_link",l),a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{root:e}}()}()},53:function(e,t,o){"use strict";function n(e,t){var o,n={},i=e?" "+e:"";return n["wheel"+i]=function(e){var t=-.25*e.originalEvent.wheelDelta;t&&(e.preventDefault(),r()(e.currentTarget).scrollTop(t+r()(e.currentTarget).scrollTop()))},n["touchstart"+i]=function(e){o=e.originalEvent.touches[0].pageY},n["touchmove"+i]=function(e){e.preventDefault();var t=o-e.originalEvent.touches[0].pageY;o=e.originalEvent.touches[0].pageY,r()(e.currentTarget).scrollTop(t+r()(e.currentTarget).scrollTop())},a()({},t,n)}var i=o(9),a=o.n(i),s=o(3),r=o.n(s);t.a=function(e){return{name:"PreventPageScroll",constructor:function(){this.events=n(e,this.events)}}}},57:function(e,t,o){"use strict";o.d(t,"e",function(){return a}),o.d(t,"d",function(){return s}),o.d(t,"a",function(){return r}),o.d(t,"b",function(){return l}),o.d(t,"c",function(){return p});var n=o(403),i=o(190),a=function(){return Object(n.a)({loader:function(){return o.e(1).then(o.bind(null,405))},loading:{viewClass:i.a,options:{message:"Loading the required files for your upload.",title:"Preparing upload",width:600}}})},s=function(){return Object(n.a)({loader:function(){return o.e(2).then(o.bind(null,434))},loading:{viewClass:i.a,options:{message:"Loading the required files",title:"Preparing embed popup"}}})},r=function(){return Object(n.a)({loader:function(){return o.e(3).then(o.bind(null,435))},loading:{viewClass:i.a,options:{message:"Loading the required files",title:"Preparing embed popup"}}})},l=function(){return Object(n.a)({loader:function(){return o.e(4).then(o.bind(null,436))},loading:{viewClass:i.a,options:{message:"Loading the required files",title:"Preparing download"}}})},p=function(){return Object(n.a)({loader:function(){return o.e(5).then(o.bind(null,437))},loading:{viewClass:i.a,options:{title:"Loading likes"}}})}},58:function(e,t){!function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/comments.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null,r=n.makeMacro([],["options"],function(i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var s="";s+="\n    ";var r;return r=e.getFilter("striptags").call(t,e.getFilter("trim").call(t,e.getFilter("default").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"body"),""))),o.set("body",r,!0),o.topLevel&&t.setVariable("body",r),o.topLevel&&t.addExport("body",r),s+="\n    ",e.getFilter("length").call(t,n.contextOrFrameLookup(t,o,"body"))>0?(s+="\n        ",s+=n.suppressValue(e.getFilter("paragraphy").call(t,e.getFilter("urlize").call(t,n.contextOrFrameLookup(t,o,"body"),n.makeKeywordArgs({target:"_blank"}))),e.opts.autoescape),s+="\n    "):(s+="\n        ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"isDeleted")?s+='\n            <span class="empty">This comment has been deleted.</span>\n        ':s+='\n            <span class="empty">This message is empty.</span>\n        ',s+="\n    "),s+="\n",o=a,new n.SafeString(s)});t.addExport("comment_body"),t.setVariable("comment_body",r),a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{root:e}}()}()},580:function(e,t,o){"use strict";var n=o(40),i=o.n(n),a=o(9),s=o.n(a),r=o(38),l=o(1),p=o(2),u=o(459);o.n(u);t.a=r.a.extend({displayName:"Select",optionTypes:{options:l.b.arrayOf(l.b.shape({title:l.b.string.isRequired,value:l.b.string.isRequired,default:l.b.bool}).isRequired).isRequired,value:l.b.string.isRequired,placeholder:l.b.string,onChange:l.b.func.isRequired,onBlur:l.b.func,onFocus:l.b.func,className:l.b.string,attrs:l.b.object,style:l.b.object,hasError:l.b.bool,isTouched:l.b.bool,disabled:l.b.bool,grey:l.b.bool},defaultOptions:{className:"form-select",hasError:!1,isTouched:!1,disabled:!1,grey:!1,attrs:{},style:{},onBlur:function(){},onFocus:function(){}},events:{'change [data-ref="select"]':function(e){this.options.onChange(e.target.value)},'blur [data-ref="select"]':function(e){this.options.onBlur(e)},'focus [data-ref="select"]':function(e){this.options.onFocus(e)}},template:function(){var e,t=s()({},this.options.attrs,{classNames:s()({},this.options.attrs.classNames,(e={},i()(e,this.options.className,!0),i()(e,"invalid",this.options.hasError&&this.options.isTouched),i()(e,"disabled",this.options.disabled),i()(e,"--grey",this.options.grey),e)),style:s()({},this.options.style,this.options.attrs.style)});return p.default.getFromMacro("skfb_front/macros/components/atoms/select","select",[s()({},this.options,{attrs:t})])}})},585:function(e,t,o){o(74),o(15),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/molecules/cards/store-model-card.jinja"]=function(){function e(e,t,o,n,i){var a=null,s=null,r="";try{var l=null;e.getTemplate("skfb_front/macros/cards.jinja",!1,"skfb_front/macros/components/molecules/cards/store-model-card.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("card_thumbnail"))return void i(new Error("cannot import 'card_thumbnail'"));var c=u.card_thumbnail;t.setVariable("card_thumbnail",c),r+="\n",e.getTemplate("skfb_front/macros/model.jinja",!1,"skfb_front/macros/components/molecules/cards/store-model-card.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("model_labels"))return void i(new Error("cannot import 'model_labels'"));var c=u.model_labels;if(t.setVariable("model_labels",c),!u.hasOwnProperty("model_name"))return void i(new Error("cannot import 'model_name'"));var d=u.model_name;t.setVariable("model_name",d),r+="\n\n";var m=n.makeMacro(["authUser","model"],["options"],function(i,r,l){var p=o;o=new n.Frame,l=l||{},l.hasOwnProperty("caller")&&o.set("caller",l.caller),o.set("authUser",i),o.set("model",r),o.set("options",l.hasOwnProperty("options")?l.options:{});var u,c="";return u=e.getFilter("merge").call(t,{components:{}},n.contextOrFrameLookup(t,o,"options")),o.set("options",u,!0),o.topLevel&&t.setVariable("options",u),o.topLevel&&t.addExport("options",u),c+='<div class="card card-model --store" itemprop="owns" itemscope itemtype="http://schema.org/MediaObject">\n        <meta itemprop="commentCount" content="',c+=n.suppressValue(n.memberLookup(r,"commentCount"),e.opts.autoescape),c+='" />\n        <meta itemprop="contentSize" content="',c+=n.suppressValue(e.getFilter("humanize_number").call(t,e.getFilter("default").call(t,n.memberLookup(r,"archiveSize"),0)),e.opts.autoescape),c+='B" />\n        <meta itemprop="embedUrl" content="',c+=n.suppressValue(n.memberLookup(r,"embedUrl"),e.opts.autoescape),c+='" />\n        <meta itemprop="name" content="',c+=n.suppressValue(n.memberLookup(r,"name"),e.opts.autoescape),c+='" />\n\n        <div class="card__main card-model__thumbnail">\n            <a class="card-model__thumbnail-link" href="',c+=n.suppressValue(n.memberLookup(r,"viewerUrl"),e.opts.autoescape),c+='">\n                ',c+=n.suppressValue((a=16,s=31,n.callWrap(n.contextOrFrameLookup(t,o,"card_thumbnail"),"card_thumbnail",t,[n.memberLookup(r,"thumbnails"),500,281.25])),e.opts.autoescape),c+="\n                ",c+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"modelPreview"),"card-model__fallback-preview"),e.opts.autoescape),c+='\n            </a>\n\n            <div class="card__main__corner --top-left">\n                ',c+=n.suppressValue((a=21,s=29,n.callWrap(n.contextOrFrameLookup(t,o,"model_labels"),"model_labels",t,[r,{withStaffpickFlag:!1}])),e.opts.autoescape),c+='\n            </div>\n\n            <div class="card__main__corner --top-right">\n                ',n.memberLookup(r,"animationCount")>0&&(c+='\n                    <span class="help card-model__feature --animations">\n                        <span class="tooltip tooltip-up">Animated</span>\n                    </span>\n                '),c+='\n            </div>\n\n            <div class="card__main__corner --bottom-left">\n                <div class="card-preview" data-action="open-preview">\n                    <i class="card-preview__icon fa fa-search" title="see preview"></i>\n                </div>\n            </div>\n        </div>\n\n        <div class="card__footer">\n            <div class="card__footer__left">\n                <div class="card__footer__vertical">\n                    <p class="card__footer__title">\n                        ',c+=n.suppressValue((a=45,s=35,n.callWrap(n.contextOrFrameLookup(t,o,"model_name"),"model_name",t,[i,r,{withStaffpickFlag:!1,withRestrictedFlag:!1,withStaffpickLink:!1}])),e.opts.autoescape),c+="\n                    </p>\n\n                    ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"isRatingHidden")||(c+='\n                        <div class="card__footer__review">\n                            ',n.memberLookup(r,"averageRating")&&(c+='\n                                <div class="card__footer__review-rating help">\n                                    ',c+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"rating")),e.opts.autoescape),c+='\n\n                                    <span class="tooltip tooltip-up">\n                                        ',c+=n.suppressValue(e.getFilter("format_rating").call(t,e.getFilter("default").call(t,n.memberLookup(r,"averageRating"),0)),e.opts.autoescape),c+=" stars\n                                    </span>\n                                </div>\n                            "),c+='\n\n                            <span class="card__footer__review-text">\n                                ',n.memberLookup(r,"averageRating")?(c+="\n                                    ",c+=n.suppressValue(e.getFilter("default").call(t,n.memberLookup(r,"reviewCount"),0),e.opts.autoescape),c+=" review",c+=n.suppressValue(e.getFilter("pluralize").call(t,e.getFilter("default").call(t,n.memberLookup(r,"reviewCount"),0)),e.opts.autoescape),c+="\n                                "):c+="\n                                    no reviews\n                                ",c+="\n                            </span>\n                        </div>\n                    "),c+='\n                </div>\n            </div>\n\n            <div class="card__footer__right">\n                ',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"isPriceHidden")||(c+='\n                    <div class="card-model__price-container">\n                        ',c+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"addToCartIcon"),"card-model__add-to-cart"),e.opts.autoescape),c+='\n                        <span class="card-model__price">\n                            ',c+=n.suppressValue(e.getFilter("format_price").call(t,n.memberLookup(r,"price")),e.opts.autoescape),c+="\n                        </span>\n                    </div>\n                "),c+="\n            </div>\n        </div>\n    </div>\n",o=p,new n.SafeString(c)});t.addExport("store_model_card"),t.setVariable("store_model_card",m),r+="\n",l?l.rootRenderFunc(e,t,o,n,i):i(null,r)})})})})}catch(e){i(n.handleError(e,a,s))}}return{root:e}}()}()},59:function(e,t,o){"use strict";var n=o(27),i=o.n(n),a=o(39),s=o.n(a),r=o(9),l=o.n(r),p=o(0),u=(o.n(p),o(5)),c=o.n(u),d=o(143),m=o(34),h=o(20),f=o(4),v=o(13),b=o(151),g=o(18);t.a=v.a.extend(Object(p.extend)({},b.a,{defaults:{collections:{}},initialize:function(){v.a.prototype.initialize.apply(this,arguments),this.on("change:isPrivate",function(){this.get("isPrivate")||this.set("password","")}.bind(this)),this.set("filters",new v.a),this.maxFailCount=5},endpoint:function(){return"/models"+(this.isNew()?"":"/"+this.get("uid"))},queryParams:function(){return Object(h.a)("?",l()({},v.a.prototype.queryParams.apply(this,arguments)))},fetchMetadata:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.allowPrefetching,n=void 0===o||o;return g.a.getModelMetadata(this.get("uid"),{allowPrefetching:n}).then(function(t){return e.set({hasStats:t.hasStats,downloadStatus:t.downloadStatus,extraFile:t.extraFile}),t})},updateLike:function(e){return f.a.authenticate(function(t){var o=this.get("uid"),n=this.get("likeCount"),i=n+(e?1:-1);return this.set({likeCount:i}),t.addLike(o,e),(e?g.a.likeModel(this.get("uid")):g.a.unlikeModel(this.get("uid"))).catch(function(i){return this.set({likeCount:n}),t.addLike(o,!e),c.a.reject(i)}.bind(this))}.bind(this))},like:function(){return this.updateLike(!0)},unlike:function(){return this.updateLike(!1)},toggleLike:function(){return f.a.authenticate(function(e){return e.doesLike(this.get("uid"))?this.unlike():this.like()}.bind(this))},hit:function(){var e=f.a.me();if(e.isAuthenticated()){var t=this.get("user")&&e.get("uid")===this.get("user").uid,o=e.get("isStaff");if(t||o)return c.a.resolve()}return this.get("isPublished")?g.a.viewModel(this.get("uid")):c.a.resolve()},isPublished:function(){return(this.get("isPublished")||!!this.get("publishedAt"))&&!this.get("isDeleted")},publish:function(){return this.set("isPublished",!0),this.set("publishedAt",new Date),g.a.publishModel(this.get("uid"))},sharing:function(){var e=this;return g.a.getModelSharing(this.get("uid")).then(function(t){return e.set("sharing",t),t})},toJSON:function(){var e=v.a.prototype.toJSON.apply(this,arguments);return e.categories&&(e.categories=e.categories.map(function(e){return"object"===(void 0===e?"undefined":s()(e))?e.uid:e})),e},addCollection:function(e,t){var o={};o[e]=t,this.addCollections(o)},addCollections:function(e){var t=Object(p.clone)(this.get("collections"));Object(p.extend)(t,e),this.set("collections",t)},isInflated:function(){var e=i()(this.attributes);return e.indexOf("description")>-1&&e.indexOf("tags")>-1},isInCollection:function(e){return!!this.get("collections")[e]},isProcessing:function(){var e=this.get("status");return e&&"PROCESSING"===e.processing},getCollections:function(e){var t=this,o=e.filter(function(e){return!(e in t.get("collections"))});return o.length?g.a.getModelCollections(this.get("uid"),o).then(function(e){var o=e.results;return t.addCollection(o)}):(this.trigger("change:collections"),c.a.resolve())},getDownloadType:function(){return this.get("price")>0&&this.get("license")?"paid":this.get("license")?"free":"no"},getExtraArchive:function(){var e=this;return"paid"!==this.getDownloadType()||this.isProcessing()?(this.set("extraArchive",null),c.a.resolve()):g.a.getModelExtraArchive(this.get("uid")).then(function(t){t=t.metadata?t:null,e.set("extraArchive",t)}).catch(function(t){404===t.status&&e.set("extraArchive",null)})},uploadExtraArchive:function(e){return g.a.updateModelExtraArchive(this.get("uid"),e)},removeExtraArchive:function(){return g.a.removeModelExtraArchive(this.get("uid"))},reprocess:function(){return g.a.reprocessModel(this.get("uid")).then(this.checkStatusAndRetry.bind(this)).then(function(e){switch(e.processing){case"SUCCEEDED":return this.set("hasStats",!0),c.a.resolve();case"FAILED":return this.set("hasStats",!1),c.a.reject()}}.bind(this))},getOwnershipStatus:function(e){return g.a.getModelOwnershipStatus(this.get("uid"),{allowPrefetching:e})},pollArchivesStatus:function(){return m.d(1/0,function(){return c.a.resolve(this.fetchMetadata({allowPrefetching:!1})).then(function(e){return"archives_processing"===e.downloadStatus||"processing"===e.extraFile.status||"pending"===e.extraFile.status?c.a.reject():e})}.bind(this),{interval:1e4})},getRatings:function(){return g.a.getModelRatings(this.get("uid"))}}),{pollDownloadLink:function(e){return d.a.poll(e,function(e){return e>3e4?e:2*e})}})},60:function(e,t,o){"use strict";var n=o(40),i=o.n(n),a=o(0),s=(o.n(a),o(26)),r=o(35),l=function(e,t,o){Object(a.isFunction)(e.on)?e.on(t,o):Object(a.isFunction)(e.addEventListener)&&e.addEventListener(t,o)},p=function(e,t,o){Object(a.isFunction)(e.off)?e.off(t,o):Object(a.isFunction)(e.removeEventListener)&&e.removeEventListener(t,o)};t.a={name:"WithOptionsEvents",constructor:function(){var e=this;this.__withOptionsEvents={listeners:[]},this.events=Object(s.c)(this.events,function(t,o){var n=Object(r.c)(o);if(!n.selector.match(/^this\.options\./))return i()({},o,t);if("string"==typeof t&&!e[t])throw new Error("WithOptionsEvents error: "+e.displayName+"."+t+" is not defined.");return e.__withOptionsEvents.listeners.push({optionName:n.selector.replace(/^this\.options\./,""),eventName:n.eventName,callback:function(){for(var o=arguments.length,n=Array(o),i=0;i<o;i++)n[i]=arguments[i];return Object(a.isFunction)(t)?t.call.apply(t,[e].concat(n)):e[t].apply(e,n)}}),{}})},afterViewDidMount:function(){var e=this;this.__withOptionsEvents.listeners.forEach(function(t){var o=t.optionName,n=t.eventName,i=t.callback;l(e.options[o],n,i)})},afterViewDidUpdate:function(e){var t=this;this.__withOptionsEvents.listeners.forEach(function(o){var n=o.optionName,i=o.eventName,a=o.callback;e[n]!==t.options[n]&&(p(e[n],i,a),l(t.options[n],i,a))})},beforeViewWillUnmount:function(){var e=this;this.__withOptionsEvents.listeners.forEach(function(t){var o=t.optionName,n=t.eventName,i=t.callback;p(e.options[o],n,i)})}}},639:function(e,t){!function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/molecules/label-input.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null,r=n.makeMacro([],["options"],function(i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var s="";return s+='\n    <span class="c-label-input">\n        ',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"label")&&(s+='\n            <label class="form-label c-label-input__label">',s+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"label"),e.opts.autoescape),s+="</label>\n        "),s+="\n        ",s+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"input")),e.opts.autoescape),s+="\n        ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"error")&&(s+='\n            <p class="form-error c-label-input__error">\n                ',s+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"error"),e.opts.autoescape),s+="\n            </p>\n        "),s+="\n    </span>\n",o=a,new n.SafeString(s)});t.addExport("label_input"),t.setVariable("label_input",r),a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{root:e}}()}()},64:function(e,t,o){"use strict";var n=o(13),i=o(4),a=o(18);t.a=n.a.extend({endpoint:function(){return"/collections"+(this.isNew()?"":"/"+this.get("uid"))},sharing:function(){return a.a.getCollectionSharing(this.get("uid")).then(function(e){return this.set("sharing",e),e}.bind(this))},updateModels:function(e,t){return e?a.a.removeModelsFromCollection(this.get("uid"),t):a.a.addModelsToCollection(this.get("uid"),t)},subscribe:function(){var e=this;return a.a.subscribeToCollection(this.get("uid")).then(function(){e.set("subscriberCount",e.get("subscriberCount")+1)})},unsubscribe:function(){var e=this;return a.a.unsubscribeFromCollection(this.get("uid")).then(function(){e.set("subscriberCount",e.get("subscriberCount")-1)})},setSubscription:function(e){return e?this.unsubscribe():this.subscribe()},toggleSubscription:function(){return i.a.authenticate(function(e){var t=e.hasSubscribed(this.id);return this.setSubscription(t).then(function(){e.updateSubscription(this.id,!t)}.bind(this))}.bind(this)).catch(function(){})},getThumbnails:function(){var e=this;return a.a.getCollectionThumbnails(this.get("uid")).then(function(t){return e.set("thumbnails",t),t})}})},648:function(e,t,o){"use strict";function n(e){return function(t){var o=h(e,t.prototype.displayName);return p.a.extend({displayName:"Form("+t.prototype.displayName+")",initialize:function(){p.a.prototype.initialize.apply(this,arguments),this.onSubmit=this.onSubmit.bind(this),this.onReset=this.onReset.bind(this),this.onFieldsChange=this.onFieldsChange.bind(this),this.onFieldConfigsChange=this.onFieldConfigsChange.bind(this),this.state={fields:this._createOrUpdateFieldsState(o,{fields:{}}),fieldConfigs:o,isSubmitting:!1,hasSucceeded:!1}},_setFieldState:function(e,t){this.setState(function(o){return k(o,e,t)})},_onFieldChange:function(e,t){this.setState({hasSucceeded:!1}),this.setState(function(o){var n=o.fieldConfigs[e],i=n.unformat(t),a=n.format(i),s=v(n.validators,i);return k(o,e,{value:a,originalValue:i,error:s||"",hasError:!!s})})},_onFieldBlur:function(e){this._setFieldState(e,{isTouched:!0})},_createOrUpdateFieldsState:function(e,t){return Object(l.mapValues)(e,function(e,o){var n=t.fields[o]||{},i=e.format(n.originalValue||e.initialValue),a=e.unformat(i),s=v(e.validators,a,f(t));return{name:o,value:i,originalValue:a,error:s||"",isTouched:n.isTouched||!1,hasError:!!s,onChange:this._onFieldChange.bind(this,o),onBlur:this._onFieldBlur.bind(this,o)}}.bind(this))},onFieldsChange:function(e){a()(e).forEach(function(t){this._onFieldChange(t,e[t])}.bind(this))},onSubmit:function(e){a()(this.state.fields).forEach(function(e){this._setFieldState(e,{isTouched:!0})}.bind(this)),g(this.state)||(this.setState({isSubmitting:!0}),r.a.resolve(e(f(this.state))).then(function(){this.setState({hasSucceeded:!0})}.bind(this)).catch(function(e){this.setState({hasSucceeded:!1}),a()(this.state.fields).filter(function(t){return e[t]}).forEach(function(t){this._setFieldState(t,{error:e[t],hasError:!0})}.bind(this))}.bind(this)).then(function(){this.setState({isSubmitting:!1})}.bind(this)))},onReset:function(){this.setState(function(e){return{fields:this._createOrUpdateFieldsState(e.fieldConfigs,Object(l.extend)({},e,{fields:{}})),isSubmitting:!1}}.bind(this))},onFieldConfigsChange:function(e){var o=h(e,t.prototype.displayName);this.setState(function(e){return{fields:this._createOrUpdateFieldsState(o,e),fieldConfigs:o}}.bind(this))},template:function(){var e=b(this.state);return u.default.getFromString("{{ components.child | component }}",{components:this.createChildrenComponents({child:{viewClass:t,options:Object(l.extend)({},this.options,{form:{fields:this.state.fields,data:f(this.state),errors:e,hasErrors:g(this.state),isSubmitting:this.state.isSubmitting,hasSucceeded:this.state.hasSucceeded,onSubmit:this.onSubmit,onReset:this.onReset,onFieldConfigsChange:this.onFieldConfigsChange,onFieldsChange:this.onFieldsChange}})}})})}})}}t.a=n;var i=o(27),a=o.n(i),s=o(5),r=o.n(s),l=o(0),p=(o.n(l),o(6)),u=o(2),c=o(26),d=o(29),m=(o(1),{initialValue:"",validators:[],format:d.c,unformat:d.c}),h=function(e,t){return Object(l.mapValues)(e,function(e,t){return Object(l.extend)({},m,e)})},f=function(e){return Object(l.mapValues)(e.fields,function(e){return e.originalValue})},v=function(e,t,o){return e.reduce(function(e,n){return e||n(t,o)},"")},b=function(e){return Object(c.b)(Object(l.mapValues)(e.fields,function(e){return e.error}))},g=function(e){return!!a()(b(e)).length},k=function(e,t,o){var n={};return n[t]=Object(l.extend)({},e.fields[t],o),{fields:Object(l.extend)({},e.fields,n)}}},65:function(e,t,o){"use strict";var n,i=o(0),a=(o.n(i),o(227)),s=o(13),r=o(4),l=o(66),p=o(18),u=s.a.extend({defaults:{activitiesCount:0,modelsCount:0},initialize:function(){var e=r.a.me();e.isAuthenticated()&&e.canAccessFeature("newsfeed_v2")&&(a.a.subscribeToActivities(Object(i.throttle)(this.refreshUnseenActivitiesCount.bind(this),5e3)),setTimeout(this.refreshUnseenActivitiesCount.bind(this),100))},refreshUnseenActivitiesCount:function(){var e=this;u.getUnseenActivitiesCount().then(function(t){t!==e.get("activitiesCount")&&(l.a.invalidate("/i/feeds"),e.set("activitiesCount",t))})},hasNewActivities:function(){return Boolean(this.get("activitiesCount"))}},{getSingleton:function(){return n||(n=new u),n},seeActivities:function(){return p.a.seeActivities().then(function(){u.getSingleton().set("activitiesCount",0)})},readActivities:function(e){return p.a.readActivities(e)},getUnseenActivitiesCount:function(){return p.a.getUnseenActivitiesCount()}});t.a=u},664:function(e,t){!function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/atoms/card-placeholder.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null,r=n.makeMacro([],[],function(e){var t=o;o=new n.Frame,e=e||{},e.hasOwnProperty("caller")&&o.set("caller",e.caller);var i="";return i+='\n    <div class="placeholder c-card-placeholder">\n        <div class="placeholder__card c-card-placeholder__card">\n            <div class="placeholder__image c-card-placeholder__thumbnail"></div>\n            <div class="placeholder__container --horizontal c-card-placeholder__footer">\n                <div class="placeholder__image --rounded-corners --x-s"></div>\n                <div class="placeholder__text --small --w-50"></div>\n            </div>\n        </div>\n    </div>\n',o=t,new n.SafeString(i)});t.addExport("card_placeholder"),t.setVariable("card_placeholder",r),a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{root:e}}()}()},665:function(e,t,o){"use strict";var n=o(9),i=o.n(n),a=o(4),s=o(38),r=o(2),l=o(12),p=o(256),u=o(19),c=o(60),d=o(1),m=o(103),h=o(141),f=o(289),v=o(734),b=o(258),g=o(585);o.n(g);t.a=s.a.extend({displayName:"StoreModelCard",mixins:[u.a,c.a],optionTypes:{model:d.b.modelShape({uid:d.b.string.isRequired,embedUrl:d.b.string.isRequired,name:d.b.string.isRequired,viewerUrl:d.b.string.isRequired,thumbnails:d.b.object.isRequired,commentCount:d.b.number.isRequired,animationCount:d.b.number.isRequired,reviewCount:d.b.number.isRequired,averageRating:d.b.number,archiveSize:d.b.number,price:d.b.number}).isRequired,isPriceHidden:d.b.bool,isRatingHidden:d.b.bool,previewOnDrag:d.b.bool,linkRef:d.b.string},defaultOptions:{isPriceHidden:!1,isRatingHidden:!0},events:{"change this.options.model":"forceUpdate",'click [data-action="open-preview"]':"openPreview"},openPreview:function(e){e.preventDefault(),l.a.modelCardPreviewButtonClicked(this.model.get("uid")),new p.a({model:this.model}).open()},template:function(){var e=a.a.me(),t=i()({},this.model.toJSON(),{viewerUrl:this.model.get("viewerUrl")+(this.options.linkRef?"?ref="+this.options.linkRef:"")});return r.default.getFromMacro("skfb_front/macros/components/molecules/cards/store-model-card","store_model_card",[e.toJSON(),t,{isPriceHidden:this.options.isPriceHidden,isRatingHidden:this.options.isRatingHidden,components:this.createChildrenComponents({modelPreview:{viewClass:f.a,options:{modelUid:t.uid,color:m.a.storeColor,previewOnDrag:this.options.previewOnDrag}},rating:{viewClass:h.a,options:{value:this.model.get("averageRating")||0,size:"small"}},addToCartIcon:{viewClass:b.a,options:{className:"card-model__add-to-cart__container",model:this.options.model,render:function(e){return{viewClass:v.a,options:i()({},e)}}}}})}])}})},68:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(3),i=o.n(n),a=o(0),s=(o.n(a),o(4)),r=o(14),l=o(2),p=o(12),u=o(75),c=o(24),d=o(1),m=o(175);o.n(m);t.default=c.a.extend({optionTypes:{next:d.b.string},defaultOptions:{cleanOnClose:!0,shouldRejectOnCancel:!0,next:window.location.pathname},template:function(){return l.default.get("skfb_front/popups/login",{error:this.options.error,next:this.options.next,popupClosable:!0})},events:{'click [data-action="open-signup"]':"openSignup",'click [data-action="open-resetpass"]':"openResetPass","click .social .form-button":"blankOnFrame","submit form":"processLogin"},initialize:function(){c.a.prototype.initialize.apply(this,arguments),void 0!==this.options.email&&this.$('[name="email"]').val(this.options.email)},open:function(){return p.a.pageView("/login"),c.a.prototype.open.apply(this,arguments)},blankOnFrame:function(e){p.a.saveCurrentReferrer(),i()(e.currentTarget).toggleAttr("target","_blank",window.top!==window)},openSignup:function(e){var t=this;e.preventDefault(),e.stopPropagation();var n=o(105).default,i=-1!==this.options.next.indexOf("store");this.replaceWith(new n({email:this.$('[name="email"]').val(),shouldExitOnClickOutside:!0,shouldRejectOnCancel:!0,next:i?this.options.next:"/signup/onboarding",usageType:i?r.a.userUsageTypeChoices.buyer:void 0})).then(function(e){t.getPromise().resolve(e)}).catch(function(){})},openResetPass:function(){var e=o(206).default;this.replaceWith(new e({email:this.$('[name="email"]').val(),next:this.options.next})).then(function(){this.getPromise().resolve()}.bind(this))},processLogin:Object(a.throttle)(function(){this.$(".form-global-error").hide(),this.$container.addClass("processing"),s.a.login(this.$('[name="email"]').val(),this.$('[name="password"]').val()).then(function(e){u.a.identify(e.uid),this.getPromise().resolve(e.redirectTo)}.bind(this),function(e){if(this.processLoginError(),429===e.status)return this.$(".login-field button").addClass("btn-disabled").attr("disabled","disabled"),void this.automagicErrors("You have entered too many wrong passwords. Please wait a minute before trying again.");this.automagicErrors(e.responseJSON&&e.responseJSON.detail||"The e-mail or the password is incorrect.")}.bind(this))},1e3),processLoginError:function(){this.$container.removeClass("processing"),this.$('[name="password"]').val("")}})},709:function(e,t){!function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/molecules/label-select.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null,r=n.makeMacro([],["options"],function(i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var s="";return s+='\n    <span class="c-label-select">\n        ',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"label")&&(s+='\n            <label class="form-label c-label-select__label">',s+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"label"),e.opts.autoescape),s+="</label>\n        "),s+="\n        ",s+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"select")),e.opts.autoescape),s+="\n        ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"error")&&(s+='\n            <p class="form-error c-label-select__error">\n                ',s+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"error"),e.opts.autoescape),s+="\n            </p>\n        "),s+="\n    </span>\n",o=a,new n.SafeString(s)});t.addExport("label_select"),t.setVariable("label_select",r),a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{root:e}}()}()},71:function(e,t,o){"use strict";var n=o(5),i=o.n(n),a=o(3),s=o.n(a),r=o(0),l=(o.n(r),o(7)),p=o(20),u=o(430),c=o(222),d=o(224),m=o(225),h=o(226),f=o(191),v=o(208),b=o(244),g=o(215),k=o(246),_=o(247),w=o(110),L=o(1),y=o(23),x=o(57);t.a=l.a.extend({displayName:"Page",mixins:[c.a,m.a,h.a,d.a],optionTypes:{isStandaloneSearch:L.b.bool,searchType:L.b.string},defaultOptions:{searchType:"models",isStandaloneSearch:!1},isMounted:!0,children:{documentTitle:{selector:"body",viewClass:k.a},header:{selector:".top",viewClass:v.a,options:function(){return{isStandaloneSearch:this.options.isStandaloneSearch,searchModel:this.searchModel}}},responsiveHeader:{selector:".responsive-top",viewClass:g.a,options:function(){return{searchModel:this.searchModel}}},responsiveNavigation:{selector:".responsive-navigation",viewClass:b.a},footer:{selector:".main-footer",viewClass:_.a}},events:{'click [data-action="toggle-navigation"]':"toggleNavigation",'click .flashmessage [data-action="close"]':"flashMessageClose","route #upload":"openUploadPopup"},constructor:function(){this.bindGestureForNavigation=this.bindGestureForNavigation.bind(this),this.disableScroll=this.disableScroll.bind(this),l.a.prototype.constructor.apply(this,arguments)},initialize:function(){l.a.prototype.initialize.apply(this,arguments),this.searchModel=new f.a({type:this.options.searchType}),this.searchModel.on("searchStart",Object(r.throttle)(this.onSearchStart.bind(this),2e3,{trailing:!1,leading:!0})),this.searchModel.on("searchStop",this.onSearchStop.bind(this)),p.b.bool("upload")&&this.openUploadPopup(),this.initializeChild("documentTitle"),this.initializeChild("header"),this.initializeChild("responsiveHeader"),this.initializeChild("footer"),this.initializeDragAndDrop(),Object(u.a)(),this.renderChild("responsiveNavigation")},openUploadPopup:function(){Object(x.e)().then(function(e){return(new e).open()}).catch(Object(y.g)(y.e))},onSearchStart:function(){this.options.isStandaloneSearch||this.getSearchOverlay(function(e){e.render(),e.show()})},onSearchStop:function(){this.options.isStandaloneSearch||this.hasSearchOverlay()&&this.getSearchOverlay(function(e){e.hide()})},hasSearchOverlay:function(){return Boolean(this._searchOverlay)},getSearchOverlay:function(e){var t=this;if(this._searchOverlay)e(this._searchOverlay);else{var n=s()('<div class="search-overlay"><div class="spinner initial-spinner"></div></div>');this.$el.append(n),n.width(),n.addClass("visible initial-delay"),o.e(6).then(o.bind(null,414)).then(function(e){return i.a.delay(500).then(function(){return e})}).then(function(o){var i=o.default;t._searchOverlay=new i({searchModel:t.searchModel,el:n}),e(t._searchOverlay)})}},useMobileEnhancements:function(){var e=s()(".responsive-navigation").length>0,t=s()("#responsive-header").is(":visible");return e&&t},delegateEvents:function(){l.a.prototype.delegateEvents.apply(this,arguments),this.useMobileEnhancements()&&(s()(".responsive-navigation-bind-out").on("touchstart",this.disableScroll),s()(".show-hover-menu").on("touchend",this.bindGestureForTopMenu),s()(".responsive-navigation-bind-out").on("click touchend",this.bindGestureForNavigation)),this.options.dragAndDrop&&this.delegateDragAndDrop(),this.delegateUserSummary()},undelegateEvents:function(){l.a.prototype.undelegateEvents.apply(this,arguments),this.useMobileEnhancements()&&(s()(".responsive-navigation-bind-out").off("touchstart",this.disableScroll),s()(".show-hover-menu").off("touchend",this.bindGestureForTopMenu)),this.getDragAndDropEnabled()&&this.undelegateDragAndDrop(),this.undelegateUserSummary()},bindGestureForNavigation:function(){this.$(".content").hasClass("slided")&&this.toggleNavigation()},disableScroll:function(e){this.$(".content").hasClass("slided")&&e.preventDefault()},toggleNavigation:function(){window.requestAnimationFrame(function(){this.$(".content").toggleClass("slided"),this.$(".responsive-top").toggleClass("slided"),this.$(".responsive-navigation").toggleClass("slided"),this.$(".responsive-navigation-bind-out").toggleClass("slided"),s()("html").toggleClass("noscroll")}.bind(this))},flashMessageClose:function(e){var t=s()(e.target).parents(".notification");t.addClass("hidden"),Object(w.a)(t).then(function(){return t.parent()[0].removeChild(t[0])})},bindGestureForTopMenu:function(e){e.stopPropagation(),e.preventDefault(),e.gesture&&(e.gesture.stopPropagation(),e.gesture.preventDefault(),e.gesture.srcEvent.stopPropagation(),e.gesture.srcEvent.preventDefault(),e.gesture.startEvent.stopPropagation(),e.gesture.startEvent.preventDefault()),s()(e.currentTarget).addClass("active")},onFilesDrop:function(e){Object(x.e)().then(function(t){return new t({files:e}).open()}).catch(Object(y.g)(y.e))},isDropPending:function(){return!!this.$("[class*=popup-upload]").not(".hidden").length},reset:function(){this.searchModel&&this.searchModel.trigger("searchStop",{reset:!0})}})},710:function(e,t,o){"use strict";var n=o(9),i=o.n(n),a=o(38),s=o(2),r=o(1),l=o(455),p=o(639);o.n(p);t.a=a.a.extend({displayName:"LabelInput",optionTypes:{value:r.b.string.isRequired,onChange:r.b.func.isRequired,label:r.b.string,error:r.b.string,attrs:r.b.object},defaultOptions:{attrs:{}},template:function(){var e=this.options.isTouched&&!!this.options.error;return s.default.getFromMacro("skfb_front/macros/components/molecules/label-input","label_input",[{label:this.options.label,error:e?this.options.error:"",components:this.createChildrenComponents({input:{viewClass:l.a,options:i()({},this.options,{attrs:i()({},this.options.attrs,{classNames:i()({"form-input input c-label-input__input":!0,"--error":e},this.options.attrs.classNames)})})}})}])}})},711:function(e,t){!function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/atoms/file-input.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null,r=n.makeMacro([],["options"],function(i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var s="";s+="\n    ";var r;return r=e.getFilter("merge").call(t,{},n.contextOrFrameLookup(t,o,"options")),o.set("options",r,!0),o.topLevel&&t.setVariable("options",r),o.topLevel&&t.addExport("options",r),s+='\n\n    <div class="c-file-input">\n        ',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"showFile")&&n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"file"),"name")&&(s+='\n            <div class="c-file-input__file">\n                <span class="c-file-input__file__icon custom-icons icon-',s+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"file"),"extension"),e.opts.autoescape),s+='"></span>\n\n                <div class="c-file-input__file__content">\n                    <div class="c-file-input__file__name">\n                        ',s+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"file"),"name"),e.opts.autoescape),s+='\n                    </div>\n                    <div class="c-file-input__file__size">\n                        ',s+=n.suppressValue(e.getFilter("humanize_file_size").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"file"),"size")),e.opts.autoescape),s+='\n                    </div>\n                </div>\n\n                <span\n                    data-ref="close"\n                    class="c-file-input__file__close-cross icon-ion-close-round-icon custom-icons"></span>\n            </div>\n\n        '),s+='\n        <label class="c-file-input__placeholder">\n            <div class="c-file-input__button ',s+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"buttonClass"),e.opts.autoescape),s+=' ">\n                ',s+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"text"),e.opts.autoescape),s+='\n            </div>\n\n            <input\n                class="c-file-input__placeholder__input"\n                data-ref="input-upload"\n                accept="',s+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"accept"),e.opts.autoescape),s+='"\n                type="file"\n                ',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"loading")&&(s+="disabled"),s+="\n            />\n        </label>\n    </div>\n\n",o=a,new n.SafeString(s)});t.addExport("file_input"),t.setVariable("file_input",r),a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{root:e}}()}()},720:function(e,t,o){"use strict";var n=o(9),i=o.n(n),a=o(38),s=o(2),r=o(1),l=o(580),p=o(709);o.n(p);t.a=a.a.extend({displayName:"LabelSelect",optionTypes:{value:r.b.string.isRequired,onChange:r.b.func.isRequired,label:r.b.string,error:r.b.string,attrs:r.b.object},defaultOptions:{attrs:{}},template:function(){var e=this.options.isTouched&&!!this.options.error;return s.default.getFromMacro("skfb_front/macros/components/molecules/label-select","label_select",[{label:this.options.label,error:e?this.options.error:"",components:this.createChildrenComponents({select:{viewClass:l.a,options:i()({},this.options,{attrs:{classNames:i()({"form-select c-label-input__input":!0,"--error":e},this.options.attrs.classNames)}})}})}])}})},733:function(e,t,o){"use strict";var n=o(41),i=o(2),a=o(664);o.n(a);t.a=Object(n.a)(function(){return i.default.getFromMacro("skfb_front/macros/components/atoms/card-placeholder","card_placeholder",[{}])})},734:function(e,t,o){"use strict";var n=o(38),i=o(2),a=o(1),s=o(103);t.a=n.a.extend({displayName:"AddToCartIcon",optionTypes:{isModelOwned:a.b.bool.isRequired,isModelInCart:a.b.bool.isRequired,wasJustAdded:a.b.bool.isRequired,onAddToCart:a.b.func.isRequired,onRemoveFromCart:a.b.func.isRequired,size:a.b.number,color:a.b.string},defaultOptions:{size:18,color:s.a.storeColor},events:{'click [data-action="add-to-cart"]':function(){this.options.onAddToCart()}},template:function(){return i.default.getFromString('\n            <div class="c-add-to-cart-icon {{ \'--in-cart\' if isModelInCart }}">\n                {% if isModelOwned %}\n                    <p class="c-add-to-cart-icon__text">already bought</p>\n                {% else %}\n                    <div data-action="add-to-cart" class="c-add-to-cart-icon__cart-container">\n                        <svg\n                            class="c-add-to-cart-icon__cart"\n                            width="{{ size }}"\n                            height="{{ size }}"\n                            viewBox="0 0 14 14">\n                            {% if isModelInCart %}\n                                <path\n                                    d="M8.3554 9.0588a.7334.7334 0 0 1-.5148-.2103l-1.485-1.4637a.4442.4442 0 0 1 0-.6347.46.46 0 0 1 .6438 0l1.31 1.2914 1.7237-3.1395c.1196-.218.3955-.2992.617-.1812.2213.118.3035.3904.1838.6083L8.958 8.7458l-.0204.0268a.7314.7314 0 0 1-.5822.2862M6 14c-.552 0-1-.447-1-1 0-.553.448-1 1-1s1 .447 1 1c0 .553-.448 1-1 1zm6-1c0 .553-.448 1-1 1-.553 0-1-.447-1-1 0-.553.447-1 1-1 .552 0 1 .447 1 1m-.3028-3.3c-.101.2-.301.3-.4999.3H5.5977c-.199 0-.399-.1-.5-.401L4.513 7.552 3.6991 4.7l-.2-.7h8.998c.1999 0 .2998.1.3988.2.101.2.101.3.101.5l-1.2997 5zM12.497 3H3.2992L2.4994.4c-.1-.3-.3-.4-.4999-.4H.5C.1999 0 0 .2 0 .5s.2.5.4999.5h1.1997l1.0997 4L4.199 9.9c.2.699.6998 1.1 1.3987 1.1h5.5996c.5999 0 1.1987-.401 1.3987-1.1L13.8957 5c.2-.5.101-1-.199-1.4-.3009-.4-.6998-.6-1.1997-.6z" />\n                            {% else %}\n                                <path\n                                    d="M10 6.5H8.5V5h-1v1.5H6v1h1.5V9h1V7.5H10v-1zM7 13c0 .553-.448 1-1 1s-1-.447-1-1c0-.553.448-1 1-1s1 .447 1 1m5 0c0 .553-.448 1-1 1-.553 0-1-.447-1-1 0-.553.447-1 1-1 .552 0 1 .447 1 1m-.3028-3.3c-.101.2-.301.3-.4999.3H5.5977c-.199 0-.399-.1-.5-.401L4.513 7.552 3.6991 4.7l-.2-.7h8.998c.1999 0 .2998.1.3988.2.101.2.101.3.101.5l-1.2997 5zm1.9995-6.1c-.3009-.4-.6998-.6-1.1997-.6H3.2992L2.4994.4c-.1-.3-.3-.4-.4999-.4H.5C.1999 0 0 .2 0 .5s.2.5.4999.5h1.1997l1.0997 4L4.199 9.9c.2.699.6998 1.1 1.3987 1.1h5.5996c.5999 0 1.1987-.401 1.3987-1.1L13.8957 5c.2-.5.101-1-.199-1.4z" />\n                            {% endif %}\n                        </svg>\n                    </div>\n                {% endif %}\n            </div>\n            ',this.options)}})},735:function(e,t,o){"use strict";var n=o(0),i=(o.n(n),o(6)),a=o(2),s=o(1),r=o(35),l=o(63),p=o(932),u=o(43),c=o(117),d=o(103);t.a=i.a.extend({displayName:"CardSlider",mixins:[u.a,c.a],optionTypes:{cards:s.b.arrayOf(s.b.component.isRequired).isRequired,title:s.b.string,linkUrl:s.b.string,isLoading:s.b.bool,color:s.b.string,gridSize:s.b.oneOf(["normal","fullscreen"])},defaultOptions:{title:"",linkUrl:"",gridSize:"normal",color:d.a.skfbBlue,isLoading:!1},state:{isPreviousArrowHidden:!0,isNextArrowHidden:!1,currentCard:0},_initialDrag:0,_scrollX:0,events:{'click [data-action="previous"]':"onPrevious",'click [data-action="next"]':"onNext","resize window":"onResize",'dragstart [data-ref="slider"]':"onDragStart",'drag [data-ref="slider"]':"onDrag",'dragend [data-ref="slider"]':"onDragEnd"},viewDidMount:function(){this.onResize=Object(n.debounce)(this.onResize.bind(this),250),this.updateNextArrowThrottled=Object(n.throttle)(this.updateNextArrow.bind(this),250),this.animateToX=Object(p.b)(this.setSliderScrollX.bind(this)),this.refreshShownCardsCount()},viewDidUpdate:function(e){this.options.cards.length!==e.cards.length&&this.refreshShownCardsCount()},hasContent:function(){return!!this.options.cards.length},getCurrentCardX:function(){return this.hasContent()?this.state.currentCard*this.getCardSize():0},getCardSize:function(){if(!this.hasContent())return 1;var e=this.refs.$slider.find(".item").get(0);if(!e)return 1;var t=window.getComputedStyle(e);return parseFloat(t.width)+parseFloat(t["margin-left"])+parseFloat(t["margin-right"])||1},getSliderScrollX:function(){return this.hasContent()?this.refs.$slider.scrollLeft():0},setSliderScrollX:function(e){this.hasContent()&&(this.refs.slider.scrollLeft=e,this.updateNextArrowThrottled())},refreshShownCardsCount:function(){if(this.refs.slider){var e=this.refs.slider.getBoundingClientRect(),t=e.width,o=this.getCardSize();this._shownCardsCount=Math.round(t/o)}},validateIndex:function(e){return Object(l.b)(0,this.options.cards.length-this._shownCardsCount,e)},onResize:function(){this.refreshShownCardsCount(),this.animateToX(this.getCurrentCardX())},onDragStart:function(e){this._initialDrag=this.getSliderScrollX()+Object(r.b)(e).x,this._scrollWidth=this.refs.slider.scrollWidth},onDrag:function(e){var t=Object(r.b)(e),o=t.x+Object(p.a)(e.velocity.x);this._scrollX=Object(l.b)(0,this._scrollWidth,this._initialDrag-t.x),this._projectedScrollX=Object(l.b)(0,this._scrollWidth,this._initialDrag-o),this.animateToX(this._scrollX)},onDragEnd:function(){var e=this.getCardSize(),t=this.validateIndex(Math.round(this._projectedScrollX/e));this.animateToX(t*e),this.setState({currentCard:t})},onPrevious:function(){this.setSlide("previous")},onNext:function(){this.setSlide("next")},setSlide:function(e){var t=this.getCardSize(),o=this.validateIndex("previous"===e?Math.max(this.state.currentCard-this._shownCardsCount,0):Math.min(this.state.currentCard+this._shownCardsCount,this.options.cards.length-this._shownCardsCount));this.animateToX(o*t),this.setState({currentCard:o,isNextArrowHidden:"next"!==e&&this.state.isNextArrowHidden,isPreviousArrowHidden:0===o})},updateNextArrow:function(){if(this.hasContent()){var e=this.refs.slider.getBoundingClientRect(),t=e.right,o=e.left,n=this.refs.list.lastElementChild.getBoundingClientRect(),i=n.right,a=i<=t+20,s=this.refs.list.firstElementChild.getBoundingClientRect(),r=s.left,l=r>=o-20;this.state.isNextArrowHidden===a&&this.state.isPreviousArrowHidden===l||this.setState({isPreviousArrowHidden:l,isNextArrowHidden:a})}},template:function(){return a.default.getFromString('\n                {% if hasContent %}\n                    <div class="c-card-slider {{ \'--loading\' if options.isLoading }}">\n                        {% if options.title %}\n                            <a\n                                class="c-card-slider__header"\n                                href="{{ options.linkUrl }}">\n                                <h4\n                                    class="c-card-slider__title"\n                                    style="color:{{ options.color }};">\n                                    {{ options.title }}\n                                </h4>\n                                <p\n                                    class="c-card-slider__link skfb-link"\n                                    style="color:{{ options.color }};">\n                                    See more ›\n                                </p>\n                            </a>\n                        {% endif %}\n                        <div\n                            class="c-card-slider__arrow --left {{ \'--hidden\' if state.isPreviousArrowHidden }}"\n                            data-action="previous">\n                            <svg width="9" height="54" viewBox="0 0 9 54" xmlns="http://www.w3.org/2000/svg">\n                                <path\n                                    d="M1.518 27.17v-.26l.034.13-.034.13zm6.977 25.78l-.966.26L.516 27.04 7.53.87l.965.26-6.943 25.91 6.943 25.91zm0 0l-.966.26L.516 27.04 7.53.87l.965.26-6.943 25.91 6.943 25.91zM1.518 27.17v-.26l.034.13-.034.13zm-.01-.3l.044.17-.045.17-.966-.26.012-.04.483.13-.483.13-.01-.04.965-.26zm-.956.3l-.01-.04.965-.26.045.17-.045.17-.966-.26.012-.04.483.13-.483.13z"\n                                    fill-rule="nonzero"\n                                    fill="{{ options.color if options.color }}"/>\n                            </svg>\n                        </div>\n\n                        <div data-ref="slider" class="c-card-slider__slider grid grid-cards {{ \'--\' + options.gridSize }}">\n                            <ul data-ref="list" class="items">\n                                {{ components.cards | component(\'item\') }}\n                            </ul>\n                        </div>\n                        <div\n                            class="c-card-slider__arrow --right {{ \'--hidden\' if state.isNextArrowHidden }}"\n                            data-action="next">\n                            <svg width="9" height="53" viewBox="0 0 9 53" xmlns="http://www.w3.org/2000/svg">\n                                <path\n                                    d="M7.977 26.04L1 0l6.977 26.04L1 52.08l6.977-26.04zm0 0l.01.04-.01-.04.01-.04-.01.04z"\n                                    stroke="{{ options.color if options.color }}"\n                                    fill="none"\n                                    fill-rule="evenodd"\n                                    stroke-linecap="square"/>\n                            </svg>\n                        </div>\n\n                        <div class="c-card-slider__background"></div>\n                    </div>\n                {% endif %}\n            ',{options:this.options,hasContent:this.hasContent(),state:this.state,components:this.createChildrenComponents({cards:this.options.cards})})}})},738:function(e,t,o){o(15),o(461),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/organisms/model-management.jinja"]=function(){function e(e,t,n,i,a){var s=null,r=null,l="";try{var p=null;e.getTemplate("skfb_front/macros/model.jinja",!1,"skfb_front/macros/components/organisms/model-management.jinja",!1,function(u,c){if(u)return void a(u);c.getExported(function(u,c){if(u)return void a(u);if(!c.hasOwnProperty("model_quicksettings"))return void a(new Error("cannot import 'model_quicksettings'"));var d=c.model_quicksettings;t.setVariable("model_quicksettings",d),l+="\n",e.getTemplate("skfb_front/macros/components/atoms/button.jinja",!1,"skfb_front/macros/components/organisms/model-management.jinja",!1,function(u,c){if(u)return void a(u);c.getExported(function(u,c){if(u)return void a(u);if(!c.hasOwnProperty("button"))return void a(new Error("cannot import 'button'"));var d=c.button;t.setVariable("button",d),l+="\n\n";var m=i.makeMacro([],["options"],function(o){var a=n;n=new i.Frame,o=o||{},o.hasOwnProperty("caller")&&n.set("caller",o.caller),n.set("options",o.hasOwnProperty("options")?o.options:{});var l="";l+="\n    ";var p;return p=e.getFilter("merge").call(t,{closed:!0,components:{},processingWarnings:[]},i.contextOrFrameLookup(t,n,"options")),n.set("options",p,!0),n.topLevel&&t.setVariable("options",p),n.topLevel&&t.addExport("options",p),l+='\n    <div class="sidebar-box --no-padding --no-shadow model-management ',i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"closed")&&(l+="--closed"),l+='">\n        <div class="model-management__header" data-action="toggle-management">\n            <h5 class="model-management__header__title">Manage this model</h5>\n        </div>\n        <div class="model-management__section">\n            <ul class="model-management__statuses">\n                <li class="model-management__status">\n                    <span class="model-management__label">Status</span>\n                    <div>\n                        ',i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"model"),"isDeleted")?l+="\n                            Deleted\n                        ":"PENDING"==i.memberLookup(i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"model"),"status"),"processing")?l+="\n                            Processing\n                        ":"SUCCEEDED"!=i.memberLookup(i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"model"),"status"),"processing")?(l+="\n                            ",l+=i.suppressValue(e.getFilter("capitalize").call(t,i.memberLookup(i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"model"),"status"),"processing")),e.opts.autoescape),l+="\n                        "):i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"model"),"isPublished")?l+="\n                            Published\n                        ":(l+="\n                            Draft\n                            ",i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"shareToken")&&(l+='\n                                <a\n                                    class="skfb-link model-management__link --inline"\n                                    data-action="share-preview"\n                                    data-token="',l+=i.suppressValue(i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"shareToken"),e.opts.autoescape),l+='">\n                                    share preview\n                                </a>\n                            '),l+="\n                        "),l+="\n                    </div>\n                </li>\n\n                ",i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"processingWarnings"),"length")&&(l+='\n                    <li class="model-management__status">\n                        <span class="model-management__label">Processing</span>\n                        <div>\n                            <span class="model-management__info">\n                                ',l+=i.suppressValue(i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"processingWarnings"),"length"),e.opts.autoescape),l+=" issue",l+=i.suppressValue(e.getFilter("pluralize").call(t,i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"processingWarnings"),"length")),e.opts.autoescape),l+='\n                                <a\n                                    class="skfb-link model-management__link --inline"\n                                    data-action="show-processing-issues">\n                                    view\n                                </a>\n                            </span>\n\n                        </div>\n                    </li>\n                '),l+='\n\n                <li class="model-management__status">\n                    <span class="model-management__label">Privacy</span>\n                    <div>\n                        ',i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"model"),"isProtected")?l+='\n                            <i class="fa fa-lock protected"></i> Password-protected\n                        ':i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"model"),"isPrivate")?l+='\n                            <i class="custom-icons icon-private private"></i> Private\n                        ':l+="\n                            Public\n                        ",l+='\n\n                        <a\n                            class="model-management__link --inline"\n                            data-action="open-settings-popup">\n                            edit\n                        </a>\n                    </div>\n                </li>\n                <li class="model-management__status">\n                    ',(i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"model"),"isPrivate")||i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"model"),"isProtected"))&&e.getFilter("has_plan_type").call(t,i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"authUser"),"pro")&&(l+="\n                        ",l+=i.suppressValue(e.getFilter("component").call(t,i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"components"),"privateLimits")),e.opts.autoescape),l+="\n                    "),l+='\n                </li>\n            </ul>\n        </div>\n\n        <div class="model-management__section">\n            ',l+=i.suppressValue(e.getFilter("component").call(t,i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"components"),"download"),"download-section-container",'<span class="spinner-small --centered"></span>'),e.opts.autoescape),l+='\n        </div>\n\n        <div class="model-management__section">\n            <div class="model-management__actions">\n\n                ',"FAILED"!=i.memberLookup(i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"model"),"status"),"processing")&&(l+="\n                    ",l+=i.suppressValue(e.getFilter("component").call(t,i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"components"),"propertiesButton"),"model-management__action",(s=99,r=30,i.callWrap(i.contextOrFrameLookup(t,n,"button"),"button",t,[{text:"properties"}]))),e.opts.autoescape),l+="\n                "),l+="\n\n                ","SUCCEEDED"==i.memberLookup(i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"model"),"status"),"processing")&&(l+='\n                    <a class="button btn-medium btn-tertiary model-management__action" href="',l+=i.suppressValue(i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"model"),"viewerUrl"),e.opts.autoescape),l+='/edit" data-action="edit">\n                        3D Settings\n                    </a>\n                '),l+="\n\n                ","FAILED"!=i.memberLookup(i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"model"),"status"),"processing")&&(l+='\n                    <div class="button btn-medium btn-tertiary settings show-hover-menu model-management__action" title="Settings">\n                        More\n                        <i class="fa fa-caret-down caret"></i>\n                        ',l+=i.suppressValue((s=113,r=44,i.callWrap(i.contextOrFrameLookup(t,n,"model_quicksettings"),"model_quicksettings",t,[i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"authUser"),i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"model"),{direction:"left",withProperties:!1,withPublish:!1,with3DSettings:!1}])),e.opts.autoescape),l+="\n                    </div>\n                "),l+='\n            </div>\n\n            <div class="model-management__actions">\n                ',"SUCCEEDED"!=i.memberLookup(i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"model"),"status"),"processing")||i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"model"),"publishedAt")||(l+="\n                    ",l+=i.suppressValue(e.getFilter("component").call(t,i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"components"),"publishButton"),"model-management__publish-button"),e.opts.autoescape),l+="\n                "),l+="\n            </div>\n        </div>\n    </div>\n",n=a,new i.SafeString(l)});t.addExport("model_management"),t.setVariable("model_management",m),l+="\n\n";var h=i.makeMacro([],["options"],function(o){var a=n;n=new i.Frame,o=o||{},o.hasOwnProperty("caller")&&n.set("caller",o.caller),n.set("options",o.hasOwnProperty("options")?o.options:{});var s="";s+='\n    <div class="download-section">\n        <header class="download-section__header">\n            <span class="model-management__label">Download</span>\n            <div class="download-section__tabs">\n                ',n=n.push();var r=i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"tabs");if(r)for(var l=r.length,p=0;p<r.length;p++){var u=r[p];n.set("tab",u),n.set("loop.index",p+1),n.set("loop.index0",p),n.set("loop.revindex",l-p),n.set("loop.revindex0",l-p-1),n.set("loop.first",0===p),n.set("loop.last",p===l-1),n.set("loop.length",l),s+='\n                    <div\n                    class="',s+=i.suppressValue(e.getFilter("class_names").call(t,{"download-section__tab":!0,"--active":i.memberLookup(u,"isActive")}),e.opts.autoescape),s+='"\n                    data-action="selectTab"\n                    data-tab="',s+=i.suppressValue(i.memberLookup(u,"name"),e.opts.autoescape),s+='">\n                    ',s+=i.suppressValue(i.memberLookup(u,"name"),e.opts.autoescape),s+="\n                </div>\n                "}return n=n.pop(),s+='\n            </div>\n        </header>\n        <div class="download-section__content">\n            ',s+=i.suppressValue(e.getFilter("component").call(t,i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"components"),"message")),e.opts.autoescape),s+="\n            ",s+=i.suppressValue(e.getFilter("component").call(t,i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"components"),i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"activeTab"))),e.opts.autoescape),s+="\n\n            ",s+=i.suppressValue(e.getFilter("component").call(t,i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"components"),"extraFileMessage")),e.opts.autoescape),s+="\n\n            ",i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"shouldShowReprocessButton")?(s+="\n                ",s+=i.suppressValue(e.getFilter("component").call(t,i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"components"),"reprocessButton")),e.opts.autoescape),s+="\n            "):i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"shouldShowSubmitButton")&&(s+="\n                ",s+=i.suppressValue(e.getFilter("component").call(t,i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"components"),"submitButton")),e.opts.autoescape),s+="\n            "),s+="\n        </div>\n    </div>\n",n=a,new i.SafeString(s)});t.addExport("download_section"),t.setVariable("download_section",h),l+="\n\n";var f=i.makeMacro([],["options"],function(a){var s=n;n=new i.Frame,a=a||{},a.hasOwnProperty("caller")&&n.set("caller",a.caller),n.set("options",a.hasOwnProperty("options")?a.options:{});var r="";return r+='\n    <div class="file-size-popup">\n        <div class="file-size-popup__actions">\n            <a class="file-size-popup__close" data-action="close"><i class="fa fa-times"></i></a>\n        </div>\n\n        <div class="file-size-popup__content">\n            <img class="file-size-popup__image" src="',r+=i.suppressValue(o(1401),e.opts.autoescape),r+='" />\n            <h1 class="file-size-popup__title">\n                Your file is too large',r+=i.suppressValue(i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"fileSize")?" - "+e.getFilter("humanize_file_size").call(t,i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"fileSize")):"",e.opts.autoescape),r+='</h1>\n            <p class="file-size-popup__text">The maximum size allowed is <strong>',r+=i.suppressValue(e.getFilter("humanize_file_size").call(t,i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"maxSize")),e.opts.autoescape),r+='</strong>.</p>\n            <p class="file-size-popup__text">Choose a smaller file.</p>\n\n            ',r+=i.suppressValue(e.getFilter("component").call(t,i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,n,"options"),"components"),"button"),"file-size-popup__button"),e.opts.autoescape),r+="\n        </div>\n    </div>\n",n=s,new i.SafeString(r)});t.addExport("file_size_exceeded_popup"),t.setVariable("file_size_exceeded_popup",f),l+="\n",p?p.rootRenderFunc(e,t,n,i,a):a(null,l)})})})})}catch(e){a(i.handleError(e,s,r))}}return{root:e}}()}()},74:function(e,t,o){o(32),o(16),o(52),o(15),o(48),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/cards.jinja"]=function(){function e(e,t,o,n,i){var a=null,s=null,r="";try{var l=null;e.getTemplate("skfb_front/macros/buttons.jinja",!1,"skfb_front/macros/cards.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("star_like_button"))return void i(new Error("cannot import 'star_like_button'"));var c=u.star_like_button;if(t.setVariable("star_like_button",c),!u.hasOwnProperty("comments_button"))return void i(new Error("cannot import 'comments_button'"));var d=u.comments_button;t.setVariable("comments_button",d),r+="\n",e.getTemplate("skfb_front/macros/user.jinja",!1,"skfb_front/macros/cards.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("user_name"))return void i(new Error("cannot import 'user_name'"));var c=u.user_name;if(t.setVariable("user_name",c),!u.hasOwnProperty("user_avatar"))return void i(new Error("cannot import 'user_avatar'"));var d=u.user_avatar;t.setVariable("user_avatar",d),r+="\n",e.getTemplate("skfb_front/macros/utils.jinja",!1,"skfb_front/macros/cards.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("humanize_count"))return void i(new Error("cannot import 'humanize_count'"));var c=u.humanize_count;t.setVariable("humanize_count",c),r+="\n",e.getTemplate("skfb_front/macros/model.jinja",!1,"skfb_front/macros/cards.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("model_name"))return void i(new Error("cannot import 'model_name'"));var c=u.model_name;if(t.setVariable("model_name",c),!u.hasOwnProperty("model_labels"))return void i(new Error("cannot import 'model_labels'"));var d=u.model_labels;if(t.setVariable("model_labels",d),!u.hasOwnProperty("model_quicksettings"))return void i(new Error("cannot import 'model_quicksettings'"));var m=u.model_quicksettings;if(t.setVariable("model_quicksettings",m),!u.hasOwnProperty("collection_item_quicksettings"))return void i(new Error("cannot import 'collection_item_quicksettings'"));var h=u.collection_item_quicksettings;if(t.setVariable("collection_item_quicksettings",h),!u.hasOwnProperty("model_view_count"))return void i(new Error("cannot import 'model_view_count'"));var f=u.model_view_count;t.setVariable("model_view_count",f),r+="\n",e.getTemplate("skfb_front/macros/collection.jinja",!1,"skfb_front/macros/cards.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("collection_name"))return void i(new Error("cannot import 'collection_name'"));var c=u.collection_name;if(t.setVariable("collection_name",c),!u.hasOwnProperty("collection_quicksettings"))return void i(new Error("cannot import 'collection_quicksettings'"));var d=u.collection_quicksettings;if(t.setVariable("collection_quicksettings",d),!u.hasOwnProperty("collection_labels"))return void i(new Error("cannot import 'collection_labels'"));var m=u.collection_labels;t.setVariable("collection_labels",m),r+="\n",e.getTemplate("skfb_front/macros/buttons.jinja",!1,"skfb_front/macros/cards.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("subscribe_button_count"))return void i(new Error("cannot import 'subscribe_button_count'"));var c=u.subscribe_button_count;if(t.setVariable("subscribe_button_count",c),!u.hasOwnProperty("follow_button"))return void i(new Error("cannot import 'follow_button'"));var d=u.follow_button;t.setVariable("follow_button",d),r+="\n\n";var m=n.makeMacro(["thumbnails","width","height"],["options"],function(i,a,s,r){var l=o;o=new n.Frame,r=r||{},r.hasOwnProperty("caller")&&o.set("caller",r.caller),o.set("thumbnails",i),o.set("width",a),o.set("height",s),o.set("options",r.hasOwnProperty("options")?r.options:{});var p="";p+="\n    ";var u;return u=e.getFilter("merge").call(t,{expandWidth:!0,expandHeight:!1,deferImages:!0,initialLoading:!1,className:""},n.contextOrFrameLookup(t,o,"options")),o.set("options",u,!0),o.topLevel&&t.setVariable("options",u),o.topLevel&&t.addExport("options",u),p+='\n    <div class="card-thumbnail ',p+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"className"),e.opts.autoescape),p+='">\n        <div class="card-thumbnail__before" style="padding-top: ',p+=n.suppressValue(s/a*100,e.opts.autoescape),p+='%"></div>\n        <div class="card-thumbnail__img">\n            ',p+=n.suppressValue(e.getFilter("image_container").call(t,i,a,s,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"expandWidth"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"expandHeight"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"deferImages"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"initialLoading")),e.opts.autoescape),p+="\n        </div>\n    </div>\n",o=l,new n.SafeString(p)});t.addExport("card_thumbnail"),t.setVariable("card_thumbnail",m),r+="\n\n";var h=n.makeMacro(["model","authUser"],[],function(e,t,i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("model",e),o.set("authUser",t);var s="";return s+="\n    ",(n.memberLookup(e,"isDownloadable")||n.memberLookup(e,"inStore"))&&(s+='\n        <span class="help card-model__feature --downloads">\n            <span class="tooltip tooltip-up">Downloadable</span>\n        </span>\n    '),s+="\n",o=a,new n.SafeString(s)});t.addExport("downloadTooltip"),t.setVariable("downloadTooltip",h),r+="\n\n";var f=n.makeMacro(["authUser","model"],["options"],function(i,r,l){var p=o;o=new n.Frame,l=l||{},l.hasOwnProperty("caller")&&o.set("caller",l.caller),o.set("authUser",i),o.set("model",r),o.set("options",l.hasOwnProperty("options")?l.options:{});var u="";u+="\n    ";var c;return c=e.getFilter("merge").call(t,{deferImages:!0,withQuickSettings:!1,quickSettingsType:"model",withStaffpickFlag:!0,withRestrictedFlag:!0,withStaffpickLink:!1,components:{}},n.contextOrFrameLookup(t,o,"options")),o.set("options",c,!0),o.topLevel&&t.setVariable("options",c),o.topLevel&&t.addExport("options",c),u+="\n\n    ",u+="\n\n    ",r=e.getFilter("merge").call(t,{user:n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user")},r),o.set("model",r,!0),o.topLevel&&t.setVariable("model",r),o.topLevel&&t.addExport("model",r),u+="\n\n    ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"wrapMetaType")&&(u+='\n        <data itemscope itemtype="http://schema.org/BlogPosting">\n\n        <meta itemprop="headline" content="',u+=n.suppressValue(n.memberLookup(r,"name"),e.opts.autoescape),u+='" />\n        <meta itemprop="image" content="',u+=n.suppressValue(e.getFilter("best_fit").call(t,n.memberLookup(r,"thumbnails"),1024,768),e.opts.autoescape),u+='" />\n        <meta itemprop="datepublished" content="',u+=n.suppressValue(n.memberLookup(r,"publishedAt"),e.opts.autoescape),u+='" />\n        <meta itemprop="description" content="',u+=n.suppressValue(n.memberLookup(r,"description"),e.opts.autoescape),u+='" />\n    '),u+='\n\n    <div\n        class="card card-model"\n        itemprop="',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"wrapMetaType")?u+=" associatedMedia ":u+=" owns ",u+='"\n        itemscope\n        itemtype="http://schema.org/MediaObject">\n\n        <meta itemprop="commentCount" content="',u+=n.suppressValue(n.memberLookup(r,"commentCount"),e.opts.autoescape),u+='" />\n        <meta itemprop="contentSize" content="',u+=n.suppressValue(e.getFilter("humanize_number").call(t,e.getFilter("default").call(t,n.memberLookup(r,"archiveSize"),0)),e.opts.autoescape),u+='B" />\n        <meta itemprop="isBasedOnUrl" content="',u+=n.suppressValue(n.memberLookup(r,"viewerUrl"),e.opts.autoescape),u+='/editor" />\n        <meta itemprop="embedUrl" content="',u+=n.suppressValue(n.memberLookup(r,"embedUrl"),e.opts.autoescape),u+='" />\n        <meta itemprop="name" content="',u+=n.suppressValue(n.memberLookup(r,"name"),e.opts.autoescape),u+='" />\n\n        <div class="card__main card-model__thumbnail">\n            <a class="card-model__thumbnail-link" href="',u+=n.suppressValue(n.memberLookup(r,"viewerUrl"),e.opts.autoescape),u+='">\n                ',u+=n.suppressValue((a=77,s=31,n.callWrap(n.contextOrFrameLookup(t,o,"card_thumbnail"),"card_thumbnail",t,[n.memberLookup(r,"thumbnails"),500,281.25,{deferImages:n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"deferImages")}])),e.opts.autoescape),u+="\n                ",u+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"modelPreview"),"card__360-preview"),e.opts.autoescape),u+='\n            </a>\n\n            <div class="card__main__corner --top-left">\n                ',u+=n.suppressValue((a=84,s=29,n.callWrap(n.contextOrFrameLookup(t,o,"model_labels"),"model_labels",t,[r,{withStaffpickLink:n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"withStaffpickLink"),withStaffpickFlag:n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"withStaffpickFlag"),withRestrictedFlag:n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"withRestrictedFlag"),displayRecentlyStaffpicked:!0}])),e.opts.autoescape),u+='\n            </div>\n\n            <div class="card__main__corner --top-right">\n                ',n.memberLookup(r,"animationCount")>0&&(u+='\n                    <span class="help card-model__feature --animations">\n                        <span class="tooltip tooltip-up">Animated</span>\n                    </span>\n                '),u+="\n                ",u+=n.suppressValue((a=98,s=32,n.callWrap(n.contextOrFrameLookup(t,o,"downloadTooltip"),"downloadTooltip",t,[r,i])),e.opts.autoescape),u+='\n            </div>\n\n            <div class="card__main__corner --bottom-left">\n                <div class="card-preview" data-action="open-preview">\n                    <i class="card-preview__icon fa fa-search" title="see preview"></i>\n                </div>\n            </div>\n        </div>\n\n        <div class="card__footer">\n            <div class="card__footer__left">\n                <a\n                    class="card__footer__avatar"\n                    href="',u+=n.suppressValue(n.memberLookup(n.memberLookup(r,"user"),"profileUrl"),e.opts.autoescape),u+='"\n                    data-action="show-user-summary"\n                    data-user="',u+=n.suppressValue(n.memberLookup(n.memberLookup(r,"user"),"uid"),e.opts.autoescape),u+='">\n                    ',u+=n.suppressValue((a=115,s=32,n.callWrap(n.contextOrFrameLookup(t,o,"user_avatar"),"user_avatar",t,[n.memberLookup(n.memberLookup(r,"user"),"avatars"),{size:18}])),e.opts.autoescape),u+='\n                </a>\n\n                <div class="card__footer__vertical">\n                    <p class="card__footer__title">\n                        ',n.memberLookup(r,"isPublished")||(u+='\n                            <span class="flag --draft">DRAFT</span>\n                        '),u+="\n\n                        ",u+=n.suppressValue((a=124,s=35,n.callWrap(n.contextOrFrameLookup(t,o,"model_name"),"model_name",t,[i,r,{withStaffpickFlag:!1,withRestrictedFlag:!1,withStaffpickLink:!1}])),e.opts.autoescape),u+='\n                    </p>\n                </div>\n            </div>\n\n            <div class="card__footer__right">\n                ',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"withStaffpickFlag")&&n.memberLookup(r,"staffpickedAt")&&n.memberLookup(r,"justStaffPicked")?(u+='\n\n                    <a\n                        class="card-model__congrats-link"\n                        href="',u+=n.suppressValue(n.memberLookup(r,"viewerUrl"),e.opts.autoescape),u+='#comments"\n                        data-action="go-to-comments">\n                        Say Congrats!\n                    </a>\n\n                '):(u+="\n\n                    ",u+=n.suppressValue((a=145,s=37,n.callWrap(n.contextOrFrameLookup(t,o,"model_view_count"),"model_view_count",t,[r,n.makeKeywordArgs({options:{className:"card__footer__stats --views"}})])),e.opts.autoescape),u+="\n\n                    ",u+=n.suppressValue((a=149,s=36,n.callWrap(n.contextOrFrameLookup(t,o,"comments_button"),"comments_button",t,[r,n.makeKeywordArgs({options:{className:"card__footer__stats --comments"}})])),e.opts.autoescape),u+="\n\n                    ",u+=n.suppressValue((a=153,s=37,n.callWrap(n.contextOrFrameLookup(t,o,"star_like_button"),"star_like_button",t,[i,n.makeKeywordArgs({options:{count:{display:!0,like:(a=156,s=50,n.callWrap(n.contextOrFrameLookup(t,o,"humanize_count"),"humanize_count",t,[n.memberLookup(r,"likeCount")]))},popover:{display:!0,arrow:n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"arrow")},buttonClass:"card__footer__stats --likes",tooltipClass:"tooltip-up"}})])),e.opts.autoescape),u+="\n\n                "),u+="\n            </div>\n        </div>\n\n\n        ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"withQuickSettings")&&(u+="\n            ","collectionItem"==n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"quickSettingsType")?(u+='\n\n                <div class="card__quick-settings">\n                    ',u+=n.suppressValue((a=175,s=50,n.callWrap(n.contextOrFrameLookup(t,o,"collection_item_quicksettings"),"collection_item_quicksettings",t,[{}])),e.opts.autoescape),u+="\n                </div>\n\n            "):n.memberLookup(i,"uid")==n.memberLookup(n.memberLookup(r,"user"),"uid")&&(u+='\n\n                <div class="card__quick-settings">\n                    ',u+=n.suppressValue((a=181,s=40,n.callWrap(n.contextOrFrameLookup(t,o,"model_quicksettings"),"model_quicksettings",t,[i,r])),e.opts.autoescape),u+="\n                </div>\n\n            "),u+="\n        "),u+="\n    </div>\n",o=p,new n.SafeString(u)});t.addExport("model_card"),t.setVariable("model_card",f),r+="\n\n";var v=n.makeMacro(["authUser","model"],["options"],function(i,r,l){var p=o;o=new n.Frame,l=l||{},l.hasOwnProperty("caller")&&o.set("caller",l.caller),o.set("authUser",i),o.set("model",r),o.set("options",l.hasOwnProperty("options")?l.options:{});var u="";u+="\n    ";var c;return c=e.getFilter("merge").call(t,{withStaffpickFlag:!0,withRestrictedFlag:!0,withStaffpickLink:!1},n.contextOrFrameLookup(t,o,"options")),o.set("options",c,!0),o.topLevel&&t.setVariable("options",c),o.topLevel&&t.addExport("options",c),u+='\n\n    <meta itemprop="commentCount" content="',u+=n.suppressValue(n.memberLookup(r,"commentCount"),e.opts.autoescape),u+='" />\n    <meta itemprop="contentSize" content="',u+=n.suppressValue(e.getFilter("humanize_number").call(t,e.getFilter("default").call(t,n.memberLookup(r,"archiveSize"),0)),e.opts.autoescape),u+='B" />\n    <meta itemprop="discussionUrl" content="',u+=n.suppressValue(n.memberLookup(r,"viewerUrl"),e.opts.autoescape),u+='#comments" />\n    <meta itemprop="isBasedOnUrl" content="',u+=n.suppressValue(n.memberLookup(r,"viewerUrl"),e.opts.autoescape),u+='/editor" />\n\n    <div class="model-smallcard" data-link="',u+=n.suppressValue(n.memberLookup(r,"viewerUrl"),e.opts.autoescape),u+='">\n\n        <div class="model-smallcard__thumbnail">\n            <a class="thumbnail" itemprop="url" href="',u+=n.suppressValue(n.memberLookup(r,"viewerUrl"),e.opts.autoescape),u+='">\n                ',u+=n.suppressValue(e.getFilter("image_container").call(t,n.memberLookup(r,"thumbnails"),170,95.625,{expandWidth:!0}),e.opts.autoescape),u+='\n            </a>\n\n            <div class="card__main__corner --top-left">\n                ',u+=n.suppressValue((a=209,s=29,n.callWrap(n.contextOrFrameLookup(t,o,"model_labels"),"model_labels",t,[r,{withStaffpickLink:n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"withStaffpickLink"),withStaffpickFlag:n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"withStaffpickFlag"),withRestrictedFlag:n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"withRestrictedFlag"),displayRecentlyStaffpicked:!0}])),e.opts.autoescape),u+='\n            </div>\n\n            <div class="card__main__corner --top-right">\n                ',n.memberLookup(r,"animationCount")>0&&(u+='\n                    <span class="help card-model__feature --animations">\n                        <span class="tooltip tooltip-up">Animated</span>\n                    </span>\n                '),u+="\n                ",u+=n.suppressValue((a=223,s=32,n.callWrap(n.contextOrFrameLookup(t,o,"downloadTooltip"),"downloadTooltip",t,[r,i])),e.opts.autoescape),u+='\n            </div>\n        </div>\n\n        <div class="meta">\n            <div class="information">\n                <div class="name" itemprop="name">\n                    ',u+=n.suppressValue((a=230,s=31,n.callWrap(n.contextOrFrameLookup(t,o,"model_name"),"model_name",t,[i,r,{withStaffpickFlag:!1,withStaffpickLink:!1,withRestrictedFlag:!1}])),e.opts.autoescape),u+='\n                </div>\n                <div class="user">\n                    ',u+=n.suppressValue((a=233,s=30,n.callWrap(n.contextOrFrameLookup(t,o,"user_name"),"user_name",t,[i,n.memberLookup(r,"user"),{withSummary:!0,withoutBadge:!0}])),e.opts.autoescape),u+='\n                </div>\n            </div>\n\n            <div class="stats">\n                <div class="views help custom-icons icon-eye-icon">\n                    ',u+=n.suppressValue(e.getFilter("humanize_number").call(t,n.memberLookup(r,"viewCount")),e.opts.autoescape),u+='\n                    <div class="tooltip tooltip-up">Views</div>\n                </div>\n\n                <a class="model-card-comments help" href="',u+=n.suppressValue(n.memberLookup(r,"viewerUrl"),e.opts.autoescape),u+='#comments">\n                    ',u+=n.suppressValue(e.getFilter("humanize_number").call(t,n.memberLookup(r,"commentCount")),e.opts.autoescape),u+='\n                    <div class="tooltip tooltip-up">Comments</div>\n                </a>\n\n                ',u+=n.suppressValue((a=251,s=33,n.callWrap(n.contextOrFrameLookup(t,o,"star_like_button"),"star_like_button",t,[i,n.makeKeywordArgs({options:{count:{display:!0,like:(a=254,s=46,n.callWrap(n.contextOrFrameLookup(t,o,"humanize_count"),"humanize_count",t,[n.memberLookup(r,"likeCount")]))},buttonClass:e.getFilter("class_names").call(t,{card__footer__stats:!0,help:!0,liked:n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"isLiked")}),tooltipClass:"tooltip-up"}})])),e.opts.autoescape),u+="\n\n            </div>\n        </div>\n\n    </div>\n\n",o=p,new n.SafeString(u)});t.addExport("model_smallcard"),t.setVariable("model_smallcard",v),r+="\n\n";var b=n.makeMacro(["authUser","collection"],["options"],function(i,r,l){var p=o;o=new n.Frame,l=l||{},l.hasOwnProperty("caller")&&o.set("caller",l.caller),o.set("authUser",i),o.set("collection",r),o.set("options",l.hasOwnProperty("options")?l.options:{});var u="";u+="\n    ";var c;c=e.getFilter("merge").call(t,{withQuickSettings:!1,deferImages:!0},n.contextOrFrameLookup(t,o,"options")),o.set("options",c,!0),o.topLevel&&t.setVariable("options",c),o.topLevel&&t.addExport("options",c),u+="\n\n    ",u+="\n   ",r=e.getFilter("merge").call(t,{user:n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),thumbnails:[]},r),o.set("collection",r,!0),o.topLevel&&t.setVariable("collection",r),o.topLevel&&t.addExport("collection",r),u+='\n\n    <div class="card card-collection">\n        <a\n            class="card__main card-collection__thumbnails"\n            href="',u+=n.suppressValue(n.memberLookup(r,"collectionUrl"),e.opts.autoescape),u+='">\n\n            ',o=o.push();var d=(a=283,s=31,n.callWrap(n.contextOrFrameLookup(t,o,"range"),"range",t,[0,4]));if(d)for(var m=d.length,h=0;h<d.length;h++){var f=d[h];o.set("index",f),o.set("loop.index",h+1),o.set("loop.index0",h),o.set("loop.revindex",m-h),o.set("loop.revindex0",m-h-1),o.set("loop.first",0===h),o.set("loop.last",h===m-1),o.set("loop.length",m),u+="\n\n                ",u+=n.suppressValue((a=285,s=31,n.callWrap(n.contextOrFrameLookup(t,o,"card_thumbnail"),"card_thumbnail",t,[e.getFilter("default").call(t,n.memberLookup(n.memberLookup(r,"thumbnails"),f),[]),250,140.625,{className:"card-collection__thumbnail",deferImages:n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"deferImages")}])),e.opts.autoescape),u+="\n\n            "}return o=o.pop(),u+='\n\n            <div class="card__main__corner --top-left">\n                ',u+=n.suppressValue((a=293,s=34,n.callWrap(n.contextOrFrameLookup(t,o,"collection_labels"),"collection_labels",t,[r,{displayNew:n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"displayNew")}])),e.opts.autoescape),u+='\n            </div>\n\n            <div class="card__main__corner --bottom-left">\n                <div class="card-preview" data-action="open-preview">\n                    <i class="card-preview__icon fa fa-search" title="see preview"></i>\n                </div>\n            </div>\n\n        </a>\n\n        <div class="card__footer">\n            <div class="card__footer__left">\n                <a\n                    class="card__footer__avatar"\n                    href="',u+=n.suppressValue(n.memberLookup(n.memberLookup(r,"user"),"profileUrl"),e.opts.autoescape),u+='"\n                    data-action="show-user-summary"\n                    data-user="',u+=n.suppressValue(n.memberLookup(n.memberLookup(r,"user"),"uid"),e.opts.autoescape),u+='">\n                    ',u+=n.suppressValue((a=313,s=32,n.callWrap(n.contextOrFrameLookup(t,o,"user_avatar"),"user_avatar",t,[n.memberLookup(n.memberLookup(r,"user"),"avatars"),{size:18}])),e.opts.autoescape),u+='\n                </a>\n\n                <p class="card__footer__title">\n                    ',u+=n.suppressValue((a=317,s=36,n.callWrap(n.contextOrFrameLookup(t,o,"collection_name"),"collection_name",t,[r])),e.opts.autoescape),u+='\n                </p>\n            </div>\n\n            <div class="card__footer__right">\n                ',n.memberLookup(r,"modelCount")>0&&(u+='\n                    <div class="card__footer__stats --models help">\n                        <span class="count">\n                            ',u+=n.suppressValue(e.getFilter("humanize_number").call(t,n.memberLookup(r,"modelCount")),e.opts.autoescape),u+='\n                        </span>\n                        <div class="tooltip tooltip-up">Models</div>\n                    </div>\n                '),u+="\n\n                ",u+=n.suppressValue((a=331,s=39,n.callWrap(n.contextOrFrameLookup(t,o,"subscribe_button_count"),"subscribe_button_count",t,[i,n.makeKeywordArgs({options:{count:{display:!0,subscribe:(a=334,s=51,n.callWrap(n.contextOrFrameLookup(t,o,"humanize_count"),"humanize_count",t,[n.memberLookup(r,"subscriberCount")]))},popover:{display:!0,arrow:""},buttonClass:"card__footer__stats --subscribes",tooltipClass:"tooltip tooltip-up",disabled:n.memberLookup(i,"uid")==n.memberLookup(n.memberLookup(r,"user"),"uid")}})])),e.opts.autoescape),u+="\n            </div>\n        </div>\n\n        ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"withQuickSettings")&&n.memberLookup(i,"uid")==n.memberLookup(n.memberLookup(r,"user"),"uid")&&(u+='\n            <div class="card__quick-settings">\n                ',u+=n.suppressValue((a=349,s=41,n.callWrap(n.contextOrFrameLookup(t,o,"collection_quicksettings"),"collection_quicksettings",t,[{}])),e.opts.autoescape),u+="\n            </div>\n        "),u+="\n    </div>\n",o=p,new n.SafeString(u)});t.addExport("collection_card"),t.setVariable("collection_card",b),r+="\n\n";var g=n.makeMacro(["authUser","collection"],["options"],function(i,r,l){var p=o;o=new n.Frame,l=l||{},l.hasOwnProperty("caller")&&o.set("caller",l.caller),o.set("authUser",i),o.set("collection",r),o.set("options",l.hasOwnProperty("options")?l.options:{});var u="";u+="\n\n    ",r=e.getFilter("merge").call(t,{user:n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),thumbnails:[]},r),o.set("collection",r,!0),o.topLevel&&t.setVariable("collection",r),o.topLevel&&t.addExport("collection",r),u+='\n\n    <div class="collection-smallcard" data-link="',u+=n.suppressValue(n.memberLookup(r,"collectionUrl"),e.opts.autoescape),u+='">\n\n        <meta itemprop="url" content="',u+=n.suppressValue(n.memberLookup(r,"collectionUrl"),e.opts.autoescape),u+='" />\n        <div class="collection-smallcard__thumbnails">\n            ',o=o.push();var c=(a=363,s=31,n.callWrap(n.contextOrFrameLookup(t,o,"range"),"range",t,[0,4]));if(c)for(var d=c.length,m=0;m<c.length;m++){var h=c[m];o.set("index",h),o.set("loop.index",m+1),o.set("loop.index0",m),o.set("loop.revindex",d-m),o.set("loop.revindex0",d-m-1),o.set("loop.first",0===m),o.set("loop.last",m===d-1),o.set("loop.length",d),u+="\n\n                ",u+=n.suppressValue((a=365,s=31,n.callWrap(n.contextOrFrameLookup(t,o,"card_thumbnail"),"card_thumbnail",t,[n.memberLookup(n.memberLookup(r,"thumbnails"),h),85,765/16,{className:"collection-smallcard__thumbnail"}])),e.opts.autoescape),u+="\n\n            "}return o=o.pop(),u+='\n        </div>\n\n        <div class="meta">\n\n            <div class="information">\n                <div class="name">\n                    ',u+=n.suppressValue((a=376,s=36,n.callWrap(n.contextOrFrameLookup(t,o,"collection_name"),"collection_name",t,[r])),e.opts.autoescape),u+='\n                </div>\n                <div class="user">\n                    ',u+=n.suppressValue((a=379,s=30,n.callWrap(n.contextOrFrameLookup(t,o,"user_name"),"user_name",t,[i,n.memberLookup(r,"user"),{withSummary:!0,withoutBadge:!0}])),e.opts.autoescape),u+='\n                </div>\n            </div>\n\n            <div class="stats">\n                <div class="card__footer__stats --models length help">\n                    <span class="count">\n                        ',u+=n.suppressValue(e.getFilter("humanize_number").call(t,n.memberLookup(r,"modelCount")),e.opts.autoescape),u+='\n                    </span>\n                    <div class="tooltip tooltip-up">Models</div>\n                </div>\n                ',n.memberLookup(i,"uid")!=n.memberLookup(n.memberLookup(r,"user"),"uid")&&(u+="\n                    ",u+=n.suppressValue((a=394,s=43,n.callWrap(n.contextOrFrameLookup(t,o,"subscribe_button_count"),"subscribe_button_count",t,[i,n.makeKeywordArgs({options:{count:{display:!0,subscribe:(a=397,s=55,n.callWrap(n.contextOrFrameLookup(t,o,"humanize_count"),"humanize_count",t,[n.memberLookup(r,"subscriberCount")]))},popover:{display:!0,arrow:""},buttonClass:e.getFilter("class_names").call(t,{card__footer__stats:!0,"--subscribes":!0,toggled:n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"hasSubscribed")}),tooltipClass:"tooltip tooltip-up"}})])),e.opts.autoescape),u+="\n                "),u+="\n            </div>\n\n        </div>\n    </div>\n\n",o=p,new n.SafeString(u)});t.addExport("collection_smallcard"),t.setVariable("collection_smallcard",g),r+="\n\n";var k=n.makeMacro(["authUser","user"],["options"],function(i,r,l){var p=o;o=new n.Frame,l=l||{},l.hasOwnProperty("caller")&&o.set("caller",l.caller),o.set("authUser",i),o.set("user",r),o.set("options",l.hasOwnProperty("options")?l.options:{});var u="";return u+='\n    <div class="user-smallcard" data-link="',u+=n.suppressValue(n.memberLookup(r,"profileUrl"),e.opts.autoescape),u+='">\n        <div\n            class="card-user-avatar"\n            ',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"withSummary")&&(u+='\n                data-action="show-user-summary"\n            '),u+='\n            data-user="',u+=n.suppressValue(n.memberLookup(r,"uid"),e.opts.autoescape),u+='">\n            ',u+=n.suppressValue(e.getFilter("image_container").call(t,n.memberLookup(r,"avatars"),60,60),e.opts.autoescape),u+='\n        </div>\n\n        <div class="card-user-meta">\n            <div class="card-user-name">\n                ',u+=n.suppressValue((a=431,s=26,n.callWrap(n.contextOrFrameLookup(t,o,"user_name"),"user_name",t,[i,r])),e.opts.autoescape),u+='\n            </div>\n            <div class="card-user-stats">\n                <div class="smallcard-user-follower-count">\n                    ',u+=n.suppressValue(e.getFilter("default").call(t,n.memberLookup(r,"followerCount"),0),e.opts.autoescape),u+=' Followers\n                </div>\n                <div class="smallcard-user-model-count">\n                    ',u+=n.suppressValue(e.getFilter("default").call(t,n.memberLookup(r,"modelCount"),0),e.opts.autoescape),u+=" Models\n                </div>\n            </div>\n        </div>\n    </div>\n",o=p,new n.SafeString(u)});t.addExport("user_smallcard"),t.setVariable("user_smallcard",k),r+="\n\n";var _=n.makeMacro(["authUser","collection","model"],["options"],function(i,r,l,p){var u=o;o=new n.Frame,p=p||{},p.hasOwnProperty("caller")&&o.set("caller",p.caller),o.set("authUser",i),o.set("collection",r),o.set("model",l),o.set("options",p.hasOwnProperty("options")?p.options:{});var c="";return c+='\n    <div class="card card-collect">\n        <div class="card__main">\n            <p class="card-collect__title">\n                <span>Added to </span>',c+=n.suppressValue((a=449,s=54,n.callWrap(n.contextOrFrameLookup(t,o,"collection_name"),"collection_name",t,[r])),e.opts.autoescape),c+='\n            </p>\n\n            <div class="card-collect__thumbnail card-model">\n                <a href="',c+=n.suppressValue(n.memberLookup(l,"viewerUrl"),e.opts.autoescape),c+='">\n                    ',c+=n.suppressValue((a=454,s=35,n.callWrap(n.contextOrFrameLookup(t,o,"card_thumbnail"),"card_thumbnail",t,[n.memberLookup(l,"thumbnails"),500,258.5])),e.opts.autoescape),c+="\n                    ",c+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"modelPreview"),"card__360-preview"),e.opts.autoescape),c+='\n                </a>\n\n                <div class="card__main__corner --top-left">\n                    ',c+=n.suppressValue((a=459,s=33,n.callWrap(n.contextOrFrameLookup(t,o,"model_labels"),"model_labels",t,[l,{withStaffpickFlag:!0,withStaffpickLink:!1,withRestrictedFlag:!0,displayRecentlyStaffpicked:!1}])),e.opts.autoescape),c+='\n                </div>\n\n                <div class="card__main__corner --top-right">\n                    ',n.memberLookup(l,"animationCount")>0&&(c+='\n                        <span class="help card-model__feature --animations">\n                            <span class="tooltip tooltip-up">Animated</span>\n                        </span>\n                    '),c+="\n                    ",c+=n.suppressValue((a=473,s=36,n.callWrap(n.contextOrFrameLookup(t,o,"downloadTooltip"),"downloadTooltip",t,[l,i])),e.opts.autoescape),c+='\n                </div>\n\n                <div class="card__main__corner --bottom-left">\n                    <div class="card-preview" data-action="open-preview">\n                        <i class="card-preview__icon fa fa-search" title="see preview"></i>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="card__footer">\n            <div class="card__footer__left">\n                <a\n                    class="card__footer__avatar"\n                    href="',c+=n.suppressValue(n.memberLookup(n.memberLookup(l,"user"),"profileUrl"),e.opts.autoescape),c+='"\n                    data-action="show-user-summary"\n                    data-user="',c+=n.suppressValue(n.memberLookup(n.memberLookup(l,"user"),"uid"),e.opts.autoescape),c+='">\n                    ',c+=n.suppressValue((a=491,s=32,n.callWrap(n.contextOrFrameLookup(t,o,"user_avatar"),"user_avatar",t,[n.memberLookup(n.memberLookup(l,"user"),"avatars"),{size:18}])),e.opts.autoescape),c+='\n                </a>\n\n                <p class="card__footer__title">\n                    ',c+=n.suppressValue((a=495,s=31,n.callWrap(n.contextOrFrameLookup(t,o,"model_name"),"model_name",t,[i,l,{withStaffpickFlag:!1,withRestrictedFlag:!1,withStaffpickLink:!1}])),e.opts.autoescape),c+='\n                </p>\n            </div>\n\n            <div class="card__footer__right">\n                ',c+=n.suppressValue((a=504,s=33,n.callWrap(n.contextOrFrameLookup(t,o,"model_view_count"),"model_view_count",t,[l,n.makeKeywordArgs({options:{className:"card__footer__stats --views"}})])),e.opts.autoescape),c+="\n\n                ",c+=n.suppressValue((a=508,s=32,n.callWrap(n.contextOrFrameLookup(t,o,"comments_button"),"comments_button",t,[l,n.makeKeywordArgs({options:{className:"card__footer__stats --comments"}})])),e.opts.autoescape),c+="\n\n                ",c+=n.suppressValue((a=512,s=33,n.callWrap(n.contextOrFrameLookup(t,o,"star_like_button"),"star_like_button",t,[i,n.makeKeywordArgs({options:{count:{display:!0,like:(a=515,s=46,n.callWrap(n.contextOrFrameLookup(t,o,"humanize_count"),"humanize_count",t,[n.memberLookup(l,"likeCount")]))},popover:{display:!0,arrow:""},buttonClass:"card__footer__stats --likes",tooltipClass:"tooltip-up"}})])),e.opts.autoescape),c+="\n            </div>\n        </div>\n    </div>\n",o=u,new n.SafeString(c)});t.addExport("collect_card"),t.setVariable("collect_card",_),r+="\n\n\n";var w=n.makeMacro(["authUser","user"],["options"],function(i,r,l){var p=o;o=new n.Frame,l=l||{},l.hasOwnProperty("caller")&&o.set("caller",l.caller),o.set("authUser",i),o.set("user",r),o.set("options",l.hasOwnProperty("options")?l.options:{});var u="";u+="\n    ",r=e.getFilter("merge").call(t,{thumbnails:[],deferImages:!0},r),o.set("user",r,!0),o.topLevel&&t.setVariable("user",r),o.topLevel&&t.addExport("user",r),u+='\n\n    <div class="card card-user">\n        <div class="card-user__header">\n            <a href="/',u+=n.suppressValue(n.memberLookup(r,"username"),e.opts.autoescape),u+='" class="card-user__avatar">\n                ',u+=n.suppressValue(e.getFilter("image_container").call(t,n.memberLookup(r,"avatars"),50,50,!0,!1),e.opts.autoescape),u+='\n            </a>\n            <div class="card-user__header__info">\n                <div class="card-user__name">',u+=n.suppressValue((a=542,s=55,n.callWrap(n.contextOrFrameLookup(t,o,"user_name"),"user_name",t,[i,r])),e.opts.autoescape),u+='</div>\n                <ul class="card-user__skills">\n                    ',o=o.push();var c=e.getFilter("first_n").call(t,e.getFilter("default").call(t,n.memberLookup(r,"skills"),[]),3);if(c)for(var d=c.length,m=0;m<c.length;m++){var h=c[m];o.set("skill",h),o.set("loop.index",m+1),o.set("loop.index0",m),o.set("loop.revindex",d-m),o.set("loop.revindex0",d-m-1),o.set("loop.first",0===m),o.set("loop.last",m===d-1),o.set("loop.length",d),u+='\n                        <li class="card-user__skill card-user__text">',u+=n.suppressValue(n.memberLookup(h,"name"),e.opts.autoescape),u+="</li>\n                    "}o=o.pop(),u+='\n                </ul>\n            </div>\n        </div>\n\n        <a href="/',u+=n.suppressValue(n.memberLookup(r,"username"),e.opts.autoescape),u+='/models" class="card-user__thumbnails">\n            ',o=o.push();var f=e.getFilter("fill_null").call(t,e.getFilter("first_n").call(t,e.getFilter("default").call(t,n.memberLookup(r,"thumbnails"),[]),2),2);if(f)for(var v=f.length,b=0;b<f.length;b++){var g=f[b];o.set("thumb",g),o.set("loop.index",b+1),o.set("loop.index0",b),o.set("loop.revindex",v-b),o.set("loop.revindex0",v-b-1),o.set("loop.first",0===b),o.set("loop.last",b===v-1),o.set("loop.length",v),u+="\n                ",u+=n.suppressValue((a=553,s=31,n.callWrap(n.contextOrFrameLookup(t,o,"card_thumbnail"),"card_thumbnail",t,[g,200,125,{className:"card-user__thumbnail",deferImages:n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"deferImages")}])),e.opts.autoescape),u+="\n            "}return o=o.pop(),u+='\n        </a>\n\n        <div class="card-user__footer">\n            <div class="card-user__metrics">\n                <a\n                    href="/',u+=n.suppressValue(n.memberLookup(r,"username"),e.opts.autoescape),u+='/followers"\n                    class="card-user__metric --follower-count help">\n                    <span class="card-user__metric__count">',u+=n.suppressValue(e.getFilter("comma_formatted_number").call(t,n.memberLookup(r,"followerCount")),e.opts.autoescape),u+='</span>\n                    <span class="card-user__text card-user__metric__name">Followers</span>\n                </a>\n                <a\n                    href="/',u+=n.suppressValue(n.memberLookup(r,"username"),e.opts.autoescape),u+='/models"\n                    class="card-user__metric --model-count">\n                    <span class="card-user__metric__count">',u+=n.suppressValue(e.getFilter("comma_formatted_number").call(t,n.memberLookup(r,"modelCount")),e.opts.autoescape),u+='</span>\n                    <span class="card-user__text card-user__metric__name">Models</span>\n                </a>\n            </div>\n\n            ',n.memberLookup(i,"uid")!=n.memberLookup(r,"uid")&&(u+='\n                <div class="card-user__follow-button">\n                    ',u+=n.suppressValue((a=578,s=34,n.callWrap(n.contextOrFrameLookup(t,o,"follow_button"),"follow_button",t,[i,r])),e.opts.autoescape),u+="\n                </div>\n            "),u+="\n        </div>\n    </div>\n",o=p,new n.SafeString(u)});t.addExport("user_card"),t.setVariable("user_card",w),r+="\n\n";var L=n.makeMacro(["post","options"],[],function(t,i,a){var s=o;o=new n.Frame,a=a||{},a.hasOwnProperty("caller")&&o.set("caller",a.caller),o.set("post",t),o.set("options",i);var r="";return r+="\n    ",n.memberLookup(i,"closable")&&(r+='\n        <button class="news-notification__close" data-action="close"><i class="icon fa fa-times"></i></button>\n    '),r+='\n\n    <a class="news-notification__bg" href="',r+=n.suppressValue(n.memberLookup(t,"articleUrl"),e.opts.autoescape),r+='?utm_source=website&utm_campaign=newsfeed">\n        <div class="news-notification__content">\n            <div>\n                <p class="news-notification__subtitle">\n                    ',r+=n.suppressValue(n.memberLookup(t,"categoryName"),e.opts.autoescape),r+='\n                </p>\n\n                <h1 class="news-notification__title">\n                    ',r+=n.suppressValue(n.memberLookup(t,"title"),e.opts.autoescape),r+='\n                </h1>\n\n                <button class="news-notification__actions">\n                    Read more\n                    <span class="arrow">❯</span>\n                </button>\n            </div>\n        </div>\n    </a>\n',o=s,new n.SafeString(r)});t.addExport("blogpost"),t.setVariable("blogpost",L),r+="\n",l?l.rootRenderFunc(e,t,o,n,i):i(null,r)})})})})})})})})})})})})}catch(e){i(n.handleError(e,a,s))}}return{root:e}}()}()},855:function(e,t,o){o(17),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/popups/contact.jinja"]=function(){function e(e,t,o,n,i){var a="";try{var s=null;e.getTemplate("skfb_front/layouts/popup.jinja",!0,"skfb_front/popups/contact.jinja",!1,function(r,l){if(r)return void i(r);s=l;for(var p in s.blocks)t.addBlock(p,s.blocks[p]);a+="\n\n";var u;u="Contact",o.set("popupTitle",u,!0),o.topLevel&&t.setVariable("popupTitle",u),o.topLevel&&t.addExport("popupTitle",u),a+="\n";var c;c="popup-contact",o.set("popupClass",c,!0),o.topLevel&&t.setVariable("popupClass",c),o.topLevel&&t.addExport("popupClass",c),a+="\n\n",(s?function(e,t,o,n,i){i("")}:t.getBlock("popup_content"))(e,t,o,n,function(r,l){if(r)return void i(r);a+=l,a+="\n\n",(s?function(e,t,o,n,i){i("")}:t.getBlock("popup_footer"))(e,t,o,n,function(r,l){if(r)return void i(r);a+=l,a+="\n",s?s.rootRenderFunc(e,t,o,n,i):i(null,a)})})})}catch(e){i(n.handleError(e,null,null))}}function t(e,t,o,n,i){var a="";try{var o=o.push(!0);a+='\n\n    <div class="form-column-layout" data-action="process-login">\n\n        <div class="fields">\n\n            ',n.memberLookup(n.contextOrFrameLookup(t,o,"from"),"isAnonymous")&&(a+='\n                <div class="form-field">\n                    <label class="form-label" for="email">Your email</label>\n                    <input class="form-input" type="email" name="email" value="" placeholder="you@email.com" />\n                </div>\n            '),a+='\n\n            <div class="form-field">\n                <label class="form-label" for="password-input">Message title</label>\n                <input class="form-input" name="subject" placeholder="Great work" value="',a+=n.suppressValue(n.contextOrFrameLookup(t,o,"title"),e.opts.autoescape),a+='" />\n            </div>\n\n            <div class="form-field">\n                <label class="form-label" for="password-input">Message body</label>\n                <textarea class="form-input" name="body" placeholder="Hi ! ...">',a+=n.suppressValue(n.contextOrFrameLookup(t,o,"body"),e.opts.autoescape),a+="</textarea>\n            </div>\n\n        </div>\n\n    </div>\n\n",i(null,a)}catch(e){i(n.handleError(e,null,null))}}function o(e,t,o,n,i){var a="";try{var o=o.push(!0);a+='\n\n    <div class="actions">\n        <button class="button btn-medium btn-tertiary" type="reset">Cancel</button>\n        <button class="button btn-medium btn-primary submit" type="submit">Continue</button>\n    </div>\n\n',i(null,a)}catch(e){i(n.handleError(e,null,null))}}return{b_popup_content:t,b_popup_footer:o,root:e}}()}()},858:function(e,t,o){o(16),o(52),o(58),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/organisms/model-reviews.jinja"]=function(){function e(e,t,o,n,i){var a=null,s=null,r="";try{var l=null;e.getTemplate("skfb_front/macros/user.jinja",!1,"skfb_front/macros/components/organisms/model-reviews.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("user_name"))return void i(new Error("cannot import 'user_name'"));var c=u.user_name;t.setVariable("user_name",c),r+="\n",e.getTemplate("skfb_front/macros/utils.jinja",!1,"skfb_front/macros/components/organisms/model-reviews.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("report_link"))return void i(new Error("cannot import 'report_link'"));var c=u.report_link;t.setVariable("report_link",c),r+="\n",e.getTemplate("skfb_front/macros/comments.jinja",!1,"skfb_front/macros/components/organisms/model-reviews.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("comment_body"))return void i(new Error("cannot import 'comment_body'"));var c=u.comment_body;t.setVariable("comment_body",c),r+="\n\n";var d=n.makeMacro([],["options"],function(i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var s,r="";return s=e.getFilter("merge").call(t,{components:{}},n.contextOrFrameLookup(t,o,"options")),o.set("options",s,!0),o.topLevel&&t.setVariable("options",s),o.topLevel&&t.addExport("options",s),r+='<div class="c-model-reviews">\n        <div class="c-model-reviews__filters">\n            ',r+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"sortBySelect"),"c-model-reviews__select"),e.opts.autoescape),r+="\n            ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"canReview")&&(r+='\n                <a href="/models/',r+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"uid"),e.opts.autoescape),r+='/review" class="skfb-link c-model-reviews__write-review-link">\n                    Write your review\n                </a>\n            '),r+="\n        </div>\n        ",r+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"modelRating")),e.opts.autoescape),r+="\n        ",r+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"reviewList"),"c-model-reviews__list"),e.opts.autoescape),r+="\n    </div>\n",o=a,new n.SafeString(r)});t.addExport("model_reviews"),t.setVariable("model_reviews",d),r+="\n\n\n";var m=n.makeMacro([],["options"],function(i){var r=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var l="";return l+='\n    <div>\n        <div class="review-item__author-name">\n            ',l+=n.suppressValue((a=27,s=22,n.callWrap(n.contextOrFrameLookup(t,o,"user_name"),"user_name",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"user"),{withSummary:!0}])),e.opts.autoescape),l+='\n        </div>\n\n        <div class="review-item__meta">\n            ',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"isAuthor")&&(l+='\n                <span class="author small-text">Model author</span>\n            '),l+='\n                <time class="date datefuzz small-text" itemprop="datecreated" datetime="',l+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"createdAt"),e.opts.autoescape),l+='" title="',l+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"createdAt"),e.opts.autoescape),l+='">\n                    ',l+=n.suppressValue(e.getFilter("time_ago").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"createdAt")),e.opts.autoescape),l+="\n                </time>\n            ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"editedAt")&&(l+='\n                <span class="date small-text">(edited)</span>\n            '),l+="\n        </div>\n    </div>\n",o=r,new n.SafeString(l)});t.addExport("author_name_block"),t.setVariable("author_name_block",m),r+="\n\n";var h=n.makeMacro([],["options"],function(i){var r=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var l="";return l+='\n    <div\n        class="review-item ',l+=n.suppressValue(e.getFilter("class_names").call(t,{"--deleted":n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"review"),"deletedAt")}),e.opts.autoescape),l+='"\n        itemprop="review"\n        itemscope\n        itemtype="http://schema.org/Comment">\n\n        <div\n            class="review-item__avatar"\n            data-action="show-user-summary"\n            data-user="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"review"),"user"),"uid"),e.opts.autoescape),l+='">\n            ',l+=n.suppressValue(e.getFilter("image_container").call(t,n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"review"),"user"),"avatars"),32,32),e.opts.autoescape),l+='\n        </div>\n\n        <article class="review-item__body">\n            <div class="review-item__corner-actions">\n                ',n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),"uid")!=n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"review"),"user"),"uid")&&(l+='\n                    <div\n                        class="',l+=n.suppressValue(e.getFilter("class_names").call(t,{"review-item__upvote":!0,help:!0,"--active":n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"isUpvoted")}),e.opts.autoescape),l+='"\n                        data-action="toggle-upvote">\n                        <span class="review-item__upvote__text">Helpful',l+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"isUpvoted")?"!":"?",e.opts.autoescape),l+=' </span>\n                        <span class="review-item__upvote__icon fa fa-thumbs-o-up"></span>\n                        ',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"isUpvoted")&&(l+='\n                            <span class="tooltip tooltip-down">\n                                You found this review helpful\n                            </span>\n                        '),l+="\n                    </div>\n                "),l+="\n\n                ",n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"review"),"deletedAt")||(l+='\n                    <div class="review-item__options">\n                        <i class="fa fa-cog"></i>\n                        <ul class="hover-menu hover-menu-left" style="display:none;">\n                            ',n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),"uid")==n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"review"),"user"),"uid")?(l+='\n                                <li>\n                                    <a href="/models/',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"uid"),e.opts.autoescape),l+='/review">Edit review</a>\n                                </li>\n                            '):(l+="\n                                <li>\n                                    ",l+=n.suppressValue((a=90,s=48,n.callWrap(n.contextOrFrameLookup(t,o,"report_link"),"report_link",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"SKFB_FAQ_HOST"),"review",n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"comment"),"uid"),{text:"Report comment",subject:"Comment by "+n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"review"),"user"),"username")+" on "+n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"name")}])),e.opts.autoescape),l+="\n                                </li>\n                            "),l+="\n                        </ul>\n                    </div>\n                "),l+="\n            </div>\n\n            ",l+=n.suppressValue((a=106,s=30,n.callWrap(n.contextOrFrameLookup(t,o,"author_name_block"),"author_name_block",t,[{user:n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"review"),"user"),isAuthor:n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"user"),"uid")==n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"review"),"user"),"uid"),editedAt:n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"review"),"editedAt"),createdAt:n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"review"),"createdAt")}])),e.opts.autoescape),l+='\n\n            <div class="review-item__text" itemprop="text">\n                <strong>Usage: ',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"review"),"usage"),e.opts.autoescape),l+="</strong>\n                ",l+=n.suppressValue((a=115,s=29,n.callWrap(n.contextOrFrameLookup(t,o,"comment_body"),"comment_body",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"review")])),e.opts.autoescape),l+='\n            </div>\n\n            <div class="review-item__bottom-info">\n                <span>Rating: ',l+=n.suppressValue(e.getFilter("format_rating").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"review"),"averageRating")),e.opts.autoescape),l+="</span>\n                <span> - Verified purchase</span>\n                ",n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"review"),"upvoteCount")&&(l+="\n                    <span> - ",l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"review"),"upvoteCount"),e.opts.autoescape),l+=" ",l+=n.suppressValue(e.getFilter("pluralize").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"review"),"upvoteCount"),"person","people"),e.opts.autoescape),l+=" found this review helpful</span>\n                "),l+="\n            </div>\n\n            ",l+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"reply")),e.opts.autoescape),l+="\n        </article>\n    </div>\n",o=r,new n.SafeString(l)});t.addExport("review_item"),t.setVariable("review_item",h),r+="\n\n\n";var f=n.makeMacro([],["options"],function(i){var r=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var l="";return l+='\n    <div class="review-item__reply">\n        ',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"isModelAuthor")&&n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"isEditing")?(l+="\n            ",l+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"editor")),e.opts.autoescape),l+='\n            <div class="review-item__reply__actions">\n                ',l+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"continueButton")),e.opts.autoescape),l+="\n                ",l+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"cancelButton")),e.opts.autoescape),l+='\n                <span class="small-text">Note: Buyers can not delete their review nor reply to your message</span>\n            </div>\n        '):n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"review"),"replyBody")?(l+='\n            <div class="review-item__reply__quote">\n                <div class="review-item__corner-actions">\n                    ',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"isModelAuthor")&&(l+='\n                        <div class="review-item__options">\n                            <i class="fa fa-cog"></i>\n\n                            <ul class="hover-menu hover-menu-left" style="display:none;">\n                                <li data-action="edit-reply">\n                                    <a>Edit message</a>\n                                </li>\n                            </ul>\n                        </div>\n                    '),l+='\n                </div>\n\n                <div class="review-item__reply__author">\n                    <div\n                        class="review-item__avatar"\n                        data-action="show-user-summary"\n                        data-user="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"modelAuthor"),"uid"),e.opts.autoescape),l+='">\n                        ',l+=n.suppressValue(e.getFilter("image_container").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"modelAuthor"),"avatars"),32,32),e.opts.autoescape),l+="\n                    </div>\n\n                    ",l+=n.suppressValue((a=169,s=38,n.callWrap(n.contextOrFrameLookup(t,o,"author_name_block"),"author_name_block",t,[{user:n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"modelAuthor"),isAuthor:!0,editedAt:n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"review"),"replyEditedAt"),createdAt:n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"review"),"replyCreatedAt")}])),e.opts.autoescape),l+='\n                </div>\n\n                <div class="review-item__text" itemprop="text">\n                    ',l+=n.suppressValue((a=178,s=33,n.callWrap(n.contextOrFrameLookup(t,o,"comment_body"),"comment_body",t,[{body:n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"review"),"replyBody")}])),e.opts.autoescape),l+="\n                </div>\n            </div>\n        "):n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"isModelAuthor")&&(l+="\n            ",l+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"replyButton")),e.opts.autoescape),l+="\n        "),l+="\n    </div>\n",o=r,new n.SafeString(l)});t.addExport("review_reply"),t.setVariable("review_reply",f),r+="\n",l?l.rootRenderFunc(e,t,o,n,i):i(null,r)})})})})})})}catch(e){i(n.handleError(e,a,s))}}return{root:e}}()}()},859:function(e,t,o){"use strict";var n=o(9),i=o.n(n),a=o(0),s=(o.n(a),o(38)),r=o(1),l=o(2),p=o(711);o.n(p);t.a=s.a.extend({displayName:"FileInput",optionTypes:{showFile:r.b.bool,value:r.b.shape({name:r.b.string.isRequired,size:r.b.number.isRequired,originalFile:r.b.object}),onChange:r.b.func.isRequired,onCancel:r.b.func,accept:r.b.string,text:r.b.string.isRequired,buttonClass:r.b.string},defaultOptions:{showFile:!0,value:{name:"",size:0,originalFile:{}},accept:["application/zip","application/x-7z-compressed","application/x-rar-compressed"].join(","),buttonClass:"skfb-link"},events:{'change [data-ref="input-upload"]':"onChange",'click [data-ref="close"]':"onClose"},onChange:function(e){var t=e.target.files[0];t&&this.options.onChange({size:t.size,name:t.name,originalFile:t})},onClose:function(){this.options.onChange(null)},template:function(){return l.default.getFromMacro("skfb_front/macros/components/atoms/file-input","file_input",[{showFile:this.options.showFile,text:this.options.text,buttonClass:this.options.buttonClass,file:i()({name:"",size:0,originalFile:{},extension:this.options.value?Object(a.last)(this.options.value.name.split(".")):""},this.options.value),accept:this.options.accept}])}})},891:function(e,t,o){"use strict";var n=o(1383),i=o(4),a=o(2),s=o(24),r=o(33),l=o(1),p=o(855);o.n(p);t.a=s.a.extend({displayName:"ContactPopup",optionTypes:{model:l.b.model.isRequired,title:l.b.string,body:l.b.string},template:function(){return a.default.get("skfb_front/popups/contact",{user:this.model.toJSON(),from:i.a.me().toJSON(),title:this.options.title,body:this.options.body})},events:{"reset form":"close","submit form":"applySettings"},applySettings:function(){var e=this.$('[name="email"]'),t=0===e.length?i.a.me().get("email"):e.val();new n.a({sender:t,recipient:this.model.get("uid"),subject:this.$('[name="subject"]').val(),body:this.$('[name="body"]').val()}).save().then(function(){this.replaceWith(new r.default({title:"Your message has been sent!",text:a.default.getFromString("Your message has been correctly sent by email to {{ username }}.",{username:this.model.get("displayName")}),popupClosable:!0}))}.bind(this),function(e){429===e.status?(this.getPromise().reject(),this.replaceWith(new r.default({title:"Message not sent",text:"Your message has not been sent because you have reached the limit for sending messages. Please wait a minute before trying again.",popupClosable:!0}))):this.replaceWith(new r.default({title:"Unexpected error",text:'Please try again later or <a href="https://help.sketchfab.com/hc/en-us/requests/new?type=website&utm_source=website&utm_campaign=email-confirmation-error" target="_blank">contact us</a> if the error persists',safe:!0,popupClosable:!0}))}.bind(this))}})},897:function(e,t,o){o(52),o(32),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/molecules/model-actions.jinja"]=function(){function e(e,t,o,n,i){var a=null,s=null,r="";try{var l=null;e.getTemplate("skfb_front/macros/utils.jinja",!1,"skfb_front/macros/components/molecules/model-actions.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("report_link"))return void i(new Error("cannot import 'report_link'"));var c=u.report_link;t.setVariable("report_link",c),r+="\n",e.getTemplate("skfb_front/macros/buttons.jinja",!1,"skfb_front/macros/components/molecules/model-actions.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("add_to_open_popup"))return void i(new Error("cannot import 'add_to_open_popup'"));var c=u.add_to_open_popup;t.setVariable("add_to_open_popup",c),r+="\n\n";var d=n.makeMacro([],["options"],function(i){var r=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var l="";l+="\n    ";var p;return p=e.getFilter("merge").call(t,{components:{}},n.contextOrFrameLookup(t,o,"options")),o.set("options",p,!0),o.topLevel&&t.setVariable("options",p),o.topLevel&&t.addExport("options",p),l+="\n    ",n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"publishedAt")&&!n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"isDeleted")&&(l+='\n        <div class="c-model-actions">\n            ',n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"isDownloadable")&&(l+='\n                <a\n                    href="#download"\n                    class="c-model-actions__button --download"\n                    data-action="open-download-popup"\n                    title="Download">\n                    <i class="icon fa fa-download"></i>\n                    <span class="c-model-actions__button-label">Download</span>\n                </a>\n            '),l+="\n\n            ",l+="\n            ",n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"isPrivate")&&n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),"uid")!=n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"user"),"uid")||(l+="\n                ",l+=n.suppressValue((a=22,s=34,n.callWrap(n.contextOrFrameLookup(t,o,"add_to_open_popup"),"add_to_open_popup",t,[{buttonClass:"c-model-actions__button --add-to"}])),e.opts.autoescape),l+="\n            "),l+='\n\n            <a class="c-model-actions__button" data-action="open-embed-popup" title="Embed">\n                <i class="icon fa fa-code"></i>\n                <span class="c-model-actions__button-label">Embed</span>\n            </a>\n\n            <a class="c-model-actions__button" data-action="open-share-popup" title="Share">\n                <i class="icon fa fa-share"></i>\n                <span class="c-model-actions__button-label">Share</span>\n            </a>\n\n            ',n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"user"),"uid")!=n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),"uid")&&(l+="\n                ",l+=n.suppressValue((a=36,s=28,n.callWrap(n.contextOrFrameLookup(t,o,"report_link"),"report_link",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"SKFB_FAQ_HOST"),"model",n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"uid"),{class:"c-model-actions__button --report",text:'<i class="icon fa fa-flag"></i><span class="c-model-actions__button-label">Report</span>',subject:n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"name")+" by "+n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"user"),"username")}])),e.opts.autoescape),l+="\n            "),l+="\n        </div>\n    "),l+="\n",o=r,new n.SafeString(l)});t.addExport("model_actions"),t.setVariable("model_actions",d),r+="\n",l?l.rootRenderFunc(e,t,o,n,i):i(null,r)})})})})}catch(e){i(n.handleError(e,a,s))}}return{root:e}}()}()},898:function(e,t,o){"use strict";var n=o(0),i=(o.n(n),o(13)),a=o(6),s=o(2),r=o(1),l=o(37),p=o(211),u=o(899);o.n(u);t.a=a.a.extend({displayName:"InfiniteList",optionTypes:{collection:r.b.collection.isRequired,getItemComponent:r.b.func.isRequired,itemClassName:r.b.string,placeholdersCount:r.b.number,placeholderType:r.b.string,shouldFetchFirstPage:r.b.bool,shouldHidePagination:r.b.bool,paginationType:r.b.oneOf(["cursor","offset"]),filters:r.b.model},defaultOptions:function(){return{placeholdersCount:3,shouldFetchFirstPage:!0,shouldHidePagination:!1,paginationType:"cursor",itemClassName:"",filters:new i.a}},state:{isMounted:!1},viewDidMount:function(){this.options.collection.on("change loadingChanged reset afterAdd afterRemove",this.forceUpdate,this),this.options.filters.on("change",this.onFiltersChange,this),this.options.shouldFetchFirstPage&&this.options.collection.loadFirstPage(),this.setState({isMounted:!0})},viewWillUnmount:function(){this.options.collection.off("change loadingChanged reset afterAdd afterRemove",this.forceUpdate,this),this.options.filters.off("change",this.onFiltersChange,this)},onFiltersChange:function(){this.options.collection.loadFirstPage()},onLoadPrevious:function(){this.options.collection.loadPreviousPage()},onLoadNext:function(){this.options.collection.loadNextPage()},template:function(){var e=this,t=this.options.collection.models,o=!this.state.isMounted||!t.length&&this.options.collection.isLoading();return s.default.getFromMacro("skfb_front/macros/components/organisms/infinite-list","infinite_list",[{itemClassName:this.options.itemClassName,isLoading:o,placeholdersCount:this.options.placeholdersCount,placeholderType:this.options.placeholderType,hasNextPage:!o&&!this.options.shouldHidePagination&&this.options.collection.hasNextPage(),hasPreviousPage:!o&&!this.options.shouldHidePagination&&this.options.collection.hasPreviousPage(),components:this.createChildrenComponents({loadPrevious:{viewClass:l.a,options:{text:"load previous",onClick:this.onLoadPrevious.bind(this),size:"small",loading:"previous"===this.options.collection.loading()}},loadNext:{viewClass:l.a,options:{text:"load more",onClick:this.onLoadNext.bind(this),size:"small",loading:"next"===this.options.collection.loading()}},items:t.map(this.options.getItemComponent),placeholders:Object(n.range)(0,this.options.placeholdersCount).map(function(t){return{viewClass:p.a,options:{key:t,type:e.options.placeholderType}}})})}])}})},899:function(e,t,o){o(172),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/organisms/infinite-list.jinja"]=function(){function e(e,t,o,n,i){var a=null,s=null,r="";try{var l=null;e.getTemplate("skfb_front/macros/components/atoms/list-item-placeholder.jinja",!1,"skfb_front/macros/components/organisms/infinite-list.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("list_item_placeholder"))return void i(new Error("cannot import 'list_item_placeholder'"));var c=u.list_item_placeholder;t.setVariable("list_item_placeholder",c),r+="\n\n";var d=n.makeMacro([],["options"],function(i){var r=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var l="";l+="\n    ";var p;return p=e.getFilter("merge").call(t,{components:{},isLoading:!0,hasPreviousPage:!1,hasNextPage:!1,itemClassName:"",placeholdersCount:3,placeholderType:"smallCard"},n.contextOrFrameLookup(t,o,"options")),o.set("options",p,!0),o.topLevel&&t.setVariable("options",p),o.topLevel&&t.addExport("options",p),l+='\n\n    <div class="c-infinite-list">\n        ',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"hasPreviousPage")&&(l+="\n            ",l+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"loadPrevious"),"c-infinite-list__button --previous"),e.opts.autoescape),l+="\n        "),l+='\n\n        <div class="c-infinite-list__items">',n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"items"),"length")?l+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"items"),"c-infinite-list__item"+(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"itemClassName")?" "+n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"itemClassName"):"")),e.opts.autoescape):n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"isLoading")&&(l+=n.suppressValue(e.getFilter("component").call(t,e.getFilter("default").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"placeholders"),(a=28,s=35,n.callWrap(n.contextOrFrameLookup(t,o,"range"),"range",t,[0,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"placeholdersCount")]))),"c-infinite-list__item",(a=31,s=45,n.callWrap(n.contextOrFrameLookup(t,o,"list_item_placeholder"),"list_item_placeholder",t,[{type:n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"placeholderType")}]))),e.opts.autoescape)),l+="</div>\n\n        ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"hasNextPage")&&(l+="\n            ",l+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"loadNext"),"c-infinite-list__button --next"),e.opts.autoescape),l+="\n        "),l+="\n    </div>\n",o=r,new n.SafeString(l)});t.addExport("infinite_list"),t.setVariable("infinite_list",d),r+="\n",l?l.rootRenderFunc(e,t,o,n,i):i(null,r)})})}catch(e){i(n.handleError(e,a,s))}}return{root:e}}()}()},900:function(e,t,o){o(16),o(52),o(58),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/organisms/model-comments.jinja"]=function(){function e(e,t,o,n,i){var a=null,s=null,r="";try{var l=null;e.getTemplate("skfb_front/macros/user.jinja",!1,"skfb_front/macros/components/organisms/model-comments.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("user_name"))return void i(new Error("cannot import 'user_name'"));var c=u.user_name;t.setVariable("user_name",c),r+="\n",e.getTemplate("skfb_front/macros/utils.jinja",!1,"skfb_front/macros/components/organisms/model-comments.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("report_link"))return void i(new Error("cannot import 'report_link'"));var c=u.report_link;t.setVariable("report_link",c),r+="\n",e.getTemplate("skfb_front/macros/comments.jinja",!1,"skfb_front/macros/components/organisms/model-comments.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("comment_body"))return void i(new Error("cannot import 'comment_body'"));var c=u.comment_body;t.setVariable("comment_body",c),r+="\n\n";var d=n.makeMacro([],["options"],function(i){var a=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var s,r="";return s=e.getFilter("merge").call(t,{components:{}},n.contextOrFrameLookup(t,o,"options")),o.set("options",s,!0),o.topLevel&&t.setVariable("options",s),o.topLevel&&t.addExport("options",s),r+='<div class="c-model-comments">\n        <p class="c-model-comments__title">\n            ',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"shouldDisplayTitle")&&(r+="\n                ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"totalCommentCount")?(r+="\n                    ",r+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"totalCommentCount"),e.opts.autoescape),r+=" comment",r+=n.suppressValue(e.getFilter("pluralize").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"totalCommentCount")),e.opts.autoescape),r+="\n                "):r+="\n                    Comments\n                ",r+="\n            "),r+="\n        </p>\n\n        ",r+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"commentEditor"),"c-model-comments__editor"),e.opts.autoescape),r+="\n\n        ",r+=n.suppressValue(e.getFilter("component").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"components"),"commentList"),"c-model-comments__list"),e.opts.autoescape),r+="\n    </div>\n",o=a,new n.SafeString(r)});t.addExport("model_comments"),t.setVariable("model_comments",d),r+="\n\n\n";var m=n.makeMacro([],["options"],function(i){var r=o;o=new n.Frame,i=i||{},i.hasOwnProperty("caller")&&o.set("caller",i.caller),o.set("options",i.hasOwnProperty("options")?i.options:{});var l="";return l+='\n    <div\n        class="comment-item ',l+=n.suppressValue(e.getFilter("class_names").call(t,{"--deleted":n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"comment"),"isDeleted")}),e.opts.autoescape),l+='"\n        itemprop="comment"\n        itemscope\n        itemtype="http://schema.org/Comment">\n        <div\n            class="comment-item__avatar"\n            data-action="show-user-summary"\n            data-user="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"comment"),"user"),"uid"),e.opts.autoescape),l+='">\n            ',l+=n.suppressValue(e.getFilter("image_container").call(t,n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"comment"),"user"),"avatars"),32,32),e.opts.autoescape),l+='\n        </div>\n\n        <article class="comment-item__body">\n            <div class="comment-item__author-name">\n                ',l+=n.suppressValue((a=44,s=26,n.callWrap(n.contextOrFrameLookup(t,o,"user_name"),"user_name",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"comment"),"user"),{withSummary:!0}])),e.opts.autoescape),l+='\n            </div>\n\n            <div class="comment-item__meta">\n                ',n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"user"),"uid")==n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"comment"),"user"),"uid")&&(l+='\n                    <span class="author">Model author</span>\n                '),l+='\n                <time class="date datefuzz" itemprop="datecreated" datetime="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"comment"),"createdAt"),e.opts.autoescape),l+='" title="',l+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"comment"),"createdAt"),e.opts.autoescape),l+='">\n                    ',l+=n.suppressValue(e.getFilter("time_ago").call(t,n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"comment"),"createdAt")),e.opts.autoescape),l+='\n                </time>\n            </div>\n\n            <div class="comment-item__text" itemprop="text">\n                ',l+=n.suppressValue((a=57,s=29,n.callWrap(n.contextOrFrameLookup(t,o,"comment_body"),"comment_body",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"comment")])),e.opts.autoescape),l+="\n            </div>\n\n            <div>\n                ",n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"comment"),"isDeleted")||n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),"uid")==n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"comment"),"user"),"uid")||(l+='\n                    <button class="comment-item__reply button btn-textified" data-action="reply">Reply</button>\n                '),l+="\n            </div>\n\n            ",n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"comment"),"isDeleted")||(l+='\n                <div class="comment-item__options">\n                    <i class="fa fa-cog"></i>\n\n                    <ul class="hover-menu hover-menu-left" style="display:none;">\n                        ',n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"authUser"),"uid")!=n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"comment"),"user"),"uid")?(l+="\n                        <li>\n                            ",l+=n.suppressValue((a=73,s=40,n.callWrap(n.contextOrFrameLookup(t,o,"report_link"),"report_link",t,[n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"SKFB_FAQ_HOST"),"comment",n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"comment"),"uid"),{text:"Report comment",subject:"Comment by "+n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"comment"),"user"),"username")+" on "+n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"model"),"name")}])),e.opts.autoescape),l+="\n                        </li>\n                        "):l+='\n                        <li>\n                            <a href="#" data-action="delete-comment">Delete</a>\n                        </li>\n                        ',l+="\n                    </ul>\n                </div>\n            "),l+="\n        </article>\n    </div>\n",o=r,new n.SafeString(l)});t.addExport("comment_item"),t.setVariable("comment_item",m),r+="\n",l?l.rootRenderFunc(e,t,o,n,i):i(null,r)})})})})})})}catch(e){i(n.handleError(e,a,s))}}return{root:e}}()}()},901:function(e,t,o){"use strict";var n=o(0),i=(o.n(n),o(13)),a=o(42);t.a=a.a.extend({model:i.a,endpoint:"/licenses",defaultOptions:function(){return{filters:new i.a}},queryParams:function(){return Object(n.extend)({},a.a.prototype.queryParams.apply(this,arguments),{free:this.options.filters.get("free")})}})},91:function(e,t,o){"use strict";function n(e){return r.a.extend({displayName:"Popup",mixins:[l.a],defaultOptions:e.prototype.defaultOptions,children:{componentWrapper:{selector:".js-popup-content",viewClass:a.a.extend({displayName:"PopupWrapper("+e.prototype.displayName+")",template:function(){return s.default.getFromString("{{ components.child | component }}",{components:this.createChildrenComponents({child:{viewClass:e,options:this.options}})})}}),options:function(){return Object(i.extend)({},this.options,{popup:{continue:this.continue.bind(this),cancel:this.cancel.bind(this),open:this.open.bind(this),close:this.close.bind(this),remove:this.remove.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),center:this.center.bind(this),resize:this.resize.bind(this),autofocus:this.autofocus.bind(this)}})}}},template:function(){return s.default.getFromString(['<div class="popup-container">','    <div class="popup-overlay"></div>','    <div class="js-popup js-popup-content"></div>',"</div>"].join("\n"),{})}})}t.a=n;var i=o(0),a=(o.n(i),o(6)),s=o(2),r=o(24),l=o(90)},92:function(e,t,o){"use strict";var n=o(6),i=o(2),a=o(1),s=o(154);o.n(s);t.a=n.a.extend({displayName:"Popup",optionTypes:{title:a.b.string.isRequired,child:a.b.component.isRequired,className:a.b.string,isClosable:a.b.bool,width:a.b.number},defaultOptions:{className:"",isClosable:!0},state:{},events:{},template:function(){return i.default.getFromMacro("skfb_front/macros/components/molecules/popup","popup",[{className:this.options.className,isClosable:this.options.isClosable,width:this.options.width,title:this.options.title,components:this.createChildrenComponents({child:this.options.child})}])}})},93:function(e,t,o){"use strict";var n=o(7),i=o(0),a=(o.n(i),o(3)),s=o.n(a),r=o(2),l=o(110),p=o(1),u=o(124);o.n(u);t.a=n.a.extend({displayName:"Notification",optionTypes:{parent:p.b.string,class:p.b.string,content:p.b.string,delay:p.b.number},defaultOptions:{parent:".flashmessage-container"},events:{'click [data-action="close"]':"onClickClose"},template:function(){return r.default.getFromMacro("skfb_front/macros/notification","flashmessage",[this.options.class,this.options.content,{safecontent:"True"}])},initialize:function(){n.a.prototype.initialize.apply(this,arguments),this.render(),this.options.delay&&this.close(this.options.delay)},render:function(){this.$el.html(Object(i.result)(this,"template")),s()(this.options.parent).append(this.$el);var e=this.$el.find(".notification");e.addClass("hidden"),Object(i.defer)(e.removeClass.bind(e,"hidden"))},onClickClose:function(e){e&&e.preventDefault&&e.preventDefault(),this.close(0)},close:function(e){var t=this;e=e||0;var o=this.$el.find(".notification");return setTimeout(function(){o.addClass("hidden"),Object(l.a)(o).then(function(){t.$el.parent()[0].removeChild(t.el)})},e),this}})},99:function(e,t,o){o(144),function(){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/grid.jinja"]=function(){function e(e,t,o,n,i){var a=null,s=null,r="";try{var l=null;e.getTemplate("skfb_front/macros/components/molecules/empty-states/default-empty-state.jinja",!1,"skfb_front/macros/grid.jinja",!1,function(p,u){if(p)return void i(p);u.getExported(function(p,u){if(p)return void i(p);if(!u.hasOwnProperty("default_empty_state"))return void i(new Error("cannot import 'default_empty_state'"));var c=u.default_empty_state;t.setVariable("default_empty_state",c),r+="\n\n";var d=n.makeMacro(["authUser","card"],["options"],function(i,r,l){var p=o;o=new n.Frame,l=l||{},l.hasOwnProperty("caller")&&o.set("caller",l.caller),o.set("authUser",i),o.set("card",r),o.set("options",l.hasOwnProperty("options")?l.options:{});var u="";if(u+="\n    ",!n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"emptyState")){u+="\n        ";var c;c=e.getFilter("merge").call(t,n.contextOrFrameLookup(t,o,"options"),{emptyState:(a=5,s=45,n.callWrap(n.contextOrFrameLookup(t,o,"default_empty_state"),"default_empty_state",t,[]))}),o.set("options",c,!0),o.topLevel&&t.setVariable("options",c),o.topLevel&&t.addExport("options",c),u+="\n    "}u+="\n    ";var d;d=e.getFilter("default").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"pageSize"),24),o.set("pageSize",d,!0),o.topLevel&&t.setVariable("pageSize",d),o.topLevel&&t.addExport("pageSize",d),u+="\n    ";var m;m=n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"externalPopulate"),o.set("externalPopulate",m,!0),o.topLevel&&t.setVariable("externalPopulate",m),o.topLevel&&t.addExport("externalPopulate",m),u+="\n    ";var h;if(h=e.getFilter("default").call(t,n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"infinite"),!0),o.set("infinite",h,!0),o.topLevel&&t.setVariable("infinite",h),o.topLevel&&t.addExport("infinite",h),u+="\n    ",n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"prefetch")){u+="\n\n        ";var f;f=0==e.getFilter("length").call(t,n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"prefetch"),"data"),"results")),o.set("isEmpty",f,!0),o.topLevel&&t.setVariable("isEmpty",f),o.topLevel&&t.addExport("isEmpty",f),u+="\n\n        ";var v;v=!n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"prefetch"),"data"),"previous")||n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"prefetch"),"data"),"previous")==n.contextOrFrameLookup(t,o,"null"),o.set("noMoreBefore",v,!0),o.topLevel&&t.setVariable("noMoreBefore",v),o.topLevel&&t.addExport("noMoreBefore",v),u+="\n        ";var b;if(b=n.contextOrFrameLookup(t,o,"isEmpty")||!n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"prefetch"),"data"),"next")||n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"prefetch"),"data"),"next")==n.contextOrFrameLookup(t,o,"null"),o.set("noMoreAfter",b,!0),o.topLevel&&t.setVariable("noMoreAfter",b),o.topLevel&&t.addExport("noMoreAfter",b),u+="\n\n        ",n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"prefetch"),"data"),"offset")){u+="\n            ";var g;g=e.getFilter("round").call(t,n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"prefetch"),"data"),"offset")/n.contextOrFrameLookup(t,o,"pageSize"),n.makeKeywordArgs({method:"floor"})),o.set("currentPage",g,!0),o.topLevel&&t.setVariable("currentPage",g),o.topLevel&&t.addExport("currentPage",g),u+="\n            ";var k;k=n.contextOrFrameLookup(t,o,"null"),o.set("cursor_next",k,!0),o.topLevel&&t.setVariable("cursor_next",k),o.topLevel&&t.addExport("cursor_next",k),u+="\n            ";var _;_=n.contextOrFrameLookup(t,o,"null"),o.set("cursor_previous",_,!0),o.topLevel&&t.setVariable("cursor_previous",_),o.topLevel&&t.addExport("cursor_previous",_),u+="\n        "}else{u+="\n            ";var w;w=n.contextOrFrameLookup(t,o,"null"),o.set("currentPage",w,!0),o.topLevel&&t.setVariable("currentPage",w),o.topLevel&&t.addExport("currentPage",w),u+="\n            ";var L;L=n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"prefetch"),"data"),"next"),o.set("cursor_next",L,!0),o.topLevel&&t.setVariable("cursor_next",L),o.topLevel&&t.addExport("cursor_next",L),u+="\n            ";var y;y=n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"prefetch"),"data"),"previous"),o.set("cursor_previous",y,!0),o.topLevel&&t.setVariable("cursor_previous",y),o.topLevel&&t.addExport("cursor_previous",y),u+="\n        "}u+="\n\n    "}else{u+="\n\n        ";var x;x=!0,o.set("externalPopulate",x,!0),o.topLevel&&t.setVariable("externalPopulate",x),o.topLevel&&t.addExport("externalPopulate",x),u+="\n        ";var O;O=!0,o.set("noMoreBefore",O,!0),o.topLevel&&t.setVariable("noMoreBefore",O),o.topLevel&&t.addExport("noMoreBefore",O),u+="\n        ";var F;F=!0,o.set("noMoreAfter",F,!0),o.topLevel&&t.setVariable("noMoreAfter",F),o.topLevel&&t.addExport("noMoreAfter",F),u+="\n\n    "}if(u+='\n\n    <div\n        class="grid',n.contextOrFrameLookup(t,o,"infinite")&&(u+=" infinite-grid"),n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"className")&&(u+=" ",u+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"className"),e.opts.autoescape)),n.contextOrFrameLookup(t,o,"isEmpty")&&(u+=" empty"),n.contextOrFrameLookup(t,o,"noMoreBefore")&&(u+=" no-more-before"),n.contextOrFrameLookup(t,o,"noMoreAfter")&&(u+=" no-more-after"),n.contextOrFrameLookup(t,o,"externalPopulate")&&(u+=" external-populate"),u+='"\n        data-is-offset-pagination="',!n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"prefetch")||n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"prefetch"),"data"),"offset")?u+="1":u+="0",u+='"\n        ',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"prefetch")&&(u+='\n            data-prefetch-query="',u+=n.suppressValue(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"prefetch"),"query"),e.opts.autoescape),u+='"\n            ',n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"prefetch"),"data"),"offset")==n.contextOrFrameLookup(t,o,"null")&&(u+='\n                data-cursor-previous="',u+=n.suppressValue(n.contextOrFrameLookup(t,o,"cursor_previous"),e.opts.autoescape),u+='"\n                data-cursor-next="',u+=n.suppressValue(n.contextOrFrameLookup(t,o,"cursor_next"),e.opts.autoescape),u+='"\n            '),u+="\n        "),u+='\n        data-first-page="',u+=n.suppressValue(n.contextOrFrameLookup(t,o,"currentPage"),e.opts.autoescape),u+='"\n        ',n.contextOrFrameLookup(t,o,"noMoreAfter")&&(u+=' data-last-page="',u+=n.suppressValue(n.contextOrFrameLookup(t,o,"currentPage"),e.opts.autoescape),u+='" '),u+='\n        data-page-size="',u+=n.suppressValue(n.contextOrFrameLookup(t,o,"pageSize"),e.opts.autoescape),u+='">\n\n        <div class="items-container">\n            <div class="spinner"></div>\n            <div class="empty-state-wrapper',(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"prefetch")&&e.getFilter("length").call(t,n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"prefetch"),"data"),"results"))||n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"isQueryFiltered"))&&(u+=" hidden"),u+='">\n                ',u+=n.suppressValue(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"emptyState"),e.opts.autoescape),u+='\n            </div>\n\n            <ul class="items">\n                ',n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"prefetch")){u+="\n                    ",o=o.push();var C=n.memberLookup(n.memberLookup(n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"prefetch"),"data"),"results");if(C)for(var S=C.length,V=0;V<C.length;V++){var P=C[V];o.set("item",P),o.set("loop.index",V+1),o.set("loop.index0",V),o.set("loop.revindex",S-V),o.set("loop.revindex0",S-V-1),o.set("loop.first",0===V),o.set("loop.last",V===S-1),o.set("loop.length",S),u+="\n                        ";var E;if(E=e.getFilter("merge").call(t,{},n.memberLookup(n.contextOrFrameLookup(t,o,"options"),"cardOptions")),o.set("cardOptions",E,!0),o.topLevel&&t.setVariable("cardOptions",E),o.topLevel&&t.addExport("cardOptions",E),u+="\n\n                        ",n.memberLookup(n.contextOrFrameLookup(t,o,"loop"),"index")<=9){u+="\n                            ";var j;j=e.getFilter("merge").call(t,{initialLoading:!0},n.contextOrFrameLookup(t,o,"cardOptions")),o.set("cardOptions",j,!0),o.topLevel&&t.setVariable("cardOptions",j),o.topLevel&&t.addExport("cardOptions",j),u+="\n                        "}u+='\n\n                        <li\n                            class="item ',n.memberLookup(n.contextOrFrameLookup(t,o,"cardOptions"),"deferImages")||(u+="--hidden"),u+=" ",n.memberLookup(n.contextOrFrameLookup(t,o,"cardOptions"),"initialAnimation")&&(u+="--initial-animation"),u+='"\n                            ',n.memberLookup(n.contextOrFrameLookup(t,o,"cardOptions"),"initialAnimation")&&(u+='\n                                style="-webkit-animation-delay: ',u+=n.suppressValue(e.getFilter("random_int").call(t,1200+n.memberLookup(n.contextOrFrameLookup(t,o,"loop"),"index")),e.opts.autoescape),u+="ms; animation-delay:",u+=n.suppressValue(e.getFilter("random_int").call(t,1200+n.memberLookup(n.contextOrFrameLookup(t,o,"loop"),"index")),e.opts.autoescape),u+='ms;"\n                            '),u+='\n                            data-uid="',u+=n.suppressValue(n.memberLookup(P,"uid"),e.opts.autoescape),u+='">\n                            ',u+=n.suppressValue((a=71,s=33,n.callWrap(r,"card",t,[i,P,n.contextOrFrameLookup(t,o,"cardOptions")])),e.opts.autoescape),u+="\n                        </li>\n                    "}o=o.pop(),u+="\n                "}return u+="\n            </ul>\n\n        </div>\n\n        ",n.contextOrFrameLookup(t,o,"infinite")&&(u+='\n\n            <button class="button btn-huge load-previous" data-action="load-previous">\n                Load previous items\n            </button>\n\n            <button class="button btn-huge btn-primary load-next" data-action="load-next">\n                Load more\n                <i class="icon fa fa-arrow-down can-scroll"></i>\n            </button>\n\n        '),u+="\n\n    </div>\n\n",o=p,new n.SafeString(u)});t.addExport("grid"),t.setVariable("grid",d),r+="\n",l?l.rootRenderFunc(e,t,o,n,i):i(null,r)})})}catch(e){i(n.handleError(e,a,s))}}return{root:e}}()}()}},[1748])});
//# sourceMappingURL=model-7581ba3ac4b3b5ca1891.js.map